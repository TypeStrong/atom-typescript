{"mappings":"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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","./node_modules/atom-package-deps/lib/index.js","./node_modules/atom-package-deps/lib/index-6660c169.js","./node_modules/@parcel/runtime-js/lib/JSRuntime.js","./node_modules/etch/lib/event-listener-props.js","./node_modules/etch/lib/dom.js","./node_modules/etch/lib/svg-tags.js","./node_modules/etch/lib/svg-attribute-translations.js","./node_modules/etch/lib/update-props.js","./node_modules/etch/lib/render.js","./node_modules/etch/lib/update-ref.js","./node_modules/etch/lib/patch.js","./node_modules/etch/lib/default-scheduler.js","./node_modules/etch/lib/scheduler-assignment.js","./node_modules/etch/lib/component-helpers.js","./node_modules/etch/lib/index.js","./lib/utils.ts","./node_modules/lodash/lodash.js","./lib/main/atom/utils/ts.ts","./lib/main/atom/utils/atom.ts","./lib/main/atom/views/outline/navTreeUtils.ts","./lib/main/atom/views/outline/navigationNodeComponent.tsx","./lib/main/atom/views/outline/navigationTreeComponent.tsx","./lib/main/atom/views/outline/semanticView.ts","./node_modules/byline/lib/byline.js","./lib/client/callbacks.ts","./lib/client/client.ts","./node_modules/jsonc-parser/lib/esm/impl/parser.js","./node_modules/jsonc-parser/lib/esm/impl/scanner.js","./node_modules/jsonc-parser/lib/esm/main.js","./node_modules/resolve/lib/async.js","./node_modules/resolve/lib/caller.js","./node_modules/path-parse/index.js","./node_modules/resolve/lib/node-modules-paths.js","./node_modules/resolve/lib/normalize-options.js","./node_modules/resolve/lib/core.js","./node_modules/resolve/lib/core.json","./node_modules/resolve/lib/is-core.js","./node_modules/resolve/index.js","./node_modules/resolve/lib/sync.js","./lib/client/resolveBinary.ts","./lib/client/clientResolver.ts","./lib/main/atom-ide/codeHighlightProvider.ts","./lib/main/atom/tooltips/tooltipRenderer.tsx","./lib/main/atom-ide/datatipProvider.tsx","./lib/main/atom-ide/definitionsProvider.ts","./lib/main/atom-ide/findReferencesProvider.ts","./lib/main/atom/components/tsView.tsx","./node_modules/fuzzaldrin/lib/scorer.js","./node_modules/fuzzaldrin/lib/filter.js","./node_modules/fuzzaldrin/lib/matcher.js","./node_modules/fuzzaldrin/lib/fuzzaldrin.js","./lib/main/atom/views/highlightComponent.tsx","./node_modules/atom-select-list/src/select-list-view.js","./node_modules/atom-select-list/node_modules/etch/lib/event-listener-props.js","./node_modules/atom-select-list/node_modules/etch/lib/dom.js","./node_modules/atom-select-list/node_modules/etch/lib/svg-tags.js","./node_modules/atom-select-list/node_modules/etch/lib/svg-attribute-translations.js","./node_modules/atom-select-list/node_modules/etch/lib/update-props.js","./node_modules/atom-select-list/node_modules/etch/lib/render.js","./node_modules/atom-select-list/node_modules/etch/lib/patch.js","./node_modules/atom-select-list/node_modules/etch/lib/default-scheduler.js","./node_modules/atom-select-list/node_modules/etch/lib/scheduler-assignment.js","./node_modules/atom-select-list/node_modules/etch/lib/component-helpers.js","./node_modules/atom-select-list/node_modules/etch/lib/index.js","./lib/main/atom/views/simpleSelectionView.tsx","./lib/main/atom/commands/registry.ts","./lib/main/atom/commands/findReferences.tsx","./lib/main/atom/commands/goToDeclaration.tsx","./lib/main/atom-ide/outlineProvider.ts","./lib/main/atom-ide/sigHelpProvider.ts","./lib/main/atom/codeActionTemplate.tsx","./lib/main/atom/autoCompleteProvider.ts","./lib/main/atom/commands/refactorCode.tsx","./lib/main/atom/codefix/codefixProvider.ts","./lib/main/atom/commands/initializeConfig.ts","./lib/main/atom/commands/build.ts","./lib/main/atom/commands/checkAllFiles.ts","./lib/main/atom/commands/clearErrors.ts","./lib/main/atom/commands/formatCode.ts","./lib/main/atom/commands/organizeImports.ts","./lib/main/atom/commands/reloadProjects.ts","./node_modules/underscore-plus/node_modules/underscore/underscore.js","./node_modules/underscore-plus/lib/underscore-plus.js","./node_modules/async/lib/async.js","./node_modules/mkdirp/index.js","./node_modules/fs.realpath/old.js","./node_modules/fs.realpath/index.js","./node_modules/concat-map/index.js","./node_modules/balanced-match/index.js","./node_modules/brace-expansion/index.js","./node_modules/minimatch/minimatch.js","./node_modules/inherits/inherits_browser.js","./node_modules/path-is-absolute/index.js","./node_modules/rimraf/node_modules/glob/common.js","./node_modules/rimraf/node_modules/glob/sync.js","./node_modules/wrappy/wrappy.js","./node_modules/once/once.js","./node_modules/inflight/inflight.js","./node_modules/rimraf/node_modules/glob/glob.js","./node_modules/rimraf/rimraf.js","./node_modules/fs-plus/lib/fs-plus.js","./lib/main/atom/components/miniEditor.ts","./lib/main/atom/views/renameView.tsx","./lib/main/atom/commands/index.ts","./lib/main/atom/commands/renameFile.ts","./lib/main/atom/commands/renameRefactor.ts","./lib/main/atom/commands/restartAllServers.ts","./lib/main/atom/commands/returnFromDeclaration.tsx","./lib/main/atom/commands/semanticView.ts","./lib/main/atom/commands/showTooltip.ts","./lib/main/atom/commands/sigHelp.ts","./lib/main/atom/commands/symbolsView.ts","./lib/main/atom/components/statusPanel/tooltip.tsx","./lib/main/atom/components/statusPanel/buildStatus.tsx","./lib/main/atom/components/statusPanel/configPath.tsx","./lib/main/atom/components/statusPanel/index.tsx","./lib/main/atom/editorPositionHistoryManager.tsx","./lib/main/atom/occurrence/controller.ts","./lib/main/atom/occurrence/manager.ts","./lib/main/atom/tooltips/util.ts","./lib/main/atom/sigHelp/tooltipView.tsx","./lib/main/atom/sigHelp/controller.ts","./lib/main/atom/sigHelp/manager.ts","./lib/main/atom/utils/element-listener.ts","./lib/main/atom/tooltips/tooltipView.tsx","./lib/main/atom/tooltips/controller.ts","./lib/main/atom/tooltips/manager.ts","./lib/main/atom/views/outline/semanticViewController.ts","./lib/main/atom/views/symbols/symbolsTag.ts","./lib/main/atom/views/symbols/generator.ts","./lib/main/atom/views/symbols/utils.ts","./lib/main/atom/views/symbols/fileSymbolsView.tsx","./lib/main/atom/views/symbols/symbolsViewController.ts","./lib/main/atom/views/symbols/projectSymbolsView.tsx","./lib/main/errorPusher.ts","./lib/main/typescriptBuffer.ts","./lib/main/typescriptEditorPane.ts","./lib/main/pluginManager.ts","./lib/main/atom/codefix/intentionsProvider.ts","./lib/main/atom-ide/codeActionsProvider.ts","./lib/main/atom-ide/hyperclickProvider.ts","./lib/main/atomts.ts"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n\nvar $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),require(\"assert\");var e=require(\"./index-6660c169.js\");require(\"fs\"),require(\"util\"),require(\"path\"),exports.install=e.installDependencies;\n//# sourceMappingURL=index.js.map\n","\"use strict\";function e(e){return e&&\"object\"==typeof e&&\"default\"in e?e.default:e}var r=e(require(\"assert\")),t=e(require(\"fs\")),s=e(require(\"util\")),i=e(require(\"path\"));function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function n(e,r,t){return e(t={path:r,exports:{},require:function(e,r){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==r&&t.path)}},t.exports),t.exports}var a=n((function(e,r){e.exports=function(e){for(var r=0;r<e.length;)if(9==e[r]||10==e[r]||13==e[r]||32<=e[r]&&e[r]<=126)r+=1;else if(194<=e[r]&&e[r]<=223&&128<=e[r+1]&&e[r+1]<=191)r+=2;else if(224==e[r]&&160<=e[r+1]&&e[r+1]<=191&&128<=e[r+2]&&e[r+2]<=191||(225<=e[r]&&e[r]<=236||238==e[r]||239==e[r])&&128<=e[r+1]&&e[r+1]<=191&&128<=e[r+2]&&e[r+2]<=191||237==e[r]&&128<=e[r+1]&&e[r+1]<=159&&128<=e[r+2]&&e[r+2]<=191)r+=3;else{if(!(240==e[r]&&144<=e[r+1]&&e[r+1]<=191&&128<=e[r+2]&&e[r+2]<=191&&128<=e[r+3]&&e[r+3]<=191||241<=e[r]&&e[r]<=243&&128<=e[r+1]&&e[r+1]<=191&&128<=e[r+2]&&e[r+2]<=191&&128<=e[r+3]&&e[r+3]<=191||244==e[r]&&128<=e[r+1]&&e[r+1]<=143&&128<=e[r+2]&&e[r+2]<=191&&128<=e[r+3]&&e[r+3]<=191))return!1;r+=4}return!0}})),E=e=>{if(!Buffer.isBuffer(e))throw new TypeError(\"Expected a Buffer, got \"+typeof e);return 239===e[0]&&187===e[1]&&191===e[2]&&a(e)?e.slice(3):e},l=o(n((function(e){var r=o(t),i=o(E);function o(e){return e&&e.__esModule?e:{default:e}}const n={},a=[\"Stats\",\"_toUnixTimestamp\",\"watch\",\"watchFile\",\"unwatchFile\"];Object.keys(r.default).forEach((function(e){const t=r.default[e];\"function\"!=typeof t||e.includes(\"Sync\")||e.includes(\"Stream\")||a.includes(e)?n[e]=t:n[e]=(0,s.promisify)(t)})),n.exists=function(e){return new Promise((function(t){r.default.access(e,r.default.R_OK,(function(e){t(null===e)}))}))},n.readFile=function(e,t){return new Promise((function(s,o){r.default.readFile(e,(function(e,r){if(e)return void o(e);let n=(0,i.default)(r);t&&(n=n.toString(t)),s(n)}))}))},e.exports=n})));var p={SEMVER_SPEC_VERSION:\"2.0.0\",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16};var c=\"object\"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\\bsemver\\b/i.test(process.env.NODE_DEBUG)?(...e)=>{}:()=>{},h=n((function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:t}=p,s=(r=e.exports={}).re=[],i=r.src=[],o=r.t={};let n=0;const a=(e,r,t)=>{const a=n++;c(a,r),o[e]=a,i[a]=r,s[a]=new RegExp(r,t?\"g\":void 0)};a(\"NUMERICIDENTIFIER\",\"0|[1-9]\\\\d*\"),a(\"NUMERICIDENTIFIERLOOSE\",\"[0-9]+\"),a(\"NONNUMERICIDENTIFIER\",\"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\"),a(\"MAINVERSION\",`(${i[o.NUMERICIDENTIFIER]})\\\\.(${i[o.NUMERICIDENTIFIER]})\\\\.(${i[o.NUMERICIDENTIFIER]})`),a(\"MAINVERSIONLOOSE\",`(${i[o.NUMERICIDENTIFIERLOOSE]})\\\\.(${i[o.NUMERICIDENTIFIERLOOSE]})\\\\.(${i[o.NUMERICIDENTIFIERLOOSE]})`),a(\"PRERELEASEIDENTIFIER\",`(?:${i[o.NUMERICIDENTIFIER]}|${i[o.NONNUMERICIDENTIFIER]})`),a(\"PRERELEASEIDENTIFIERLOOSE\",`(?:${i[o.NUMERICIDENTIFIERLOOSE]}|${i[o.NONNUMERICIDENTIFIER]})`),a(\"PRERELEASE\",`(?:-(${i[o.PRERELEASEIDENTIFIER]}(?:\\\\.${i[o.PRERELEASEIDENTIFIER]})*))`),a(\"PRERELEASELOOSE\",`(?:-?(${i[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${i[o.PRERELEASEIDENTIFIERLOOSE]})*))`),a(\"BUILDIDENTIFIER\",\"[0-9A-Za-z-]+\"),a(\"BUILD\",`(?:\\\\+(${i[o.BUILDIDENTIFIER]}(?:\\\\.${i[o.BUILDIDENTIFIER]})*))`),a(\"FULLPLAIN\",`v?${i[o.MAINVERSION]}${i[o.PRERELEASE]}?${i[o.BUILD]}?`),a(\"FULL\",`^${i[o.FULLPLAIN]}$`),a(\"LOOSEPLAIN\",`[v=\\\\s]*${i[o.MAINVERSIONLOOSE]}${i[o.PRERELEASELOOSE]}?${i[o.BUILD]}?`),a(\"LOOSE\",`^${i[o.LOOSEPLAIN]}$`),a(\"GTLT\",\"((?:<|>)?=?)\"),a(\"XRANGEIDENTIFIERLOOSE\",i[o.NUMERICIDENTIFIERLOOSE]+\"|x|X|\\\\*\"),a(\"XRANGEIDENTIFIER\",i[o.NUMERICIDENTIFIER]+\"|x|X|\\\\*\"),a(\"XRANGEPLAIN\",`[v=\\\\s]*(${i[o.XRANGEIDENTIFIER]})(?:\\\\.(${i[o.XRANGEIDENTIFIER]})(?:\\\\.(${i[o.XRANGEIDENTIFIER]})(?:${i[o.PRERELEASE]})?${i[o.BUILD]}?)?)?`),a(\"XRANGEPLAINLOOSE\",`[v=\\\\s]*(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:${i[o.PRERELEASELOOSE]})?${i[o.BUILD]}?)?)?`),a(\"XRANGE\",`^${i[o.GTLT]}\\\\s*${i[o.XRANGEPLAIN]}$`),a(\"XRANGELOOSE\",`^${i[o.GTLT]}\\\\s*${i[o.XRANGEPLAINLOOSE]}$`),a(\"COERCE\",`(^|[^\\\\d])(\\\\d{1,${t}})(?:\\\\.(\\\\d{1,${t}}))?(?:\\\\.(\\\\d{1,${t}}))?(?:$|[^\\\\d])`),a(\"COERCERTL\",i[o.COERCE],!0),a(\"LONETILDE\",\"(?:~>?)\"),a(\"TILDETRIM\",`(\\\\s*)${i[o.LONETILDE]}\\\\s+`,!0),r.tildeTrimReplace=\"$1~\",a(\"TILDE\",`^${i[o.LONETILDE]}${i[o.XRANGEPLAIN]}$`),a(\"TILDELOOSE\",`^${i[o.LONETILDE]}${i[o.XRANGEPLAINLOOSE]}$`),a(\"LONECARET\",\"(?:\\\\^)\"),a(\"CARETTRIM\",`(\\\\s*)${i[o.LONECARET]}\\\\s+`,!0),r.caretTrimReplace=\"$1^\",a(\"CARET\",`^${i[o.LONECARET]}${i[o.XRANGEPLAIN]}$`),a(\"CARETLOOSE\",`^${i[o.LONECARET]}${i[o.XRANGEPLAINLOOSE]}$`),a(\"COMPARATORLOOSE\",`^${i[o.GTLT]}\\\\s*(${i[o.LOOSEPLAIN]})$|^$`),a(\"COMPARATOR\",`^${i[o.GTLT]}\\\\s*(${i[o.FULLPLAIN]})$|^$`),a(\"COMPARATORTRIM\",`(\\\\s*)${i[o.GTLT]}\\\\s*(${i[o.LOOSEPLAIN]}|${i[o.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace=\"$1$2$3\",a(\"HYPHENRANGE\",`^\\\\s*(${i[o.XRANGEPLAIN]})\\\\s+-\\\\s+(${i[o.XRANGEPLAIN]})\\\\s*$`),a(\"HYPHENRANGELOOSE\",`^\\\\s*(${i[o.XRANGEPLAINLOOSE]})\\\\s+-\\\\s+(${i[o.XRANGEPLAINLOOSE]})\\\\s*$`),a(\"STAR\",\"(<|>)?=?\\\\s*\\\\*\"),a(\"GTE0\",\"^\\\\s*>=\\\\s*0.0.0\\\\s*$\"),a(\"GTE0PRE\",\"^\\\\s*>=\\\\s*0.0.0-0\\\\s*$\")}));const u=/^[0-9]+$/,$=(e,r)=>{const t=u.test(e),s=u.test(r);return t&&s&&(e=+e,r=+r),e===r?0:t&&!s?-1:s&&!t?1:e<r?-1:1};var I={compareIdentifiers:$,rcompareIdentifiers:(e,r)=>$(r,e)};const{MAX_LENGTH:R,MAX_SAFE_INTEGER:f}=p,{re:N,t:m}=h,{compareIdentifiers:O}=I;class L{constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof L){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(\"string\"!=typeof e)throw new TypeError(\"Invalid Version: \"+e);if(e.length>R)throw new TypeError(`version is longer than ${R} characters`);c(\"SemVer\",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const t=e.trim().match(r.loose?N[m.LOOSE]:N[m.FULL]);if(!t)throw new TypeError(\"Invalid Version: \"+e);if(this.raw=e,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>f||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>f||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>f||this.patch<0)throw new TypeError(\"Invalid patch version\");t[4]?this.prerelease=t[4].split(\".\").map(e=>{if(/^[0-9]+$/.test(e)){const r=+e;if(r>=0&&r<f)return r}return e}):this.prerelease=[],this.build=t[5]?t[5].split(\".\"):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=\"-\"+this.prerelease.join(\".\")),this.version}toString(){return this.version}compare(e){if(c(\"SemVer.compare\",this.version,this.options,e),!(e instanceof L)){if(\"string\"==typeof e&&e===this.version)return 0;e=new L(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof L||(e=new L(e,this.options)),O(this.major,e.major)||O(this.minor,e.minor)||O(this.patch,e.patch)}comparePre(e){if(e instanceof L||(e=new L(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const t=this.prerelease[r],s=e.prerelease[r];if(c(\"prerelease compare\",r,t,s),void 0===t&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===t)return-1;if(t!==s)return O(t,s)}while(++r)}compareBuild(e){e instanceof L||(e=new L(e,this.options));let r=0;do{const t=this.build[r],s=e.build[r];if(c(\"prerelease compare\",r,t,s),void 0===t&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===t)return-1;if(t!==s)return O(t,s)}while(++r)}inc(e,r){switch(e){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",r);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",r);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",r),this.inc(\"pre\",r);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",r),this.inc(\"pre\",r);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)\"number\"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(\"invalid increment argument: \"+e)}return this.format(),this.raw=this.version,this}}var T=L;var A=(e,r,t)=>new T(e,t).compare(new T(r,t));var v=(e,r,t)=>0===A(e,r,t);var d=(e,r,t)=>0!==A(e,r,t);var S=(e,r,t)=>A(e,r,t)>0;var P=(e,r,t)=>A(e,r,t)>=0;var w=(e,r,t)=>A(e,r,t)<0;var g=(e,r,t)=>A(e,r,t)<=0;var D=(e,r,t,s)=>{switch(r){case\"===\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof t&&(t=t.version),e===t;case\"!==\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof t&&(t=t.version),e!==t;case\"\":case\"=\":case\"==\":return v(e,t,s);case\"!=\":return d(e,t,s);case\">\":return S(e,t,s);case\">=\":return P(e,t,s);case\"<\":return w(e,t,s);case\"<=\":return g(e,t,s);default:throw new TypeError(\"Invalid operator: \"+r)}};const y=Symbol(\"SemVer ANY\");class G{static get ANY(){return y}constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof G){if(e.loose===!!r.loose)return e;e=e.value}c(\"comparator\",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===y?this.value=\"\":this.value=this.operator+this.semver.version,c(\"comp\",this)}parse(e){const r=this.options.loose?C[F.COMPARATORLOOSE]:C[F.COMPARATOR],t=e.match(r);if(!t)throw new TypeError(\"Invalid comparator: \"+e);this.operator=void 0!==t[1]?t[1]:\"\",\"=\"===this.operator&&(this.operator=\"\"),t[2]?this.semver=new T(t[2],this.options.loose):this.semver=y}toString(){return this.value}test(e){if(c(\"Comparator.test\",e,this.options.loose),this.semver===y||e===y)return!0;if(\"string\"==typeof e)try{e=new T(e,this.options)}catch(e){return!1}return D(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof G))throw new TypeError(\"a Comparator is required\");if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),\"\"===this.operator)return\"\"===this.value||new j(e.value,r).test(this.value);if(\"\"===e.operator)return\"\"===e.value||new j(this.value,r).test(e.semver);const t=!(\">=\"!==this.operator&&\">\"!==this.operator||\">=\"!==e.operator&&\">\"!==e.operator),s=!(\"<=\"!==this.operator&&\"<\"!==this.operator||\"<=\"!==e.operator&&\"<\"!==e.operator),i=this.semver.version===e.semver.version,o=!(\">=\"!==this.operator&&\"<=\"!==this.operator||\">=\"!==e.operator&&\"<=\"!==e.operator),n=D(this.semver,\"<\",e.semver,r)&&(\">=\"===this.operator||\">\"===this.operator)&&(\"<=\"===e.operator||\"<\"===e.operator),a=D(this.semver,\">\",e.semver,r)&&(\"<=\"===this.operator||\"<\"===this.operator)&&(\">=\"===e.operator||\">\"===e.operator);return t||s||i&&o||n||a}}var M=G;const{re:C,t:F}=h;class _{constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof _)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new _(e.raw,r);if(e instanceof M)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\\s*\\|\\|\\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(\"Invalid SemVer Range: \"+e);this.format()}format(){return this.range=this.set.map(e=>e.join(\" \").trim()).join(\"||\").trim(),this.range}toString(){return this.range}parseRange(e){const r=this.options.loose;e=e.trim();const t=r?X[b.HYPHENRANGELOOSE]:X[b.HYPHENRANGE];e=e.replace(t,ee(this.options.includePrerelease)),c(\"hyphen replace\",e),e=e.replace(X[b.COMPARATORTRIM],U),c(\"comparator trim\",e,X[b.COMPARATORTRIM]),e=(e=(e=e.replace(X[b.TILDETRIM],k)).replace(X[b.CARETTRIM],x)).split(/\\s+/).join(\" \");const s=r?X[b.COMPARATORLOOSE]:X[b.COMPARATOR];return e.split(\" \").map(e=>H(e,this.options)).join(\" \").split(/\\s+/).map(e=>W(e,this.options)).filter(this.options.loose?e=>!!e.match(s):()=>!0).map(e=>new M(e,this.options))}intersects(e,r){if(!(e instanceof _))throw new TypeError(\"a Range is required\");return this.set.some(t=>B(t,r)&&e.set.some(e=>B(e,r)&&t.every(t=>e.every(e=>t.intersects(e,r)))))}test(e){if(!e)return!1;if(\"string\"==typeof e)try{e=new T(e,this.options)}catch(e){return!1}for(let r=0;r<this.set.length;r++)if(re(this.set[r],e,this.options))return!0;return!1}}var j=_;const{re:X,t:b,comparatorTrimReplace:U,tildeTrimReplace:k,caretTrimReplace:x}=h,B=(e,r)=>{let t=!0;const s=e.slice();let i=s.pop();for(;t&&s.length;)t=s.every(e=>i.intersects(e,r)),i=s.pop();return t},H=(e,r)=>(c(\"comp\",e,r),e=z(e,r),c(\"caret\",e),e=q(e,r),c(\"tildes\",e),e=J(e,r),c(\"xrange\",e),e=Q(e,r),c(\"stars\",e),e),V=e=>!e||\"x\"===e.toLowerCase()||\"*\"===e,q=(e,r)=>e.trim().split(/\\s+/).map(e=>Y(e,r)).join(\" \"),Y=(e,r)=>{const t=r.loose?X[b.TILDELOOSE]:X[b.TILDE];return e.replace(t,(r,t,s,i,o)=>{let n;return c(\"tilde\",e,r,t,s,i,o),V(t)?n=\"\":V(s)?n=`>=${t}.0.0 <${+t+1}.0.0-0`:V(i)?n=`>=${t}.${s}.0 <${t}.${+s+1}.0-0`:o?(c(\"replaceTilde pr\",o),n=`>=${t}.${s}.${i}-${o} <${t}.${+s+1}.0-0`):n=`>=${t}.${s}.${i} <${t}.${+s+1}.0-0`,c(\"tilde return\",n),n})},z=(e,r)=>e.trim().split(/\\s+/).map(e=>Z(e,r)).join(\" \"),Z=(e,r)=>{c(\"caret\",e,r);const t=r.loose?X[b.CARETLOOSE]:X[b.CARET],s=r.includePrerelease?\"-0\":\"\";return e.replace(t,(r,t,i,o,n)=>{let a;return c(\"caret\",e,r,t,i,o,n),V(t)?a=\"\":V(i)?a=`>=${t}.0.0${s} <${+t+1}.0.0-0`:V(o)?a=\"0\"===t?`>=${t}.${i}.0${s} <${t}.${+i+1}.0-0`:`>=${t}.${i}.0${s} <${+t+1}.0.0-0`:n?(c(\"replaceCaret pr\",n),a=\"0\"===t?\"0\"===i?`>=${t}.${i}.${o}-${n} <${t}.${i}.${+o+1}-0`:`>=${t}.${i}.${o}-${n} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${o}-${n} <${+t+1}.0.0-0`):(c(\"no pr\"),a=\"0\"===t?\"0\"===i?`>=${t}.${i}.${o}${s} <${t}.${i}.${+o+1}-0`:`>=${t}.${i}.${o}${s} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${o} <${+t+1}.0.0-0`),c(\"caret return\",a),a})},J=(e,r)=>(c(\"replaceXRanges\",e,r),e.split(/\\s+/).map(e=>K(e,r)).join(\" \")),K=(e,r)=>{e=e.trim();const t=r.loose?X[b.XRANGELOOSE]:X[b.XRANGE];return e.replace(t,(t,s,i,o,n,a)=>{c(\"xRange\",e,t,s,i,o,n,a);const E=V(i),l=E||V(o),p=l||V(n),h=p;return\"=\"===s&&h&&(s=\"\"),a=r.includePrerelease?\"-0\":\"\",E?t=\">\"===s||\"<\"===s?\"<0.0.0-0\":\"*\":s&&h?(l&&(o=0),n=0,\">\"===s?(s=\">=\",l?(i=+i+1,o=0,n=0):(o=+o+1,n=0)):\"<=\"===s&&(s=\"<\",l?i=+i+1:o=+o+1),\"<\"===s&&(a=\"-0\"),t=`${s+i}.${o}.${n}${a}`):l?t=`>=${i}.0.0${a} <${+i+1}.0.0-0`:p&&(t=`>=${i}.${o}.0${a} <${i}.${+o+1}.0-0`),c(\"xRange return\",t),t})},Q=(e,r)=>(c(\"replaceStars\",e,r),e.trim().replace(X[b.STAR],\"\")),W=(e,r)=>(c(\"replaceGTE0\",e,r),e.trim().replace(X[r.includePrerelease?b.GTE0PRE:b.GTE0],\"\")),ee=e=>(r,t,s,i,o,n,a,E,l,p,c,h,u)=>`${t=V(s)?\"\":V(i)?`>=${s}.0.0${e?\"-0\":\"\"}`:V(o)?`>=${s}.${i}.0${e?\"-0\":\"\"}`:n?\">=\"+t:`>=${t}${e?\"-0\":\"\"}`} ${E=V(l)?\"\":V(p)?`<${+l+1}.0.0-0`:V(c)?`<${l}.${+p+1}.0-0`:h?`<=${l}.${p}.${c}-${h}`:e?`<${l}.${p}.${+c+1}-0`:\"<=\"+E}`.trim(),re=(e,r,t)=>{for(let t=0;t<e.length;t++)if(!e[t].test(r))return!1;if(r.prerelease.length&&!t.includePrerelease){for(let t=0;t<e.length;t++)if(c(e[t].semver),e[t].semver!==M.ANY&&e[t].semver.prerelease.length>0){const s=e[t].semver;if(s.major===r.major&&s.minor===r.minor&&s.patch===r.patch)return!0}return!1}return!0};var te=(e,r,t)=>{try{r=new j(r,t)}catch(e){return!1}return r.test(e)};const se=/(.*?):.*/,ie=/(.*?)#.*/;void 0===window.__steelbrain_package_deps&&(window.__steelbrain_package_deps=new Set),exports.fs=l,exports.installDependencies=async function(e,t=!0){r(e,\"[Package-Deps] Package name is required\");const s=await async function(e){const r=atom.packages.getLoadedPackage(e),t=r&&r.metadata[\"package-deps\"];return Array.isArray(t)?(await Promise.all(t.map((async function(e){let r=null,t=e,s=null;const o=se.exec(e),n=ie.exec(e);if(o?[,t,s]=o:n?[,t,r]=n:t=e,__steelbrain_package_deps.has(t))return null;const a=atom.packages.resolvePackagePath(t);if(a){if(!s)return null;const e=JSON.parse(await l.readFile(i.join(a,\"package.json\")));if(null!=e&&null!=e.version&&te(e.version,\">=\"+s))return null}return __steelbrain_package_deps.add(t),{name:t,url:r}})))).filter(Boolean):[]}(e);if(s.length){if(t){let r=\"Yes\";if(await Promise.resolve().then((function(){return require(\"./prompt-afef23e0.js\")})).then(async({promptUser:t})=>{r=await t(e,s)}),\"Yes\"!==r)return}await Promise.resolve().then((function(){return require(\"./install-03586186.js\")})).then(async({performInstall:r})=>r(e,s))}};\n//# sourceMappingURL=index-6660c169.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _plugin() {\n  const data = require(\"@parcel/plugin\");\n\n  _plugin = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _utils() {\n  const data = require(\"@parcel/utils\");\n\n  _utils = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _nullthrows() {\n  const data = _interopRequireDefault(require(\"nullthrows\"));\n\n  _nullthrows = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// List of browsers that support dynamic import natively\n// https://caniuse.com/#feat=es6-module-dynamic-import\nconst DYNAMIC_IMPORT_BROWSERS = {\n  edge: '76',\n  firefox: '67',\n  chrome: '63',\n  safari: '11.1',\n  opera: '50'\n}; // Used for as=\"\" in preload/prefetch\n\nconst TYPE_TO_RESOURCE_PRIORITY = {\n  css: 'style',\n  js: 'script'\n};\nconst BROWSER_PRELOAD_LOADER = './loaders/browser/preload-loader';\nconst BROWSER_PREFETCH_LOADER = './loaders/browser/prefetch-loader';\nconst LOADERS = {\n  browser: {\n    css: './loaders/browser/css-loader',\n    html: './loaders/browser/html-loader',\n    js: './loaders/browser/js-loader',\n    wasm: './loaders/browser/wasm-loader',\n    IMPORT_POLYFILL: './loaders/browser/import-polyfill'\n  },\n  worker: {\n    js: './loaders/worker/js-loader',\n    wasm: './loaders/worker/wasm-loader',\n    IMPORT_POLYFILL: false\n  },\n  node: {\n    css: './loaders/node/css-loader',\n    html: './loaders/node/html-loader',\n    js: './loaders/node/js-loader',\n    wasm: './loaders/node/wasm-loader',\n    IMPORT_POLYFILL: null\n  }\n};\n\nfunction getLoaders(ctx) {\n  if (ctx.isWorker()) return LOADERS.worker;\n  if (ctx.isBrowser()) return LOADERS.browser;\n  if (ctx.isNode()) return LOADERS.node;\n  return null;\n}\n\nvar _default = new (_plugin().Runtime)({\n  apply({\n    bundle,\n    bundleGraph,\n    options\n  }) {\n    // Dependency ids in code replaced with referenced bundle names\n    // Loader runtime added for bundle groups that don't have a native loader (e.g. HTML/CSS/Worker - isURL?),\n    // and which are not loaded by a parent bundle.\n    // Loaders also added for modules that were moved to a separate bundle because they are a different type\n    // (e.g. WASM, HTML). These should be preloaded prior to the bundle being executed. Replace the entry asset(s)\n    // with the preload module.\n    if (bundle.type !== 'js') {\n      return;\n    }\n\n    let asyncDependencies = [];\n    let otherDependencies = [];\n    bundle.traverse(node => {\n      if (node.type !== 'dependency') {\n        return;\n      }\n\n      let dependency = node.value;\n\n      if (dependency.isAsync && !dependency.isURL) {\n        asyncDependencies.push(dependency);\n      } else {\n        otherDependencies.push(dependency);\n      }\n    });\n    let assets = [];\n\n    for (let dependency of asyncDependencies) {\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if (resolved == null) {\n        continue;\n      }\n\n      if (resolved.type === 'asset') {\n        // If this bundle already has the asset this dependency references,\n        // return a simple runtime of `Promise.resolve(require(\"path/to/asset\"))`.\n        assets.push({\n          filePath: _path().default.join(options.projectRoot, 'JSRuntime.js'),\n          // Using Promise['resolve'] to prevent Parcel from inferring this is an async dependency.\n          // TODO: Find a better way of doing this.\n          code: `module.exports = Promise['resolve'](require(${JSON.stringify('./' + _path().default.relative(options.projectRoot, resolved.value.filePath))}))`,\n          dependency\n        });\n      } else {\n        let loaderRuntime = getLoaderRuntime({\n          bundle,\n          dependency,\n          bundleGraph,\n          bundleGroup: resolved.value\n        });\n\n        if (loaderRuntime != null) {\n          assets.push(loaderRuntime);\n        }\n      }\n    }\n\n    for (let dependency of otherDependencies) {\n      // Resolve the dependency to a bundle. If inline, export the dependency id,\n      // which will be replaced with the contents of that bundle later.\n      let referencedBundle = bundleGraph.getReferencedBundle(dependency, bundle);\n\n      if (referencedBundle === null || referencedBundle === void 0 ? void 0 : referencedBundle.isInline) {\n        assets.push({\n          filePath: _path().default.join(__dirname, `/bundles/${referencedBundle.id}.js`),\n          code: `module.exports = ${JSON.stringify(dependency.id)};`,\n          dependency\n        });\n        continue;\n      } // Otherwise, try to resolve the dependency to an external bundle group\n      // and insert a URL to that bundle.\n\n\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if (dependency.isURL && resolved == null) {\n        // If a URL dependency was not able to be resolved, add a runtime that\n        // exports the original moduleSpecifier.\n        assets.push({\n          filePath: __filename,\n          code: `module.exports = ${JSON.stringify(dependency.moduleSpecifier)}`,\n          dependency\n        });\n        continue;\n      }\n\n      if (resolved == null || resolved.type !== 'bundle_group') {\n        continue;\n      }\n\n      let bundleGroup = resolved.value;\n      let mainBundle = (0, _nullthrows().default)(bundleGraph.getBundlesInBundleGroup(bundleGroup).find(b => {\n        let entries = b.getEntryAssets();\n        return entries.some(e => bundleGroup.entryAssetId === e.id);\n      }));\n\n      if (bundle.env.outputFormat === 'commonjs' && mainBundle.type === 'js') {\n        assets.push({\n          filePath: __filename,\n          dependency,\n          code: `module.exports = require(\"./\" + ${getRelativePathExpr(bundle, mainBundle)})`\n        });\n        continue;\n      } // URL dependency or not, fall back to including a runtime that exports the url\n\n\n      assets.push(getURLRuntime(dependency, bundle, mainBundle));\n    }\n\n    if (shouldUseRuntimeManifest(bundle) && bundleGraph.getChildBundles(bundle).length > 0 && isNewContext(bundle, bundleGraph)) {\n      assets.push({\n        filePath: __filename,\n        code: getRegisterCode(bundle, bundleGraph),\n        isEntry: true\n      });\n    }\n\n    return assets;\n  }\n\n});\n\nexports.default = _default;\n\nfunction getLoaderRuntime({\n  bundle,\n  dependency,\n  bundleGroup,\n  bundleGraph\n}) {\n  let loaders = getLoaders(bundle.env);\n\n  if (loaders == null) {\n    return;\n  } // Sort so the bundles containing the entry asset appear last\n\n\n  let externalBundles = bundleGraph.getBundlesInBundleGroup(bundleGroup).filter(bundle => !bundle.isInline).sort(bundle => bundle.getEntryAssets().map(asset => asset.id).includes(bundleGroup.entryAssetId) ? 1 : -1); // CommonJS is a synchronous module system, so there is no need to load bundles in parallel.\n  // Importing of the other bundles will be handled by the bundle group entry.\n  // Do the same thing in library mode for ES modules, as we are building for another bundler\n  // and the imports for sibling bundles will be in the target bundle.\n\n  if (bundle.env.outputFormat === 'commonjs' || bundle.env.isLibrary) {\n    externalBundles = externalBundles.slice(-1);\n  } // Determine if we need to add a dynamic import() polyfill, or if all target browsers support it natively.\n\n\n  let needsDynamicImportPolyfill = false;\n\n  if (bundle.env.isBrowser() && bundle.env.outputFormat === 'esmodule') {\n    needsDynamicImportPolyfill = !bundle.env.matchesEngines(DYNAMIC_IMPORT_BROWSERS);\n  }\n\n  let loaderModules = externalBundles.map(to => {\n    let loader = loaders[to.type];\n\n    if (!loader) {\n      return;\n    }\n\n    let relativePathExpr = getRelativePathExpr(bundle, to); // Use esmodule loader if possible\n\n    if (to.type === 'js' && to.env.outputFormat === 'esmodule') {\n      if (!needsDynamicImportPolyfill) {\n        return `import(\"./\" + ${relativePathExpr})`;\n      }\n\n      loader = (0, _nullthrows().default)(loaders.IMPORT_POLYFILL, `No import() polyfill available for context '${bundle.env.context}'`);\n    } else if (to.type === 'js' && to.env.outputFormat === 'commonjs') {\n      return `Promise.resolve(require(\"./\" + ${relativePathExpr}))`;\n    }\n\n    return `require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr})`;\n  }).filter(Boolean);\n\n  if (bundle.env.context === 'browser') {\n    loaderModules.push(...(0, _utils().flatMap)( // TODO: Allow css to preload resources as well\n    externalBundles.filter(to => to.type === 'js'), from => {\n      let {\n        preload,\n        prefetch\n      } = getHintedBundleGroups(bundleGraph, from);\n      return [...getHintLoaders(bundleGraph, bundle, preload, BROWSER_PRELOAD_LOADER), ...getHintLoaders(bundleGraph, bundle, prefetch, BROWSER_PREFETCH_LOADER)];\n    }));\n  }\n\n  if (loaderModules.length === 0) {\n    return;\n  }\n\n  let loaderCode = loaderModules.join(', ');\n\n  if (loaderModules.length > 1 && (bundle.env.outputFormat === 'global' || !externalBundles.every(b => b.type === 'js'))) {\n    loaderCode = `Promise.all([${loaderCode}])`;\n\n    if (bundle.env.outputFormat !== 'global') {\n      loaderCode += `.then(r => r[r.length - 1])`;\n    }\n  } else {\n    loaderCode = `(${loaderCode})`;\n  }\n\n  if (bundle.env.outputFormat === 'global') {\n    loaderCode += `.then(() => parcelRequire('${bundleGraph.getAssetPublicId(bundleGraph.getAssetById(bundleGroup.entryAssetId))}')${// In global output with scope hoisting, functions return exports are\n    // always returned. Otherwise, the exports are returned.\n    bundle.env.scopeHoist ? '()' : ''})`;\n  }\n\n  return {\n    filePath: __filename,\n    code: `module.exports = ${loaderCode};`,\n    dependency\n  };\n}\n\nfunction getHintedBundleGroups(bundleGraph, bundle) {\n  let preload = [];\n  let prefetch = [];\n  bundle.traverse(node => {\n    var _dependency$meta;\n\n    if (node.type !== 'dependency') {\n      return;\n    }\n\n    let dependency = node.value; // $FlowFixMe\n\n    let attributes = (_dependency$meta = dependency.meta) === null || _dependency$meta === void 0 ? void 0 : _dependency$meta.importAttributes;\n\n    if (dependency.isAsync && !dependency.isURL && typeof attributes === 'object' && attributes != null && ( // $FlowFixMe\n    attributes.preload || attributes.prefetch)) {\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if ((resolved === null || resolved === void 0 ? void 0 : resolved.type) === 'bundle_group') {\n        // === true for flow\n        if (attributes.preload === true) {\n          preload.push(resolved.value);\n        }\n\n        if (attributes.prefetch === true) {\n          prefetch.push(resolved.value);\n        }\n      }\n    }\n  });\n  return {\n    preload,\n    prefetch\n  };\n}\n\nfunction getHintLoaders(bundleGraph, from, bundleGroups, loader) {\n  let hintLoaders = [];\n\n  for (let bundleGroupToPreload of bundleGroups) {\n    let bundlesToPreload = bundleGraph.getBundlesInBundleGroup(bundleGroupToPreload);\n\n    for (let bundleToPreload of bundlesToPreload) {\n      let relativePathExpr = getRelativePathExpr(from, bundleToPreload);\n      let priority = TYPE_TO_RESOURCE_PRIORITY[bundleToPreload.type];\n      hintLoaders.push(`require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr}, ${priority ? JSON.stringify(priority) : 'null'}, ${JSON.stringify(bundleToPreload.target.env.outputFormat === 'esmodule')})`);\n    }\n  }\n\n  return hintLoaders;\n}\n\nfunction isNewContext(bundle, bundleGraph) {\n  let parents = bundleGraph.getParentBundles(bundle);\n  return bundle.isEntry || parents.length === 0 || parents.some(parent => parent.env.context !== bundle.env.context || parent.type !== 'js');\n}\n\nfunction getURLRuntime(dependency, from, to) {\n  let relativePathExpr = getRelativePathExpr(from, to);\n\n  if (dependency.meta.webworker === true) {\n    return {\n      filePath: __filename,\n      code: `module.exports = require('./get-worker-url')(${relativePathExpr});`,\n      dependency\n    };\n  }\n\n  return {\n    filePath: __filename,\n    code: `module.exports = require('./bundle-url').getBundleURL() + ${relativePathExpr}`,\n    dependency\n  };\n}\n\nfunction getRegisterCode(entryBundle, bundleGraph) {\n  let idToName = {};\n  bundleGraph.traverseBundles((bundle, _, actions) => {\n    if (bundle.isInline) {\n      return;\n    }\n\n    idToName[bundle.publicId] = (0, _nullthrows().default)(bundle.name);\n\n    if (bundle !== entryBundle && isNewContext(bundle, bundleGraph)) {\n      // New contexts have their own manifests, so there's no need to continue.\n      actions.skipChildren();\n    }\n  }, entryBundle);\n  return \"require('./bundle-manifest').register(JSON.parse(\" + JSON.stringify(JSON.stringify(idToName)) + '));';\n}\n\nfunction getRelativePathExpr(from, to) {\n  if (shouldUseRuntimeManifest(from)) {\n    return `require('./relative-path')(${JSON.stringify(from.publicId)}, ${JSON.stringify(to.publicId)})`;\n  }\n\n  return JSON.stringify((0, _utils().relativeBundlePath)(from, to, {\n    leadingDotSlash: false\n  }));\n}\n\nfunction shouldUseRuntimeManifest(bundle) {\n  let env = bundle.env;\n  return !env.isLibrary && env.outputFormat === 'global' && env.isBrowser();\n}","module.exports = {\n  onCopy: 'copy',\n  onCut: 'cut',\n  onPaste: 'paste',\n  onCompositionEnd: 'compositionend',\n  onCompositionStart: 'compositionstart',\n  onCompositionUpdate: 'compositionupdate',\n  onKeyDown: 'keydown',\n  onKeyPress: 'keypress',\n  onKeyUp: 'keyup',\n  onFocus: 'focus',\n  onBlur: 'blur',\n  onChange: 'change',\n  onInput: 'input',\n  onSubmit: 'submit',\n  onClick: 'click',\n  onContextMenu: 'contextmenu',\n  onDoubleClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragEnter: 'dragenter',\n  onDragExit: 'dragexit',\n  onDragLeave: 'dragleave',\n  onDragOver: 'dragover',\n  onDragStart: 'dragstart',\n  onDrop: 'drop',\n  onMouseDown: 'mousedown',\n  onMouseEnter: 'mouseenter',\n  onMouseLeave: 'mouseleave',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onSelect: 'select',\n  onTouchCancel: 'touchcancel',\n  onTouchEnd: 'touchend',\n  onTouchMove: 'touchmove',\n  onTouchStart: 'touchstart',\n  onScroll: 'scroll',\n  onWheel: 'wheel',\n  onAbort: 'abort',\n  onCanPlay: 'canplay',\n  onCanPlayThrough: 'canplaythrough',\n  onDurationChange: 'durationchange',\n  onEmptied: 'emptied',\n  onEncrypted: 'encrypted',\n  onEnded: 'ended',\n  onError: 'error',\n  onLoadedData: 'loadeddata',\n  onLoadedMetadata: 'loadedmetadata',\n  onLoadStart: 'loadstart',\n  onPause: 'pause',\n  onPlay: 'play',\n  onPlaying: 'playing',\n  onProgress: 'progress',\n  onRateChange: 'ratechange',\n  onSeeked: 'seeked',\n  onSeeking: 'seeking',\n  onStalled: 'stalled',\n  onSuspend: 'suspend',\n  onTimeUpdate: 'timeupdate',\n  onVolumeChange: 'volumechange',\n  onWaiting: 'waiting',\n  onLoad: 'load',\n  onAnimationStart: 'animationstart',\n  onAnimationEnd: 'animationend',\n  onAnimationIteration: 'animationiteration',\n  onTransitionEnd: 'transitionend'\n}\n","const EVENT_LISTENER_PROPS = require('./event-listener-props')\nconst SVG_TAGS = require('./svg-tags')\n\nfunction dom (tag, props, ...children) {\n  let ambiguous = []\n\n  for (let i = 0; i < children.length;) {\n    const child = children[i]\n    switch (typeof child) {\n      case 'string':\n      case 'number':\n        children[i] = {text: child}\n        i++\n        break;\n\n      case 'object':\n        if (Array.isArray(child)) {\n          children.splice(i, 1, ...child)\n        } else if (!child) {\n          children.splice(i, 1)\n        } else {\n          if (!child.context) {\n            ambiguous.push(child)\n            if (child.ambiguous && child.ambiguous.length) {\n              ambiguous = ambiguous.concat(child.ambiguous)\n            }\n          }\n          i++\n        }\n        break;\n\n      default:\n        throw new Error(`Invalid child node: ${child}`)\n    }\n  }\n\n  if (props) {\n    for (const propName in props) {\n      const eventName = EVENT_LISTENER_PROPS[propName]\n      if (eventName) {\n        if (!props.on) props.on = {}\n        props.on[eventName] = props[propName]\n      }\n    }\n\n    if (props.class) {\n      props.className = props.class\n    }\n  }\n\n  return {tag, props, children, ambiguous}\n}\n\nconst HTML_TAGS = [\n  'a', 'abbr', 'address', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo',\n  'blockquote', 'body', 'button', 'canvas', 'caption', 'cite', 'code',\n  'colgroup', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl',\n  'dt', 'em', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2',\n  'h3', 'h4', 'h5', 'h6', 'head', 'header', 'html', 'i', 'iframe', 'ins', 'kbd',\n  'label', 'legend', 'li', 'main', 'map', 'mark', 'menu', 'meter', 'nav',\n  'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'pre',\n  'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section',\n  'select', 'small', 'span', 'strong', 'style', 'sub', 'summary', 'sup',\n  'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title',\n  'tr', 'u', 'ul', 'var', 'video', 'area', 'base', 'br', 'col', 'command',\n  'embed', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source',\n  'track', 'wbr'\n]\n\nfor (const tagName of HTML_TAGS) {\n  dom[tagName] = (props, ...children) => {\n    return dom(tagName, props, ...children)\n  }\n}\n\nfor (const tagName of SVG_TAGS) {\n  dom[tagName] = (props, ...children) => {\n    return dom(tagName, props, ...children)\n  }\n}\n\n\nmodule.exports = dom\n","// taken from https://github.com/facebook/react/blob/67f8524e88abbf1ac0fd86d38a0477d11fbc7b3e/src/isomorphic/classic/element/ReactDOMFactories.js#L153\nmodule.exports = new Set([\n  'circle',\n  'clipPath',\n  'defs',\n  'ellipse',\n  'g',\n  'image',\n  'line',\n  'linearGradient',\n  'mask',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialGradient',\n  'rect',\n  'stop',\n  'svg',\n  'text',\n  'tspan'\n])\n","// Based on https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute\nmodule.exports = new Map([\n  ['accentHeight', 'accent-height'],\n  ['alignmentBaseline', 'alignment-baseline'],\n  ['arabicForm', 'arabic-form'],\n  ['baselineShift', 'baseline-shift'],\n  ['capHeight', 'cap-height'],\n  ['className', 'class'],\n  ['clipPath', 'clip-path'],\n  ['clipRule', 'clip-rule'],\n  ['colorInterpolation', 'color-interpolation'],\n  ['colorInterpolationFilters', 'color-interpolation-filters'],\n  ['colorProfile', 'color-profile'],\n  ['colorRendering', 'color-rendering'],\n  ['dominantBaseline', 'dominant-baseline'],\n  ['enableBackground', 'enable-background'],\n  ['fillOpacity', 'fill-opacity'],\n  ['fillRule', 'fill-rule'],\n  ['floodColor', 'flood-color'],\n  ['floodOpacity', 'flood-opacity'],\n  ['fontFamily', 'font-family'],\n  ['fontSize', 'font-size'],\n  ['fontSizeAdjust', 'font-size-adjust'],\n  ['fontStretch', 'font-stretch'],\n  ['fontStyle', 'font-style'],\n  ['fontVariant', 'font-variant'],\n  ['fontWeight', 'font-weight'],\n  ['glyphName', 'glyph-name'],\n  ['glyphOrientationHorizontal', 'glyph-orientation-horizontal'],\n  ['glyphOrientationVertical', 'glyph-orientation-vertical'],\n  ['horizAdvX', 'horiz-adv-x'],\n  ['horizOriginX', 'horiz-origin-x'],\n  ['letterSpacing', 'letter-spacing'],\n  ['lightingColor', 'lighting-color'],\n  ['markerEnd', 'marker-end'],\n  ['markerMid', 'marker-mid'],\n  ['markerStart', 'marker-start'],\n  ['overlinePosition', 'overline-position'],\n  ['overlineThickness', 'overline-thickness'],\n  ['panose1', 'panose-1'],\n  ['paintOrder', 'paint-order'],\n  ['pointerEvents', 'pointer-events'],\n  ['renderingIntent', 'rendering-intent'],\n  ['shapeRendering', 'shape-rendering'],\n  ['stopColor', 'stop-color'],\n  ['stopOpacity', 'stop-opacity'],\n  ['strikethroughPosition', 'strikethrough-position'],\n  ['strikethroughThickness', 'strikethrough-thickness'],\n  ['strokeDasharray', 'stroke-dasharray'],\n  ['strokeDashoffset', 'stroke-dashoffset'],\n  ['strokeLinecap', 'stroke-linecap'],\n  ['strokeLinejoin', 'stroke-linejoin'],\n  ['strokeMiterlimit', 'stroke-miterlimit'],\n  ['strokeOpacity', 'stroke-opacity'],\n  ['strokeWidth', 'stroke-width'],\n  ['textAnchor', 'text-anchor'],\n  ['textDecoration', 'text-decoration'],\n  ['textRendering', 'text-rendering'],\n  ['underlinePosition', 'underline-position'],\n  ['underlineThickness', 'underline-thickness'],\n  ['unicodeBidi', 'unicode-bidi'],\n  ['unicodeRange', 'unicode-range'],\n  ['unitsPerEm', 'units-per-em'],\n  ['vAlphabetic', 'v-alphabetic'],\n  ['vHanging', 'v-hanging'],\n  ['vIdeographic', 'v-ideographic'],\n  ['vMathematical', 'v-mathematical'],\n  ['vertAdvY', 'vert-adv-y'],\n  ['vertOriginX', 'vert-origin-x'],\n  ['vertOriginY', 'vert-origin-y'],\n  ['wordSpacing', 'word-spacing'],\n  ['writingMode', 'writing-mode'],\n  ['xHeight', 'x-height'],\n])\n","const EVENT_LISTENER_PROPS = require('./event-listener-props')\nconst SVG_TAGS = require('./svg-tags')\nconst SVG_ATTRIBUTE_TRANSLATIONS = require('./svg-attribute-translations')\nconst EMPTY = ''\n\nconst updateRef = require('./update-ref')\n\nmodule.exports = function (domNode, oldVirtualNode, newVirtualNode, options) {\n  const oldProps = oldVirtualNode && oldVirtualNode.props\n  const newProps = newVirtualNode.props\n\n  let refs, listenerContext\n  if (options) {\n    refs = options.refs\n    listenerContext = options.listenerContext\n  }\n  updateProps(domNode, oldVirtualNode, oldProps, newVirtualNode, newProps)\n  if (refs) updateRef(domNode, oldProps && oldProps.ref, newProps && newProps.ref, refs)\n  updateEventListeners(domNode, oldVirtualNode, newVirtualNode, listenerContext)\n}\n\n// Using var to avoid \"Unsupported phi use of variable\" deoptimization in Chrome 56\nfunction updateProps (domNode, oldVirtualNode, oldProps, newVirtualNode, newProps) {\n  if (oldProps) {\n    for (var name in oldProps) {\n      if (name === 'ref' || name === 'on') continue\n      if (name in EVENT_LISTENER_PROPS) continue\n      if (!newProps || !(name in newProps)) {\n        if (name === 'dataset') {\n          updateProps(domNode.dataset, null, oldProps && oldProps.dataset, null, null)\n        } else if (name !== 'innerHTML' && oldVirtualNode && SVG_TAGS.has(oldVirtualNode.tag)) {\n          domNode.removeAttribute(SVG_ATTRIBUTE_TRANSLATIONS.get(name) || name)\n        } else {\n          // Clear property for objects that don't support deletion (e.g. style\n          // or className). If we used null instead of an empty string, the DOM\n          // could sometimes stringify the value and mistakenly assign 'null'.\n          domNode[name] = EMPTY\n          delete domNode[name]\n        }\n      }\n    }\n  }\n\n  if (newProps) {\n    for (var name in newProps) {\n      if (name === 'ref' || name === 'on') continue\n      if (name in EVENT_LISTENER_PROPS) continue\n      var oldValue = oldProps && oldProps[name]\n      var newValue = newProps[name]\n      if (name === 'dataset') {\n        updateNestedProps(domNode.dataset, oldValue, newValue, false)\n      } else if (name === 'style' && typeof newValue !== 'string') {\n        if (typeof oldValue === 'string') {\n          domNode.style = ''\n          oldValue = null\n        }\n        updateNestedProps(domNode.style, oldValue, newValue, true)\n      } else if (name === 'attributes') {\n        updateAttributes(domNode, oldValue, newValue)\n      } else {\n        if (newValue !== oldValue) {\n          if (name !== 'innerHTML' && newVirtualNode && SVG_TAGS.has(newVirtualNode.tag)) {\n            domNode.setAttribute(SVG_ATTRIBUTE_TRANSLATIONS.get(name) || name, newValue)\n          } else if (newVirtualNode && newVirtualNode.tag === 'input'\n            && name === 'value' && domNode[name] === newValue) {\n            // Do not update `value` of an `input` unless it differs.\n            // Every change will reset the cursor position.\n          } else {\n            domNode[name] = newValue\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction updateNestedProps (domProps, oldProps, newProps, isStyleObject) {\n  if (oldProps) {\n    for (var name in oldProps) {\n      if (!newProps || !(name in newProps)) {\n        if (isStyleObject) {\n          domProps[name] = EMPTY\n        } else {\n          delete domProps[name]\n        }\n      }\n    }\n  }\n\n  if (newProps) {\n    for (var name in newProps) {\n      const oldValue = oldProps && oldProps[name]\n      const newValue = newProps[name]\n      if (newValue !== oldValue) {\n        domProps[name] = newValue\n      }\n    }\n  }\n}\n\nfunction updateAttributes (domNode, oldAttributes, newAttributes) {\n  if (oldAttributes) {\n    for (var name in oldAttributes) {\n      if (!newAttributes || !(name in newAttributes)) {\n        domNode.removeAttribute(name)\n      }\n    }\n  }\n\n  if (newAttributes) {\n    for (var name in newAttributes) {\n      const oldValue = oldAttributes && oldAttributes[name]\n      const newValue = newAttributes[name]\n      if (newValue !== oldValue) {\n        domNode.setAttribute(name, newValue)\n      }\n    }\n  }\n}\n\nfunction updateEventListeners (domNode, oldVirtualNode, newVirtualNode, listenerContext) {\n  const oldListeners = oldVirtualNode && oldVirtualNode.props && oldVirtualNode.props.on\n  const newListeners = newVirtualNode.props && newVirtualNode.props.on\n\n  for (const eventName in oldListeners) {\n    if (!(newListeners && eventName in newListeners)) {\n      let listenerToRemove\n      if (oldVirtualNode && oldVirtualNode.boundListeners && oldVirtualNode.boundListeners[eventName]) {\n        listenerToRemove = oldVirtualNode.boundListeners[eventName]\n      } else {\n        listenerToRemove = oldListeners[eventName]\n      }\n      domNode.removeEventListener(eventName, listenerToRemove)\n    }\n  }\n\n  for (const eventName in newListeners) {\n    const oldListener = oldListeners && oldListeners[eventName]\n    const newListener = newListeners[eventName]\n\n    if (newListener !== oldListener) {\n      if (oldListener) {\n        let listenerToRemove\n        if (oldVirtualNode && oldVirtualNode.boundListeners && oldVirtualNode.boundListeners[eventName]) {\n          listenerToRemove = oldVirtualNode.boundListeners[eventName]\n        } else {\n          listenerToRemove = oldListener\n        }\n        domNode.removeEventListener(eventName, listenerToRemove)\n      }\n      if (newListener) {\n        let listenerToAdd\n        if (listenerContext) {\n          listenerToAdd = newListener.bind(listenerContext)\n          if (!newVirtualNode.boundListeners) newVirtualNode.boundListeners = {}\n          newVirtualNode.boundListeners[eventName] = listenerToAdd\n        } else {\n          listenerToAdd = newListener\n        }\n        domNode.addEventListener(eventName, listenerToAdd)\n      }\n    }\n  }\n}\n","const updateProps = require('./update-props')\nconst SVG_TAGS = require('./svg-tags')\n\nfunction render (virtualNode, options) {\n  let domNode\n  if (virtualNode.text != null) {\n    domNode = document.createTextNode(virtualNode.text)\n  } else {\n    const {tag, children} = virtualNode\n    let {props, context} = virtualNode\n\n    if (context) {\n      options = {refs: context.refs, listenerContext: context}\n    }\n\n    if (typeof tag === 'function') {\n      let ref\n      if (props && props.ref) {\n        ref = props.ref\n      }\n      const component = new tag(props || {}, children)\n      virtualNode.component = component\n      domNode = component.element\n      if (typeof ref === \"function\") {\n        ref(component)\n      } else if (options && options.refs && ref) {\n        options.refs[ref] = component\n      }\n    } else if (SVG_TAGS.has(tag)) {\n      domNode = document.createElementNS(\"http://www.w3.org/2000/svg\", tag);\n      if (children) addChildren(domNode, children, options)\n      if (props) updateProps(domNode, null, virtualNode, options)\n    } else {\n      domNode = document.createElement(tag)\n      if (children) addChildren(domNode, children, options)\n      if (props) updateProps(domNode, null, virtualNode, options)\n    }\n  }\n  virtualNode.domNode = domNode\n  return domNode\n}\n\nfunction addChildren (parent, children, options) {\n  for (let i = 0; i < children.length; i++) {\n    parent.appendChild(render(children[i], options))\n  }\n}\n\nmodule.exports = render\n","module.exports = function updateRef (domNode, oldRefName, newRefName, refs) {\n  if (newRefName !== oldRefName) {\n    if (typeof oldRefName === 'function') oldRefName(null)\n    else if (oldRefName && refs[oldRefName] === domNode) delete refs[oldRefName]\n    if (typeof newRefName === 'function') newRefName(domNode)\n    else if (newRefName) refs[newRefName] = domNode\n  }\n}\n","const render = require('./render')\nconst updateProps = require('./update-props')\nconst updateRef = require('./update-ref')\n\nfunction patch (oldVirtualNode, newVirtualNode, options) {\n  const oldNode = oldVirtualNode.domNode\n\n  if (newVirtualNode === oldVirtualNode) return oldNode\n\n  if (virtualNodesAreEqual(oldVirtualNode, newVirtualNode)) {\n    let newNode\n    if (newVirtualNode.text != null) {\n      oldNode.nodeValue = newVirtualNode.text\n      newNode = oldNode\n    } else {\n      if (typeof newVirtualNode.tag === 'function') {\n        newNode = updateComponent(oldVirtualNode, newVirtualNode, options)\n      } else {\n        updateChildren(oldNode, oldVirtualNode.children, newVirtualNode.children, options)\n        updateProps(oldNode, oldVirtualNode, newVirtualNode, options)\n        newNode = oldNode\n      }\n    }\n    newVirtualNode.domNode = newNode\n    if (newNode !== oldNode && oldNode.parentNode) {\n      oldNode.parentNode.replaceChild(newNode, oldNode)\n    }\n    return newNode\n  } else {\n    const parentNode = oldNode.parentNode\n    const nextSibling = oldNode.nextSibling\n    removeVirtualNode(oldVirtualNode, options && options.refs)\n    const newNode = render(newVirtualNode, options)\n    if (parentNode) parentNode.insertBefore(newNode, nextSibling)\n    newVirtualNode.domNode = newNode\n    return newNode\n  }\n}\n\nfunction updateComponent (oldVirtualNode, newVirtualNode, options) {\n  const {component, props: oldProps} = oldVirtualNode\n  let {props: newProps, children: newChildren} = newVirtualNode\n  newVirtualNode.component = component\n  const refs = options && options.refs\n  if (refs) updateRef(component, oldProps && oldProps.ref, newProps && newProps.ref, refs)\n  component.update(newProps || {}, newChildren)\n  return component.element\n}\n\nlet mapPool = [new Map(), new Map(), new Map(), new Map()]\n\nfunction updateChildren (parentElement, oldChildren, newChildren, options) {\n  var oldStartIndex = 0\n  var oldEndIndex = oldChildren.length - 1\n  var oldStartChild = oldChildren[0]\n  var oldEndChild = oldChildren[oldEndIndex]\n\n  var newStartIndex = 0\n  var newEndIndex = newChildren.length - 1\n  var newStartChild = newChildren[0]\n  var newEndChild = newChildren[newEndIndex]\n\n  var oldIndicesByKey\n\n  while (oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\n    if (!oldStartChild) {\n      oldStartChild = oldChildren[++oldStartIndex]\n    } else if (!oldEndChild) {\n      oldEndChild = oldChildren[--oldEndIndex]\n    } else if (virtualNodesAreEqual(oldStartChild, newStartChild)) {\n      patch(oldStartChild, newStartChild, options)\n      oldStartChild = oldChildren[++oldStartIndex]\n      newStartChild = newChildren[++newStartIndex]\n    } else if (virtualNodesAreEqual(oldEndChild, newEndChild)) {\n      patch(oldEndChild, newEndChild, options)\n      oldEndChild = oldChildren[--oldEndIndex]\n      newEndChild = newChildren[--newEndIndex]\n    } else if (virtualNodesAreEqual(oldStartChild, newEndChild)) {\n      patch(oldStartChild, newEndChild, options)\n      parentElement.insertBefore(oldStartChild.domNode, oldEndChild.domNode.nextSibling)\n      oldStartChild = oldChildren[++oldStartIndex]\n      newEndChild = newChildren[--newEndIndex]\n    } else if (virtualNodesAreEqual(oldEndChild, newStartChild)) {\n      patch(oldEndChild, newStartChild, options)\n      parentElement.insertBefore(oldEndChild.domNode, oldStartChild.domNode);\n      oldEndChild = oldChildren[--oldEndIndex]\n      newStartChild = newChildren[++newStartIndex]\n    } else {\n      if (!oldIndicesByKey) {\n        if (mapPool.length > 0) {\n          oldIndicesByKey = mapPool.pop()\n          oldIndicesByKey.clear()\n        } else {\n          oldIndicesByKey = new Map()\n        }\n        mapOldKeysToIndices(oldIndicesByKey, oldChildren, oldStartIndex, oldEndIndex)\n      }\n\n      var key = getKey(newStartChild)\n      var oldIndex = key ? oldIndicesByKey.get(key) : null\n      if (oldIndex == null) {\n        parentElement.insertBefore(render(newStartChild, options), oldStartChild.domNode)\n        newStartChild = newChildren[++newStartIndex]\n      } else {\n        var oldChildToMove = oldChildren[oldIndex]\n        patch(oldChildToMove, newStartChild, options)\n        oldChildren[oldIndex] = undefined\n        parentElement.insertBefore(oldChildToMove.domNode, oldStartChild.domNode)\n        newStartChild = newChildren[++newStartIndex]\n      }\n    }\n  }\n\n  if (oldStartIndex > oldEndIndex) {\n    var subsequentElement = newChildren[newEndIndex + 1] ? newChildren[newEndIndex + 1].domNode : null\n    for (let i = newStartIndex; i <= newEndIndex; i++) {\n      parentElement.insertBefore(render(newChildren[i], options), subsequentElement)\n    }\n  } else if (newStartIndex > newEndIndex) {\n    for (let i = oldStartIndex; i <= oldEndIndex; i++) {\n      var child = oldChildren[i]\n      if (child) removeVirtualNode(child, options && options.refs)\n    }\n  }\n\n  if (oldIndicesByKey) mapPool.push(oldIndicesByKey)\n}\n\nfunction removeVirtualNode (virtualNode, refs, removeDOMNode = true) {\n  const {domNode, props, children, component} = virtualNode\n  const ref = props && props.ref\n  if (component) {\n    if (typeof ref === 'function') ref(null)\n    else if (refs && ref && refs[ref] === component) delete refs[ref]\n    if (component.destroy) component.destroy()\n  } else {\n    if (typeof ref === 'function') ref(null)\n    else if (refs && ref && refs[ref] === domNode) delete refs[ref]\n    if (children) {\n      for (let i = 0; i < children.length; i++) {\n        removeVirtualNode(children[i], refs, false)\n      }\n    }\n  }\n\n  if (removeDOMNode) domNode.remove()\n}\n\nfunction virtualNodesAreEqual (oldVirtualNode, newVirtualNode) {\n  return (\n    getKey(oldVirtualNode) === getKey(newVirtualNode)\n      && oldVirtualNode.tag === newVirtualNode.tag\n  )\n}\n\nfunction getKey (virtualNode) {\n  return virtualNode.props ? virtualNode.props.key : undefined\n}\n\nfunction mapOldKeysToIndices (oldIndicesByKey, children, startIndex, endIndex) {\n  for (let i = startIndex; i <= endIndex; i++) {\n    const key = getKey(children[i])\n    if (key) oldIndicesByKey.set(key, i)\n  }\n  return oldIndicesByKey\n}\n\nmodule.exports = patch\n","// If the scheduler is not customized via `etch.setScheduler`, an instance of\n// this class will be used to schedule updates to the document. The\n// `updateDocument` method accepts functions to be run at some point in the\n// future, then runs them on the next animation frame.\nmodule.exports = class DefaultScheduler {\n  constructor () {\n    this.updateRequests = []\n    this.readRequests = []\n    this.pendingAnimationFrame = null\n    this.performUpdates = this.performUpdates.bind(this)\n    this.performingUpdates = false\n  }\n\n  // Enqueues functions that write to the DOM to be performed on the next\n  // animation frame. Functions passed to this method should *never* read from\n  // the DOM, because that could cause synchronous reflows.\n  updateDocument (fn) {\n    this.updateRequests.push(fn)\n    if (!this.pendingAnimationFrame) {\n      this.pendingAnimationFrame = window.requestAnimationFrame(this.performUpdates)\n    }\n  }\n\n  readDocument (fn) {\n    this.readRequests.push(fn)\n    if (!this.pendingAnimationFrame) {\n      this.pendingAnimationFrame = window.requestAnimationFrame(this.performUpdates)\n    }\n  }\n\n  // Returns a promise that will resolve at the end of the next update cycle,\n  // after all the functions passed to `updateDocument` and `updateDocumentSync`\n  // have been run.\n  getNextUpdatePromise () {\n    if (!this.nextUpdatePromise) {\n      this.nextUpdatePromise = new Promise(resolve => {\n        this.resolveNextUpdatePromise = resolve\n      })\n    }\n    return this.nextUpdatePromise\n  }\n\n  // Performs all the pending document updates. If running these update\n  // functions causes *more* updates to be enqueued, they are run synchronously\n  // in this update cycle without waiting for another frame.\n  performUpdates () {\n    while (this.updateRequests.length > 0) {\n      this.updateRequests.shift()()\n    }\n\n    // We don't clear the pending frame until all update requests are processed.\n    // This ensures updates requested within other updates are processed in the\n    // current frame.\n    this.pendingAnimationFrame = null\n\n    // Now that updates are processed, we can perform all pending document reads\n    // without the risk of interleaving them with writes and causing layout\n    // thrashing.\n    while (this.readRequests.length > 0) {\n      this.readRequests.shift()()\n    }\n\n    if (this.nextUpdatePromise) {\n      let resolveNextUpdatePromise = this.resolveNextUpdatePromise\n      this.nextUpdatePromise = null\n      this.resolveNextUpdatePromise = null\n      resolveNextUpdatePromise()\n    }\n  }\n}\n","// This file implements getter and setter functions for a scheduler to be used\n// by this library when updating the DOM. The scheduler's job is to ensure that\n// DOM interaction is performed efficiently. When using `etch` in Atom, you\n// should tell `etch` to use Atom's scheduler by calling\n// `setScheduler(atom.views)`.\n//\n// Schedulers should support the following interface:\n// * `updateDocument(fn)` This method is asynchronous. It enqueues functions to\n// be executed later.\n// * `getNextUpdatePromise()` This function should return a promise that\n// resolves after all pending document update functions have been invoked.\n//\n// Schedulers could support the following optional methods, which are supported\n// by Atom's scheduler.\n//\n// * `readDocument` This method can be invoked by clients other than `etch` when\n// it is necessary to read from the DOM. Functions enqueued via this method\n// should not be run until all document update functions have been executed.\n// Batching updates and reads in this way will prevent forced synchronous\n// reflows.\n// * `pollDocument` This method is similar to `readDocument`, but it runs the\n// associated functions repeatedly. Again, they should be scheduled in such a\n// way so as to avoid synchronous reflows.\n\nconst DefaultScheduler = require('./default-scheduler')\n\nlet scheduler = null\n\nmodule.exports.setScheduler = function setScheduler (customScheduler) {\n  scheduler = customScheduler\n}\n\nmodule.exports.getScheduler = function getScheduler () {\n  if (!scheduler) {\n    scheduler = new DefaultScheduler()\n  }\n  return scheduler\n}\n","const render = require('./render')\nconst patch = require('./patch')\nconst {getScheduler} = require('./scheduler-assignment')\n\nconst componentsWithPendingUpdates = new WeakSet()\nlet syncUpdatesInProgressCounter = 0\nlet syncDestructionsInProgressCounter = 0\n\nfunction isValidVirtualNode (virtualNode) {\n  return virtualNode != null && virtualNode !== false\n}\n\nfunction applyContext (context, virtualNode) {\n  virtualNode.context = context\n  if (virtualNode.ambiguous) {\n    virtualNode.ambiguous.forEach(node => {\n      node.context = context\n    })\n    delete virtualNode.ambiguous\n  }\n}\n\n// This function associates a component object with a DOM element by calling\n// the components `render` method, assigning an `.element` property on the\n// object and also returning the element.\n//\n// It also assigns a `virtualNode` property based on the return value of the\n// `render` method. This will be used later by `performElementUpdate` to diff\n// the new results of `render` with the previous results when updating the\n// component's element.\n//\n// Finally, this function also associates the component with a `refs` object,\n// which is populated with references to elements based on `ref` properties on\n// nodes of the `virtual-dom` tree. Before calling into `virtual-dom` to create\n// the DOM tree, it pushes this `refs` object to a shared stack so it can be\n// accessed by hooks during the creation of individual elements.\nfunction initialize(component) {\n  if (typeof component.update !== 'function') {\n    throw new Error('Etch components must implement `update(props, children)`.')\n  }\n\n  let virtualNode = component.render()\n  if (!isValidVirtualNode(virtualNode)) {\n    let namePart = component.constructor && component.constructor.name ? ' in ' + component.constructor.name : ''\n    throw new Error('invalid falsy value ' + virtualNode + ' returned from render()' + namePart)\n  }\n\n  applyContext(component, virtualNode)\n\n  component.refs = {}\n  component.virtualNode = virtualNode\n  component.element = render(component.virtualNode, {\n    refs: component.refs, listenerContext: component\n  })\n}\n\n// This function receives a component that has already been associated with an\n// element via a previous call to `initialize` and updates this element by\n// calling `render` on the component.\n//\n// When called in normal circumstances, it uses the scheduler to defer this\n// update until the next animation frame, and will only perform one update of a\n// given component in a given frame. This means you can call `update`\n// repeatedly in a given tick without causing redundant updates.\n//\n// If this function called during another synchronous update (for example, as a\n// result of a call to `update` on a child component), the update is performed\n// synchronously.\n//\n// Returns a promise that will resolve when the requested update has been\n// completed.\nfunction update (component, replaceNode=true) {\n  if (syncUpdatesInProgressCounter > 0) {\n    updateSync(component, replaceNode)\n    return Promise.resolve()\n  }\n\n  let scheduler = getScheduler()\n\n  if (!componentsWithPendingUpdates.has(component)) {\n    componentsWithPendingUpdates.add(component)\n    scheduler.updateDocument(function () {\n      componentsWithPendingUpdates.delete(component)\n      updateSync(component, replaceNode)\n    })\n  }\n\n  return scheduler.getNextUpdatePromise()\n}\n\n// Synchronsly updates the DOM element associated with a component object. .\n// This method assumes the presence of `.element` and `.virtualNode`\n// properties on the component, which are assigned in the `initialize`\n// function.\n//\n// It calls `render` on the component to obtain the desired state of the DOM,\n// then `diff`s it with the previous state and `patch`es the element based on\n// the resulting diff. During the patch operation, it pushes the component's\n// `refs` object to a shared stack so that references to DOM elements can be\n// updated.\n//\n// If `update` is called during the invocation of `updateSync`,\n// the requests are processed synchronously as well. We track whether this is\n// the case by incrementing and decrementing `syncUpdatesInProgressCounter`\n// around the call.\n//\n// For now, etch does not allow the root tag of the `render` method to change\n// between invocations, because we want to preserve a one-to-one relationship\n// between component objects and DOM elements for simplicity.\nfunction updateSync (component, replaceNode=true) {\n  if (!isValidVirtualNode(component.virtualNode)) {\n    throw new Error(`${component.constructor ? component.constructor.name + ' instance' : component} is not associated with a valid virtualNode. Perhaps this component was never initialized?`)\n  }\n\n  if (component.element == null) {\n    throw new Error(`${component.constructor ? component.constructor.name + ' instance' : component} is not associated with a DOM element. Perhaps this component was never initialized?`)\n  }\n\n  let newVirtualNode = component.render()\n  if (!isValidVirtualNode(newVirtualNode)) {\n    const namePart = component.constructor && component.constructor.name ? ' in ' + component.constructor.name : ''\n    throw new Error('invalid falsy value ' + newVirtualNode + ' returned from render()' + namePart)\n  }\n\n  applyContext(component, newVirtualNode)\n\n  syncUpdatesInProgressCounter++\n  let oldVirtualNode = component.virtualNode\n  let oldDomNode = component.element\n  let newDomNode = patch(oldVirtualNode, newVirtualNode, {\n    refs: component.refs,\n    listenerContext: component\n  })\n  component.virtualNode = newVirtualNode\n  if (newDomNode !== oldDomNode && !replaceNode) {\n    throw new Error('The root node type changed on update, but the update was performed with the replaceNode option set to false')\n  } else {\n    component.element = newDomNode\n  }\n\n  // We can safely perform additional writes after a DOM update synchronously,\n  // but any reads need to be deferred until all writes are completed to avoid\n  // DOM thrashing. Requested reads occur at the end of the the current frame\n  // if this method was invoked via the scheduler. Otherwise, if `updateSync`\n  // was invoked outside of the scheduler, the default scheduler will defer\n  // reads until the next animation frame.\n  if (typeof component.writeAfterUpdate === 'function') {\n    component.writeAfterUpdate()\n  }\n  if (typeof component.readAfterUpdate === 'function') {\n    getScheduler().readDocument(function () {\n      component.readAfterUpdate()\n    })\n  }\n\n  syncUpdatesInProgressCounter--\n}\n\n// Removes the component's associated element and calls `destroy` on any child\n// components. Normally, this function is asynchronous and will perform the\n// destruction on the next animation frame. If called as the result of another\n// update or destruction, it calls `destroy` on child components synchronously.\n// If called as the result of destroying a component higher in the DOM, the\n// element is not removed to avoid redundant DOM manipulation. Returns a promise\n// that resolves when the destruction is completed.\nfunction destroy (component, removeNode=true) {\n  if (syncUpdatesInProgressCounter > 0 || syncDestructionsInProgressCounter > 0) {\n    destroySync(component, removeNode)\n    return Promise.resolve()\n  }\n\n  let scheduler = getScheduler()\n  scheduler.updateDocument(function () {\n    destroySync(component, removeNode)\n  })\n  return scheduler.getNextUpdatePromise()\n}\n\n// A synchronous version of `destroy`.\n//\n// Note that we track whether `destroy` calls are in progress and only remove\n// the element if we are not a nested call.\nfunction destroySync (component, removeNode=true) {\n  syncDestructionsInProgressCounter++\n  destroyChildComponents(component.virtualNode)\n  if (syncDestructionsInProgressCounter === 1 && removeNode) component.element.remove()\n  syncDestructionsInProgressCounter--\n}\n\nfunction destroyChildComponents(virtualNode) {\n  if (virtualNode.component && typeof virtualNode.component.destroy === 'function') {\n    virtualNode.component.destroy()\n  } else if (virtualNode.children) {\n    virtualNode.children.forEach(destroyChildComponents)\n  }\n}\n\nmodule.exports = {\n  initialize,\n  update, updateSync,\n  destroy, destroySync\n}\n","const dom = require('./dom')\nconst render = require('./render')\nconst {initialize, update, updateSync, destroy, destroySync} = require('./component-helpers')\nconst {setScheduler, getScheduler} = require('./scheduler-assignment')\n\nmodule.exports = {\n  dom, render,\n  initialize, update, updateSync, destroy, destroySync,\n  setScheduler, getScheduler\n}\n","export function handlePromise(promise: Promise<any> | undefined): void {\n  if (promise === undefined) return\n  // tslint:disable-next-line:strict-type-predicates no-unbound-method\n  if (typeof promise.catch !== \"function\") {\n    atom.notifications.addFatalError(\n      \"Atom-Typescript: non-promise passed to handlePromise. Please report this.\",\n      {\n        stack: new Error().stack,\n        dismissable: true,\n      },\n    )\n    return\n  }\n  promise.catch((err: Error) => {\n    atom.notifications.addFatalError(`Atom-Typescript error: ${err.message}`, {\n      detail: err.toString(),\n      stack: err.stack,\n      dismissable: true,\n    })\n  })\n}\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.20';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","import * as Atom from \"atom\"\nimport {Signature, SignatureParameter} from \"atom-ide-base\"\nimport * as path from \"path\"\nimport ts from \"typescript\"\nimport type {\n  CodeEdit,\n  FormatCodeSettings,\n  Location,\n  SignatureHelpItem,\n  SignatureHelpParameter,\n  TextSpan,\n  UserPreferences,\n} from \"typescript/lib/protocol\"\n\n// NOTE: using TypeScript internals here. May be brittle!\ndeclare module \"typescript\" {\n  // tslint:disable-next-line: variable-name\n  export const Diagnostics: {\n    [key: string]: DiagnosticMessage\n  }\n}\n\nexport {TextSpan, CodeEdit, FormatCodeSettings, Location}\nexport const DiagnosticCategory = ts.DiagnosticCategory\n\nexport interface LocationRangeQuery extends Location {\n  endLine: number\n  endOffset: number\n}\n\nexport interface FileLocationQuery extends Location {\n  file: string\n}\n\nexport function pointToLocation(point: Atom.PointLike): Location {\n  return {line: point.row + 1, offset: point.column + 1}\n}\n\nexport function locationToPoint(loc: Location): Atom.Point {\n  return new Atom.Point(loc.line - 1, loc.offset - 1)\n}\n\nexport function spanToRange(span: TextSpan): Atom.Range {\n  return locationsToRange(span.start, span.end)\n}\n\nexport function locationsToRange(start: Location, end: Location): Atom.Range {\n  return new Atom.Range(locationToPoint(start), locationToPoint(end))\n}\n\nexport function rangeToLocationRange(range: Atom.Range): LocationRangeQuery {\n  return {\n    line: range.start.row + 1,\n    offset: range.start.column + 1,\n    endLine: range.end.row + 1,\n    endOffset: range.end.column + 1,\n  }\n}\n\nexport interface ProjectConfig {\n  formatCodeOptions: FormatCodeSettings\n  compileOnSave: boolean\n  preferences: UserPreferences\n}\n\nexport function getProjectConfig(configFile: string): ProjectConfig {\n  const config = loadConfig(configFile)\n  const options = (config as {formatCodeOptions?: FormatCodeSettings}).formatCodeOptions\n\n  return {\n    formatCodeOptions: {\n      indentSize: atom.config.get(\"editor.tabLength\"),\n      tabSize: atom.config.get(\"editor.tabLength\"),\n      ...options,\n    },\n    compileOnSave: !!config.compileOnSave,\n    preferences: config.preferences ? config.preferences : {},\n  }\n}\n\nfunction loadConfig(configFile: string): Partial<ProjectConfig> {\n  if (path.extname(configFile) !== \".json\") {\n    configFile = `${configFile}.json`\n  }\n  let {\n    config,\n  }: {\n    config?: {[key: string]: unknown}\n  } = ts.readConfigFile(configFile, (file) => ts.sys.readFile(file))\n  if (config === undefined) return {}\n  if (typeof config.extends === \"string\") {\n    const extendsPath = path.join(path.dirname(configFile), config.extends)\n    const extendsConfig = loadConfig(extendsPath)\n    config = Object.assign({}, extendsConfig, config)\n  }\n  return config as ReturnType<typeof loadConfig>\n}\n\nexport function signatureHelpItemToSignature(i: SignatureHelpItem): Signature {\n  return {\n    label:\n      partsToStr(i.prefixDisplayParts) +\n      i.parameters\n        .map((x) => partsToStr(x.displayParts))\n        .join(partsToStr(i.separatorDisplayParts)) +\n      partsToStr(i.suffixDisplayParts),\n    documentation: partsToStr(i.documentation),\n    parameters: i.parameters.map(signatureHelpParameterToSignatureParameter),\n  }\n}\n\nexport function signatureHelpParameterToSignatureParameter(\n  p: SignatureHelpParameter,\n): SignatureParameter {\n  return {\n    label: partsToStr(p.displayParts),\n    documentation: partsToStr(p.documentation),\n  }\n}\n\nexport function partsToStr(x: Array<{text: string}>): string {\n  return x.map((i) => i.text).join(\"\")\n}\n\n// tslint:disable-next-line: only-arrow-functions\nexport const checkDiagnosticCategory = (function () {\n  let codeToCategory: Map<number, ts.DiagnosticCategory> | undefined\n  // tslint:disable-next-line: only-arrow-functions\n  return function (code: number | undefined, category: ts.DiagnosticCategory) {\n    if (code === undefined) return true\n    if (codeToCategory === undefined) {\n      codeToCategory = new Map(Object.values(ts.Diagnostics).map((x) => [x.code, x.category]))\n    }\n    const cat = codeToCategory.get(code)\n    if (cat === undefined) return true\n    return cat === category\n  }\n})()\n","import * as Atom from \"atom\"\nimport * as path from \"path\"\nimport {FileLocationQuery, Location, pointToLocation} from \"./ts\"\n\n// Return line/offset position in the editor using 1-indexed coordinates\nfunction getEditorPosition(editor: Atom.TextEditor): Location {\n  const pos = editor.getCursorBufferPosition()\n  return {\n    line: pos.row + 1,\n    offset: pos.column + 1,\n  }\n}\n\nexport function isTypescriptFile(filePath: string | undefined): boolean {\n  if (filePath === undefined) return false\n  return isAllowedExtension(path.extname(filePath))\n}\n\nexport function typeScriptScopes(): ReadonlyArray<string> {\n  const tsScopes = atom.config.get(\"atom-typescript\").tsSyntaxScopes\n  if (atom.config.get(\"atom-typescript\").allowJS) {\n    tsScopes.push(...atom.config.get(\"atom-typescript\").jsSyntaxScopes)\n  }\n  return tsScopes\n}\n\nexport function isTypescriptEditorWithPath(editor: Atom.TextEditor) {\n  return isTypescriptFile(editor.getPath()) && isTypescriptGrammar(editor)\n}\n\nexport function isTypescriptGrammar(editor: Atom.TextEditor): boolean {\n  const [scopeName] = editor.getRootScopeDescriptor().getScopesArray()\n  return typeScriptScopes().includes(scopeName)\n}\n\nfunction isAllowedExtension(ext: string) {\n  const tsExts = atom.config.get(\"atom-typescript\").tsFileExtensions\n  if (atom.config.get(\"atom-typescript\").allowJS) {\n    tsExts.push(...atom.config.get(\"atom-typescript\").jsFileExtensions)\n  }\n  return tsExts.includes(ext)\n}\n\nexport function getFilePathPosition(\n  editor: Atom.TextEditor,\n  position?: Atom.Point,\n): FileLocationQuery | undefined {\n  const file = editor.getPath()\n  if (file !== undefined) {\n    const location = position ? pointToLocation(position) : getEditorPosition(editor)\n    return {file, ...location}\n  }\n}\n\nexport function* getOpenEditorsPaths() {\n  for (const ed of atom.workspace.getTextEditors()) {\n    if (isTypescriptEditorWithPath(ed)) yield ed.getPath()!\n  }\n}\n\nexport async function highlight(code: string, scopeName: string) {\n  const ed = new Atom.TextEditor({\n    readonly: true,\n    keyboardInputEnabled: false,\n    showInvisibles: false,\n    tabLength: atom.config.get(\"editor.tabLength\"),\n  })\n  const el = atom.views.getView(ed)\n  try {\n    el.setUpdatedSynchronously(true)\n    el.style.pointerEvents = \"none\"\n    el.style.position = \"absolute\"\n    el.style.top = \"100vh\"\n    el.style.width = \"100vw\"\n    atom.grammars.assignLanguageMode(ed.getBuffer(), scopeName)\n    ed.setText(code)\n    ed.scrollToBufferPosition(ed.getBuffer().getEndPosition())\n    atom.views.getView(atom.workspace).appendChild(el)\n    await editorTokenized(ed)\n    return Array.from(el.querySelectorAll(\".line:not(.dummy)\")).map((x) => x.innerHTML)\n  } finally {\n    el.remove()\n  }\n}\n\nasync function editorTokenized(editor: Atom.TextEditor) {\n  return new Promise((resolve) => {\n    const languageMode = editor.getBuffer().getLanguageMode()\n    const nextUpdatePromise = editor.component.getNextUpdatePromise()\n    if (languageMode.fullyTokenized || languageMode.tree) {\n      resolve(nextUpdatePromise)\n    } else {\n      const disp = editor.onDidTokenize(() => {\n        disp.dispose()\n        resolve(nextUpdatePromise)\n      })\n    }\n  })\n}\n","import {isEqual} from \"lodash\"\nimport {NavigationTree} from \"typescript/lib/protocol\"\nimport {NavigationTreeViewModel} from \"./semanticViewModel\"\n\n/**\n * HELPER find the node that is \"furthest down\" the\n *        node hiearchy, i.e. which's start-, end-position contains the\n *        cursorLine AND is smallest.\n * @param  {NavigationTreeViewModel} node\n *                  the HTML element from which to start searching\n * @param  {Number} cursorLine the cursor line\n * @return {HTMLElement|null} the node's HTML representation which matches cursorLine\n *                            (i.e. which' start-, end-position contain cursorLine while\n *                             having the smallest distance to cursorLine), or NULL if no\n *                            matching node can be found\n */\nexport function findNodeAt(\n  startLine: number,\n  endLine: number,\n  node: NavigationTreeViewModel,\n): NavigationTreeViewModel | undefined {\n  if (!node.childItems) {\n    return undefined\n  }\n\n  for (const elem of node.childItems) {\n    const start: number = getNodeStartLine(elem)\n    const end: number = getNodeEndLine(elem)\n    if (isFinite(start) && isFinite(end)) {\n      if (startLine >= start && endLine <= end) {\n        const selected = findNodeAt(startLine, endLine, elem)\n        if (selected) {\n          return selected\n        } else {\n          return elem\n        }\n      } else if (isFinite(end) && endLine < end) {\n        break\n      }\n    }\n\n    const selectedChild = findNodeAt(startLine, endLine, elem)\n\n    if (selectedChild) {\n      return selectedChild\n    }\n  }\n\n  const nstart: number = getNodeStartLine(node)\n  const nend: number = getNodeEndLine(node)\n  if (isFinite(nstart) && isFinite(nend) && startLine >= nstart && endLine <= nend) {\n    return node\n  }\n  return undefined\n}\n\n/**\n * Get start line for NavTree node\n * @param  node the NavTre node\n * @return the start line for the NavTree node, or 0, if none could be determined\n */\nexport function getNodeStartLine(node: NavigationTree): number {\n  return node.spans.length > 0 ? node.spans[0].start.line - 1 : 0\n}\n\n/**\n * Get start column for NavTree node\n * @param  node the NavTre node\n * @return the start column for the NavTree node, or 0, if none could be determined\n */\nexport function getNodeStartOffset(node: NavigationTree): number {\n  return node.spans.length > 0 ? node.spans[0].start.offset - 1 : 0\n}\n\n/**\n * Get end line for NavTree node\n * @param  node the NavTre node\n * @return the end line for the NavTree node, or 0, if none could be determined\n */\nexport function getNodeEndLine(node: NavigationTree): number {\n  const s = node.spans\n  return s.length > 0 ? s[s.length - 1].end.line - 1 : 0\n}\n\n/**\n * HELPER transfere collapsed state from old NavigationTreeViewModel to\n * new view model.\n *\n * @returns {boolean} TRUE, if newTree and oldTree matched title\n */\nexport function restoreCollapsed(\n  newTree: NavigationTreeViewModel | null,\n  oldTree: NavigationTreeViewModel | null,\n): boolean {\n  if (!newTree || !oldTree) return newTree === oldTree\n\n  // a bit of guess work here:\n  // there may have been additions/deletions in the children\n  // (in comparision to the previous navTree), so the tranfere of\n  // the collapsed state really is a heuristical process.\n  //\n  // For now, we assume, if the name (i.e. node.text) is the same\n  // then it refers to the same entity (i.e. it should get the same\n  // collapsed state); which is not true in case a variable/function/etc\n  // was renamed.\n  // But we do not want the get too elaborate and do expensive modification-\n  // detection here, so in case of renaming, we just reset the collapsed\n  // state to the default (i.e. expanded).\n  // Same for reordering etc. of children: for complex changes we just\n  // revert to the default state.\n\n  if (newTree.text === oldTree.text) {\n    if (oldTree.collapsed) {\n      newTree.collapsed = true\n    }\n\n    if (newTree.childItems && oldTree.childItems) {\n      let newChild: NavigationTreeViewModel\n      let oldChild: NavigationTreeViewModel\n      for (let i = 0, size = newTree.childItems.length; i < size; ++i) {\n        newChild = newTree.childItems[i]\n        oldChild = oldTree.childItems[i]\n        // allow for one addition / deletion in the children\n        // (i.e. check if there's a match in the previous/next position)\n        if (!restoreCollapsed(newChild, oldChild)) {\n          // try, if a child was removed\n          oldChild = oldTree.childItems[i + 1]\n          if (!restoreCollapsed(newChild, oldChild)) {\n            // try, if a child was added\n            oldChild = oldTree.childItems[i - 1]\n            restoreCollapsed(newChild, oldChild)\n          }\n        }\n      }\n    }\n    return true\n  }\n\n  return false\n}\n\n/**\n * HELPER modify / prepare NavigationTree for rendering.\n *\n * E.g. sort childItems by their location, preprocess className-string\n *\n * @param {NavigationTreeViewModel} navTree\n *            the NavigationTree that will be prepared for rendering\n */\nexport function prepareNavTree(navTree: NavigationTreeViewModel | null): void {\n  if (navTree === null) return\n\n  if (navTree.childItems) {\n    if (navTree.childItems.length < 1) {\n      // normalize: remove empty lists\n      navTree.childItems = undefined\n      return\n    }\n\n    // TODO should there be a different sort-order?\n    //     for now: sort ascending by line-number\n    navTree.childItems.sort((a, b) => getNodeStartLine(a) - getNodeStartLine(b))\n\n    for (const child of navTree.childItems) {\n      prepareNavTree(child)\n    }\n  }\n}\n\n/**\n * HELPER test, if the HTMLElement for <code>node</code> should be displayed\n *        as \"selected\", by checking if the current cursor is within\n *        start-, end-line of the node.\n *\n * NOTE since a potential to-be-selected node may conatain other nodes,\n *      that also \"should be selected\", this functions checks, if there is a\n *      node \"furthest down\" in the hiearchy that could/should get selected.\n *\n * @param  {NavigationTreeViewModel} node\n *            the node to be tested\n * @param  {number} pos\n *            the cursor (line) position in the editor\n * @return {Boolean} true, if the node's HTML representation should be selected\n */\nexport function isSelected(node: NavigationTreeViewModel, pos: number): boolean {\n  if (getNodeStartLine(node) <= pos && getNodeEndLine(node) >= pos) {\n    const start: number = getNodeStartLine(node)\n    const end: number = getNodeEndLine(node)\n    if (findNodeAt(start, end, node)) {\n      // -> there is a node \"further down\" that should get selected\n      return false\n    }\n    return true\n  }\n  return false\n}\n\n/**\n * compare nodes base on their label & code-position\n * (i.e. ignoring modifiers, children etc)\n */\nexport function isSameNode(n1: NavigationTreeViewModel, n2: NavigationTreeViewModel): boolean {\n  return n1.text === n2.text && isEqual(n1.spans, n2.spans)\n}\n\n/**\n * HACK workaround for detecting click on collapse-/expand-icon\n *      (cannot directly register/detect click on icons, since inserted via ::before style)\n *\n * @param {NavigationTreeViewModel} node\n *                        the corresponding NavTree node\n * @param {MouseEvent} event\n *                        the mouse event\n * @returns {Boolean} <code>true</code> if entry's expand/collapse state should be toggled for nodeEntry\n *                                      (instead of navigating to its position in the text editor)\n */\nexport function isToggleEntry(node: NavigationTreeViewModel, event: MouseEvent): boolean {\n  return !!node.childItems && event.target === event.currentTarget\n}\n","import * as etch from \"etch\"\nimport {handlePromise} from \"../../../../utils\"\nimport {isSameNode, isToggleEntry} from \"./navTreeUtils\"\nimport {NavigationTreeViewModel, SelectableNode, ToNodeScrollableEditor} from \"./semanticViewModel\"\n\nexport interface Props extends JSX.Props {\n  navTree: NavigationTreeViewModel\n  ctrl: ToNodeScrollableEditor & SelectableNode\n}\n\nexport class NavigationNodeComponent implements JSX.ElementClass {\n  constructor(public props: Props) {\n    etch.initialize(this)\n  }\n\n  public async update(props: Partial<Props>) {\n    this.props = {...this.props, ...props}\n    await etch.update(this)\n  }\n\n  public async destroy() {\n    await etch.destroy(this)\n  }\n\n  public render(): JSX.Element {\n    const node = this.props.navTree\n    const {ctrl} = this.props\n    const selectedNode = ctrl.getSelectedNode()\n    const selected = selectedNode && isSameNode(node, selectedNode)\n    const classes =\n      (node.childItems ? \"nested-\" : \"\") +\n      \"item\" +\n      (node.collapsed ? \" collapsed\" : \" expanded\") +\n      (selected ? \" selected\" : \"\")\n    const styleClasses = this.getStyles()\n\n    return (\n      <li className={\"node entry exanded list-\" + classes}>\n        <div className=\"header list-item\" on={{click: (event) => this.entryClicked(event, node)}}>\n          <span className={styleClasses}>{node.text}</span>\n        </div>\n        <ol className=\"entries list-tree\">\n          {node.childItems\n            ? node.childItems.map((sn) => <NavigationNodeComponent navTree={sn} ctrl={ctrl} />)\n            : null}\n        </ol>\n      </li>\n    )\n  }\n\n  private getStyles(): string {\n    const {kind} = this.props.navTree\n    let styles = `icon icon-${kind}`\n    const {kindModifiers} = this.props.navTree\n    if (kindModifiers) {\n      styles +=\n        \" \" +\n        kindModifiers\n          .split(/[, ]/)\n          .map((modifier) => `modifier-${modifier.trim()}`)\n          .join(\" \")\n    }\n    return styles\n  }\n\n  private entryClicked(event: MouseEvent, node: NavigationTreeViewModel): void {\n    event.stopPropagation()\n\n    const isToggle: boolean = isToggleEntry(node, event)\n    if (!isToggle) {\n      this.props.ctrl.gotoNode(node)\n    } else {\n      node.collapsed = !node.collapsed\n      handlePromise(etch.update(this))\n    }\n  }\n}\n","import {CompositeDisposable, CursorPositionChangedEvent, Disposable, TextEditor} from \"atom\"\nimport * as etch from \"etch\"\nimport {isEqual} from \"lodash\"\nimport {NavigationTree} from \"typescript/lib/protocol\"\nimport {GetClientFunction} from \"../../../../client\"\nimport {handlePromise} from \"../../../../utils\"\nimport * as atomUtils from \"../../utils\"\nimport {NavigationNodeComponent} from \"./navigationNodeComponent\"\nimport {\n  findNodeAt,\n  getNodeStartLine,\n  getNodeStartOffset,\n  prepareNavTree,\n  restoreCollapsed,\n} from \"./navTreeUtils\"\nimport {NavigationTreeViewModel, SelectableNode, ToNodeScrollableEditor} from \"./semanticViewModel\"\n\nexport interface Props extends JSX.Props {\n  navTree: NavigationTreeViewModel | null\n}\n\nexport class NavigationTreeComponent\n  implements JSX.ElementClass, ToNodeScrollableEditor, SelectableNode {\n  public element!: HTMLDivElement\n  private editor?: TextEditor\n  private editorScrolling?: Disposable\n  private editorChanging?: Disposable\n  private selectedNode?: NavigationTreeViewModel\n  private getClient?: GetClientFunction\n  private subscriptions = new CompositeDisposable()\n\n  constructor(public props: Props) {\n    prepareNavTree(props.navTree)\n    etch.initialize(this)\n    this.subscriptions.add(atom.workspace.observeActiveTextEditor(this.subscribeToEditor))\n  }\n\n  public async update(props: Partial<Props>) {\n    if (props.navTree !== undefined) {\n      this.setNavTree(props.navTree)\n    }\n    this.props = {...this.props, ...props}\n    await etch.update(this)\n  }\n\n  public async destroy() {\n    if (this.editorScrolling) this.editorScrolling.dispose()\n    if (this.editorChanging) this.editorChanging.dispose()\n    this.editorScrolling = undefined\n    this.editorChanging = undefined\n    this.selectedNode = undefined\n    this.subscriptions.dispose()\n    await etch.destroy(this)\n  }\n\n  public async setGetClient(getClient: GetClientFunction) {\n    this.getClient = getClient\n    await this.loadNavTree()\n  }\n\n  public getSelectedNode() {\n    return this.selectedNode\n  }\n\n  public render() {\n    const maybeNavNodeComp = this.props.navTree ? (\n      <NavigationNodeComponent navTree={this.props.navTree} ctrl={this} />\n    ) : null\n    return (\n      <div className=\"atomts atomts-semantic-view native-key-bindings\">\n        <ol className=\"list-tree has-collapsable-children focusable-panel\">{maybeNavNodeComp}</ol>\n      </div>\n    )\n  }\n\n  public readAfterUpdate() {\n    // scroll to selected node:\n    const selectedElement = this.element.querySelector(\".selected\")\n    if (selectedElement) this.scrollTo(selectedElement)\n  }\n\n  /**\n   * HELPER scroll the current editor so that the node's representation becomes\n   *        visible\n   *        (i.e. scroll the text/typescript editor)\n   * @param  {NavigationTree} node\n   *              the node which's element should be made visible in the editor\n   */\n  public gotoNode(node: NavigationTree): void {\n    if (!this.editor) return\n    const gotoLine = getNodeStartLine(node)\n    const gotoOffset = getNodeStartOffset(node)\n    this.editor.setCursorBufferPosition([gotoLine, gotoOffset])\n  }\n\n  private getCursorLine(): number | undefined {\n    if (this.editor) return this.editor.getLastCursor().getBufferRow()\n    else return undefined\n  }\n\n  private setNavTree(navTree: NavigationTreeViewModel | null) {\n    prepareNavTree(navTree)\n    if (isEqual(navTree, this.props.navTree)) {\n      return\n    }\n    restoreCollapsed(navTree, this.props.navTree)\n    this.props.navTree = navTree\n\n    let selectedNode: NavigationTreeViewModel | undefined\n    if (navTree) {\n      const cursorLine = this.getCursorLine()\n      if (cursorLine !== undefined) {\n        selectedNode = findNodeAt(cursorLine, cursorLine, navTree)\n      }\n    }\n    this.selectedNode = selectedNode\n  }\n\n  private loadNavTree = async () => {\n    if (!this.editor) return\n    if (!this.getClient) return\n    const filePath = this.editor.getPath()\n    if (filePath === undefined) return\n    try {\n      const client = await this.getClient(filePath)\n      const navtreeResult = await client.execute(\"navtree\", {file: filePath})\n      const navTree = navtreeResult.body\n      if (navTree) {\n        this.setNavTree(navTree as NavigationTreeViewModel)\n        await etch.update(this)\n      }\n    } catch (err) {\n      console.error(err, filePath)\n    }\n  }\n\n  /**\n   * HELPER select the node's HTML represenation which corresponds to the\n   *        current cursor position\n   */\n  private selectAtCursorLine = ({newBufferPosition}: CursorPositionChangedEvent) => {\n    if (!this.props.navTree) {\n      return\n    }\n    const cursorLine = newBufferPosition.row\n\n    const selectedChild = findNodeAt(cursorLine, cursorLine, this.props.navTree)\n    if (selectedChild !== this.selectedNode) {\n      this.selectedNode = selectedChild\n      handlePromise(etch.update(this))\n    }\n  }\n\n  /**\n   * HELPER scroll the node's HTML representation (i.e. domNode) into view\n   *        (i.e. scroll the semantic-view's tree representation)\n   * @param  {Element} domNode the HTMLElement that should be made visisble\n   */\n  private scrollTo(domNode: Element): void {\n    const elem: ElementExp = domNode as ElementExp\n    if (typeof elem.scrollIntoViewIfNeeded === \"function\") {\n      elem.scrollIntoViewIfNeeded()\n    } else {\n      elem.scrollIntoView()\n    }\n  }\n\n  private subscribeToEditor = async (editor?: TextEditor) => {\n    if (this.editorScrolling) this.editorScrolling.dispose()\n    if (this.editorChanging) this.editorChanging.dispose()\n\n    if (!editor || !atomUtils.isTypescriptEditorWithPath(editor)) {\n      return this.update({navTree: null})\n    }\n    // else\n    this.editor = editor\n    // set navTree\n    await this.loadNavTree()\n\n    this.editorScrolling = editor.onDidChangeCursorPosition(this.selectAtCursorLine)\n    this.editorChanging = editor.onDidStopChanging(this.loadNavTree)\n  }\n}\n","import {GetClientFunction} from \"../../../../client\"\nimport {NavigationTreeComponent} from \"./navigationTreeComponent\"\nimport {NavigationTreeViewModel} from \"./semanticViewModel\"\n\nexport const SEMANTIC_VIEW_URI = \"atom-typescript://semantic-view\"\n\nexport interface SemanticViewOptions {\n  navTree: NavigationTreeViewModel | null\n}\n\nexport interface SemanticViewSerializationData {\n  data: SemanticViewOptions\n  deserializer: \"atomts-semantic-view/SemanticView\"\n}\n\nexport class SemanticView {\n  public static create(config: SemanticViewOptions) {\n    if (!SemanticView.instance) SemanticView.instance = new SemanticView(config)\n    return SemanticView.instance\n  }\n  private static instance: SemanticView | null = null\n  private comp: NavigationTreeComponent\n\n  public get element() {\n    return this.comp.element\n  }\n\n  private constructor(config: SemanticViewOptions) {\n    this.comp = new NavigationTreeComponent({navTree: config.navTree})\n  }\n\n  public async setGetClient(gc: GetClientFunction) {\n    await this.comp.setGetClient(gc)\n    await this.comp.update({})\n  }\n\n  public getTitle() {\n    return \"TypeScript\"\n  }\n\n  public getURI() {\n    return SEMANTIC_VIEW_URI\n  }\n\n  public async destroy() {\n    SemanticView.instance = null\n    await this.comp.destroy()\n  }\n\n  public getDefaultLocation() {\n    return \"right\"\n  }\n\n  public getAllowedLocations() {\n    // The locations into which the item can be moved.\n    return [\"left\", \"right\"]\n  }\n\n  public serialize(): SemanticViewSerializationData {\n    return {\n      deserializer: \"atomts-semantic-view/SemanticView\",\n      data: {navTree: this.comp.props.navTree},\n    }\n  }\n}\n","// Copyright (C) 2011-2015 John Hewson\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// \n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n// IN THE SOFTWARE.\n\nvar stream = require('stream'),\n    util = require('util'),\n    timers = require('timers');\n\n// convinience API\nmodule.exports = function(readStream, options) {\n  return module.exports.createStream(readStream, options);\n};\n\n// basic API\nmodule.exports.createStream = function(readStream, options) {\n  if (readStream) {\n    return createLineStream(readStream, options);\n  } else {\n    return new LineStream(options);\n  }\n};\n\n// deprecated API\nmodule.exports.createLineStream = function(readStream) {\n  console.log('WARNING: byline#createLineStream is deprecated and will be removed soon');\n  return createLineStream(readStream);\n};\n\nfunction createLineStream(readStream, options) {\n  if (!readStream) {\n    throw new Error('expected readStream');\n  }\n  if (!readStream.readable) {\n    throw new Error('readStream must be readable');\n  }\n  var ls = new LineStream(options);\n  readStream.pipe(ls);\n  return ls;\n}\n\n//\n// using the new node v0.10 \"streams2\" API\n//\n\nmodule.exports.LineStream = LineStream;\n\nfunction LineStream(options) {\n  stream.Transform.call(this, options);\n  options = options || {};\n\n  // use objectMode to stop the output from being buffered\n  // which re-concatanates the lines, just without newlines.\n  this._readableState.objectMode = true;\n  this._lineBuffer = [];\n  this._keepEmptyLines = options.keepEmptyLines || false;\n  this._lastChunkEndedWithCR = false;\n\n  // take the source's encoding if we don't have one\n  var self = this;\n  this.on('pipe', function(src) {\n    if (!self.encoding) {\n      // but we can't do this for old-style streams\n      if (src instanceof stream.Readable) {\n        self.encoding = src._readableState.encoding;\n      }\n    }\n  });\n}\nutil.inherits(LineStream, stream.Transform);\n\nLineStream.prototype._transform = function(chunk, encoding, done) {\n  // decode binary chunks as UTF-8\n  encoding = encoding || 'utf8';\n  \n  if (Buffer.isBuffer(chunk)) {\n    if (encoding == 'buffer') {\n      chunk = chunk.toString(); // utf8\n      encoding = 'utf8';\n    }\n    else {\n     chunk = chunk.toString(encoding);\n    }\n  }\n  this._chunkEncoding = encoding;\n  \n  // see: http://www.unicode.org/reports/tr18/#Line_Boundaries\n  var lines = chunk.split(/\\r\\n|[\\n\\v\\f\\r\\x85\\u2028\\u2029]/g);\n  \n  // don't split CRLF which spans chunks\n  if (this._lastChunkEndedWithCR && chunk[0] == '\\n') {\n    lines.shift();\n  }\n  \n  if (this._lineBuffer.length > 0) {\n    this._lineBuffer[this._lineBuffer.length - 1] += lines[0];\n    lines.shift();\n  }\n\n  this._lastChunkEndedWithCR = chunk[chunk.length - 1] == '\\r';\n  this._lineBuffer = this._lineBuffer.concat(lines);\n  this._pushBuffer(encoding, 1, done);\n};\n\nLineStream.prototype._pushBuffer = function(encoding, keep, done) {\n  // always buffer the last (possibly partial) line\n  while (this._lineBuffer.length > keep) {\n    var line = this._lineBuffer.shift();\n    // skip empty lines\n    if (this._keepEmptyLines || line.length > 0 ) {\n      if (!this.push(this._reencode(line, encoding))) {\n        // when the high-water mark is reached, defer pushes until the next tick\n        var self = this;\n        timers.setImmediate(function() {\n          self._pushBuffer(encoding, keep, done);\n        });\n        return;\n      }\n    }\n  }\n  done();\n};\n\nLineStream.prototype._flush = function(done) {\n  this._pushBuffer(this._chunkEncoding, 0, done);\n};\n\n// see Readable::push\nLineStream.prototype._reencode = function(line, chunkEncoding) {\n  if (this.encoding && this.encoding != chunkEncoding) {\n    return new Buffer(line, chunkEncoding).toString(this.encoding);\n  }\n  else if (this.encoding) {\n    // this should be the most common case, i.e. we're using an encoded source stream\n    return line;\n  }\n  else {\n    return new Buffer(line, chunkEncoding);\n  }\n};\n","import proto from \"typescript/lib/protocol\"\nimport {ReportBusyWhile} from \"../main/pluginManager\"\nimport {CommandRes, CommandsWithCallback, CommandsWithResponse} from \"./commandArgsResponseMap\"\n\ninterface Request {\n  command: CommandsWithCallback\n  started: number\n  reject(err: Error): void\n  resolve(res: any): void\n}\n\n// Callbacks keeps track of all the outstanding requests\nexport class Callbacks {\n  private callbacks: Map<number, Request> = new Map()\n  private interval: number = 0\n\n  constructor(private reportBusyWhile: ReportBusyWhile) {}\n\n  public async add<T extends CommandsWithCallback>(\n    seq: number,\n    command: T,\n  ): Promise<CommandRes<T>> {\n    try {\n      const promise = new Promise<CommandRes<T>>((resolve, reject) => {\n        this.callbacks.set(seq, {\n          command,\n          resolve,\n          reject,\n          started: Date.now(),\n        })\n      })\n      if (this.interval === 0) {\n        this.interval = window.setInterval(() => {\n          process.activateUvLoop()\n        }, 100)\n      }\n      return await this.reportBusyWhile(command, () => promise)\n    } finally {\n      this.callbacks.delete(seq)\n      if (this.interval !== 0 && this.callbacks.size === 0) {\n        clearInterval(this.interval)\n        this.interval = 0\n      }\n    }\n  }\n\n  public rejectAll(error: Error) {\n    for (const {reject} of this.callbacks.values()) {\n      reject(error)\n    }\n\n    this.callbacks.clear()\n  }\n\n  public resolve<T extends CommandsWithResponse>(res: CommandRes<T>): void {\n    const req = this.callbacks.get(res.request_seq)\n    if (req) {\n      if (window.atom_typescript_debug) {\n        console.log(\n          \"received response for\",\n          res.command,\n          \"in\",\n          Date.now() - req.started,\n          \"ms\",\n          \"with data\",\n          res.body,\n        )\n      }\n      if (res.success) req.resolve(res)\n      else req.reject(new Error(res.message))\n    } else console.warn(\"unexpected response:\", res)\n  }\n\n  public resolveMS(body: proto.RequestCompletedEventBody): void {\n    const req = this.callbacks.get(body.request_seq)\n    if (req) {\n      if (window.atom_typescript_debug) {\n        console.log(\n          `received requestCompleted event for multistep command ${req.command} in ${\n            Date.now() - req.started\n          } ms`,\n        )\n      }\n      req.resolve(undefined)\n    } else console.warn(`unexpected requestCompleted event:`, body)\n  }\n\n  public error(seq: number, err: Error): void {\n    const req = this.callbacks.get(seq)\n    if (req) req.reject(err)\n    else console.error(err)\n  }\n}\n","// tslint:disable:max-classes-per-file\nimport {BufferedNodeProcess, BufferedProcess, Emitter} from \"atom\"\nimport byline from \"byline\"\nimport {ChildProcess} from \"child_process\"\nimport {Readable, Transform} from \"stream\"\nimport protocol from \"typescript/lib/protocol\"\nimport {ReportBusyWhile} from \"../main/pluginManager\"\nimport {Callbacks} from \"./callbacks\"\nimport {\n  AllTSClientCommands,\n  CommandArg,\n  CommandRes,\n  CommandsWithMultistep,\n  CommandsWithResponse,\n} from \"./commandArgsResponseMap\"\nimport {DiagnosticEventTypes} from \"./events\"\n\n// Set this to true to start tsserver with node --inspect\nconst INSPECT_TSSERVER = false\n\nconst commandWithResponseMap: {readonly [K in CommandsWithResponse]: true} = {\n  compileOnSaveAffectedFileList: true,\n  compileOnSaveEmitFile: true,\n  completionEntryDetails: true,\n  completions: true,\n  completionInfo: true,\n  configure: true,\n  definition: true,\n  format: true,\n  getCodeFixes: true,\n  getSupportedCodeFixes: true,\n  documentHighlights: true,\n  projectInfo: true,\n  quickinfo: true,\n  references: true,\n  reload: true,\n  rename: true,\n  navtree: true,\n  navto: true,\n  getApplicableRefactors: true,\n  getEditsForRefactor: true,\n  organizeImports: true,\n  signatureHelp: true,\n  getEditsForFileRename: true,\n  applyCodeActionCommand: true,\n}\n\nconst commandsWithMultistepMap: {readonly [K in CommandsWithMultistep]: true} = {\n  geterr: true,\n  geterrForProject: true,\n}\n\nconst eventTypesMap: {readonly [K in keyof DiagnosticEventTypes]: true} = {\n  configFileDiag: true,\n  semanticDiag: true,\n  suggestionDiag: true,\n  syntaxDiag: true,\n}\n\nconst commandWithResponse = new Set(Object.keys(commandWithResponseMap))\nconst commandWithMultistep = new Set(Object.keys(commandsWithMultistepMap))\nconst eventTypes = new Set(Object.keys(eventTypesMap))\n\nfunction isCommandWithResponse(command: AllTSClientCommands): command is CommandsWithResponse {\n  return commandWithResponse.has(command)\n}\n\nfunction isCommandWithMultistep(command: AllTSClientCommands): command is CommandsWithMultistep {\n  return commandWithMultistep.has(command)\n}\n\nfunction isKnownDiagEventType(event: string): event is keyof DiagnosticEventTypes {\n  return eventTypes.has(event)\n}\n\nexport class TypescriptServiceClient {\n  public readonly multistepSupported: boolean\n  /** Callbacks that are waiting for responses */\n  private readonly callbacks: Callbacks\n\n  private readonly emitter = new Emitter<\n    {\n      restarted: void\n      terminated: void\n    },\n    DiagnosticEventTypes\n  >()\n  private seq = 0\n\n  private server?: ChildProcess\n  private lastStderrOutput = \"\"\n\n  // tslint:disable-next-line:member-ordering\n  public on = this.emitter.on.bind(this.emitter)\n\n  constructor(\n    public tsServerPath: string,\n    public version: string,\n    private reportBusyWhile: ReportBusyWhile,\n  ) {\n    // multistep completion event is supported as of TS version 2.2\n    const [major, minor] = version\n      .split(\".\")\n      .slice(0, 2)\n      .map((x) => parseInt(x, 10))\n    this.multistepSupported = major > 2 || (major === 2 && minor >= 2)\n\n    this.callbacks = new Callbacks(this.reportBusyWhile)\n    this.server = this.startServer()\n  }\n\n  public async execute<T extends AllTSClientCommands>(\n    command: T,\n    ...args: CommandArg<T>\n  ): Promise<CommandRes<T>> {\n    if (!this.server) {\n      this.server = this.startServer()\n      this.emitter.emit(\"restarted\")\n    }\n\n    const req = {\n      seq: this.seq++,\n      command,\n      arguments: args[0],\n    }\n\n    if (window.atom_typescript_debug) {\n      console.log(\"sending request\", req)\n    }\n\n    let result: CommandRes<T> | Promise<CommandRes<T>> = undefined as CommandRes<T>\n    if (\n      isCommandWithResponse(command) ||\n      (this.multistepSupported && isCommandWithMultistep(command))\n    ) {\n      result = this.callbacks.add(req.seq, command)\n    }\n\n    try {\n      if (!this.server.stdin) throw new Error(\"Server stdin is missing\")\n      this.server.stdin.write(JSON.stringify(req) + \"\\n\")\n    } catch (error) {\n      this.callbacks.error(req.seq, error as Error)\n    }\n    return result\n  }\n\n  public async restartServer() {\n    if (this.server) {\n      const server = this.server\n      const graceTimer = setTimeout(() => server.kill(), 10000)\n      await Promise.all([\n        this.execute(\"exit\"),\n        new Promise((resolve) => {\n          const disp = this.emitter.once(\"terminated\", () => {\n            disp.dispose()\n            resolve()\n          })\n        }),\n      ])\n      clearTimeout(graceTimer)\n    }\n    // can't guarantee this.server value after await\n    // tslint:disable-next-line:strict-boolean-expressions\n    if (!this.server) {\n      this.server = this.startServer()\n      this.emitter.emit(\"restarted\")\n    }\n  }\n\n  private startServer() {\n    if (window.atom_typescript_debug) {\n      console.log(\"starting\", this.tsServerPath)\n    }\n\n    const cp = startServer(this.tsServerPath)\n\n    if (!cp) throw new Error(\"ChildProcess failed to start\")\n\n    const h = this.exitHandler\n    cp.once(\"error\", h)\n    cp.once(\"exit\", (code: number | null, signal: string | null) => {\n      if (code === 0) h(new Error(\"Server stopped normally\"), false)\n      else if (code !== null) h(new Error(`exited with code: ${code}`))\n      else if (signal !== null) h(new Error(`terminated on signal: ${signal}`))\n    })\n\n    // Pipe both stdout and stderr appropriately\n    if (!cp.stdout) throw new Error(\"ChildProcess stdout missing\")\n    if (!cp.stderr) throw new Error(\"ChildProcess stderr missing\")\n    messageStream(cp.stdout).on(\"data\", this.onMessage)\n    cp.stderr.on(\"data\", (data: Buffer) => {\n      console.warn(\"tsserver stderr:\", (this.lastStderrOutput = data.toString()))\n    })\n    return cp\n  }\n\n  private exitHandler = (err: Error, report = true) => {\n    this.callbacks.rejectAll(err)\n    if (report) console.error(\"tsserver: \", err)\n    this.server = undefined\n    this.emitter.emit(\"terminated\")\n\n    if (report) {\n      let detail = err.message\n      if (this.lastStderrOutput) {\n        detail = `Last output from tsserver:\\n${this.lastStderrOutput}\\n\\n${detail}`\n      }\n      atom.notifications.addError(\"TypeScript server quit unexpectedly\", {\n        detail,\n        stack: err.stack,\n        dismissable: true,\n      })\n    }\n  }\n\n  private onMessage = (res: protocol.Response | protocol.Event) => {\n    if (res.type === \"response\") this.callbacks.resolve(res)\n    else this.onEvent(res)\n  }\n\n  private onEvent(res: protocol.Event) {\n    if (window.atom_typescript_debug) {\n      console.log(\"received event\", res)\n    }\n\n    if (res.body) {\n      if (isKnownDiagEventType(res.event)) {\n        this.emitter.emit(res.event, res.body as DiagnosticEventTypes[keyof DiagnosticEventTypes])\n      } else if (res.event === \"requestCompleted\") {\n        this.callbacks.resolveMS(res.body as protocol.RequestCompletedEventBody)\n      }\n    }\n  }\n}\n\nfunction startServer(tsServerPath: string): ChildProcess | undefined {\n  const locale = atom.config.get(\"atom-typescript\").locale\n  const tsServerArgs: string[] = locale ? [\"--locale\", locale] : []\n  if (INSPECT_TSSERVER) {\n    return new BufferedProcess({\n      command: \"node\",\n      args: [\"--inspect\", tsServerPath].concat(tsServerArgs),\n    }).process\n  } else {\n    return new BufferedNodeProcess({\n      command: tsServerPath,\n      args: tsServerArgs,\n    }).process\n  }\n}\n\nfunction messageStream(input: Readable) {\n  return input.pipe(byline()).pipe(new MessageStream())\n}\n\n/** Helper to parse the tsserver output stream to a message stream  */\nclass MessageStream extends Transform {\n  constructor() {\n    super({objectMode: true})\n  }\n\n  public _transform(buf: Buffer, _encoding: string, callback: (n: Error | undefined) => void) {\n    const line = buf.toString()\n\n    try {\n      if (line.startsWith(\"{\")) {\n        this.push(JSON.parse(line))\n      } else if (!line.startsWith(\"Content-Length:\")) {\n        console.warn(line)\n      }\n    } catch (error) {\n      console.error(\"client: failed to parse: \", line)\n    } finally {\n      callback(undefined)\n    }\n  }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { createScanner } from './scanner';\nvar ParseOptions;\n(function (ParseOptions) {\n    ParseOptions.DEFAULT = {\n        allowTrailingComma: false\n    };\n})(ParseOptions || (ParseOptions = {}));\n/**\n * For a given offset, evaluate the location in the JSON document. Each segment in the location path is either a property name or an array index.\n */\nexport function getLocation(text, position) {\n    var segments = []; // strings or numbers\n    var earlyReturnException = new Object();\n    var previousNode = undefined;\n    var previousNodeInst = {\n        value: {},\n        offset: 0,\n        length: 0,\n        type: 'object',\n        parent: undefined\n    };\n    var isAtPropertyKey = false;\n    function setPreviousNode(value, offset, length, type) {\n        previousNodeInst.value = value;\n        previousNodeInst.offset = offset;\n        previousNodeInst.length = length;\n        previousNodeInst.type = type;\n        previousNodeInst.colonOffset = undefined;\n        previousNode = previousNodeInst;\n    }\n    try {\n        visit(text, {\n            onObjectBegin: function (offset, length) {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                isAtPropertyKey = position > offset;\n                segments.push(''); // push a placeholder (will be replaced)\n            },\n            onObjectProperty: function (name, offset, length) {\n                if (position < offset) {\n                    throw earlyReturnException;\n                }\n                setPreviousNode(name, offset, length, 'property');\n                segments[segments.length - 1] = name;\n                if (position <= offset + length) {\n                    throw earlyReturnException;\n                }\n            },\n            onObjectEnd: function (offset, length) {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.pop();\n            },\n            onArrayBegin: function (offset, length) {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.push(0);\n            },\n            onArrayEnd: function (offset, length) {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                previousNode = undefined;\n                segments.pop();\n            },\n            onLiteralValue: function (value, offset, length) {\n                if (position < offset) {\n                    throw earlyReturnException;\n                }\n                setPreviousNode(value, offset, length, getNodeType(value));\n                if (position <= offset + length) {\n                    throw earlyReturnException;\n                }\n            },\n            onSeparator: function (sep, offset, length) {\n                if (position <= offset) {\n                    throw earlyReturnException;\n                }\n                if (sep === ':' && previousNode && previousNode.type === 'property') {\n                    previousNode.colonOffset = offset;\n                    isAtPropertyKey = false;\n                    previousNode = undefined;\n                }\n                else if (sep === ',') {\n                    var last = segments[segments.length - 1];\n                    if (typeof last === 'number') {\n                        segments[segments.length - 1] = last + 1;\n                    }\n                    else {\n                        isAtPropertyKey = true;\n                        segments[segments.length - 1] = '';\n                    }\n                    previousNode = undefined;\n                }\n            }\n        });\n    }\n    catch (e) {\n        if (e !== earlyReturnException) {\n            throw e;\n        }\n    }\n    return {\n        path: segments,\n        previousNode: previousNode,\n        isAtPropertyKey: isAtPropertyKey,\n        matches: function (pattern) {\n            var k = 0;\n            for (var i = 0; k < pattern.length && i < segments.length; i++) {\n                if (pattern[k] === segments[i] || pattern[k] === '*') {\n                    k++;\n                }\n                else if (pattern[k] !== '**') {\n                    return false;\n                }\n            }\n            return k === pattern.length;\n        }\n    };\n}\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore always check the errors list to find out if the input was valid.\n */\nexport function parse(text, errors, options) {\n    if (errors === void 0) { errors = []; }\n    if (options === void 0) { options = ParseOptions.DEFAULT; }\n    var currentProperty = null;\n    var currentParent = [];\n    var previousParents = [];\n    function onValue(value) {\n        if (Array.isArray(currentParent)) {\n            currentParent.push(value);\n        }\n        else if (currentProperty !== null) {\n            currentParent[currentProperty] = value;\n        }\n    }\n    var visitor = {\n        onObjectBegin: function () {\n            var object = {};\n            onValue(object);\n            previousParents.push(currentParent);\n            currentParent = object;\n            currentProperty = null;\n        },\n        onObjectProperty: function (name) {\n            currentProperty = name;\n        },\n        onObjectEnd: function () {\n            currentParent = previousParents.pop();\n        },\n        onArrayBegin: function () {\n            var array = [];\n            onValue(array);\n            previousParents.push(currentParent);\n            currentParent = array;\n            currentProperty = null;\n        },\n        onArrayEnd: function () {\n            currentParent = previousParents.pop();\n        },\n        onLiteralValue: onValue,\n        onError: function (error, offset, length) {\n            errors.push({ error: error, offset: offset, length: length });\n        }\n    };\n    visit(text, visitor, options);\n    return currentParent[0];\n}\n/**\n * Parses the given text and returns a tree representation the JSON content. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n */\nexport function parseTree(text, errors, options) {\n    if (errors === void 0) { errors = []; }\n    if (options === void 0) { options = ParseOptions.DEFAULT; }\n    var currentParent = { type: 'array', offset: -1, length: -1, children: [], parent: undefined }; // artificial root\n    function ensurePropertyComplete(endOffset) {\n        if (currentParent.type === 'property') {\n            currentParent.length = endOffset - currentParent.offset;\n            currentParent = currentParent.parent;\n        }\n    }\n    function onValue(valueNode) {\n        currentParent.children.push(valueNode);\n        return valueNode;\n    }\n    var visitor = {\n        onObjectBegin: function (offset) {\n            currentParent = onValue({ type: 'object', offset: offset, length: -1, parent: currentParent, children: [] });\n        },\n        onObjectProperty: function (name, offset, length) {\n            currentParent = onValue({ type: 'property', offset: offset, length: -1, parent: currentParent, children: [] });\n            currentParent.children.push({ type: 'string', value: name, offset: offset, length: length, parent: currentParent });\n        },\n        onObjectEnd: function (offset, length) {\n            ensurePropertyComplete(offset + length); // in case of a missing value for a property: make sure property is complete\n            currentParent.length = offset + length - currentParent.offset;\n            currentParent = currentParent.parent;\n            ensurePropertyComplete(offset + length);\n        },\n        onArrayBegin: function (offset, length) {\n            currentParent = onValue({ type: 'array', offset: offset, length: -1, parent: currentParent, children: [] });\n        },\n        onArrayEnd: function (offset, length) {\n            currentParent.length = offset + length - currentParent.offset;\n            currentParent = currentParent.parent;\n            ensurePropertyComplete(offset + length);\n        },\n        onLiteralValue: function (value, offset, length) {\n            onValue({ type: getNodeType(value), offset: offset, length: length, parent: currentParent, value: value });\n            ensurePropertyComplete(offset + length);\n        },\n        onSeparator: function (sep, offset, length) {\n            if (currentParent.type === 'property') {\n                if (sep === ':') {\n                    currentParent.colonOffset = offset;\n                }\n                else if (sep === ',') {\n                    ensurePropertyComplete(offset);\n                }\n            }\n        },\n        onError: function (error, offset, length) {\n            errors.push({ error: error, offset: offset, length: length });\n        }\n    };\n    visit(text, visitor, options);\n    var result = currentParent.children[0];\n    if (result) {\n        delete result.parent;\n    }\n    return result;\n}\n/**\n * Finds the node at the given path in a JSON DOM.\n */\nexport function findNodeAtLocation(root, path) {\n    if (!root) {\n        return undefined;\n    }\n    var node = root;\n    for (var _i = 0, path_1 = path; _i < path_1.length; _i++) {\n        var segment = path_1[_i];\n        if (typeof segment === 'string') {\n            if (node.type !== 'object' || !Array.isArray(node.children)) {\n                return undefined;\n            }\n            var found = false;\n            for (var _a = 0, _b = node.children; _a < _b.length; _a++) {\n                var propertyNode = _b[_a];\n                if (Array.isArray(propertyNode.children) && propertyNode.children[0].value === segment) {\n                    node = propertyNode.children[1];\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                return undefined;\n            }\n        }\n        else {\n            var index = segment;\n            if (node.type !== 'array' || index < 0 || !Array.isArray(node.children) || index >= node.children.length) {\n                return undefined;\n            }\n            node = node.children[index];\n        }\n    }\n    return node;\n}\n/**\n * Gets the JSON path of the given JSON DOM node\n */\nexport function getNodePath(node) {\n    if (!node.parent || !node.parent.children) {\n        return [];\n    }\n    var path = getNodePath(node.parent);\n    if (node.parent.type === 'property') {\n        var key = node.parent.children[0].value;\n        path.push(key);\n    }\n    else if (node.parent.type === 'array') {\n        var index = node.parent.children.indexOf(node);\n        if (index !== -1) {\n            path.push(index);\n        }\n    }\n    return path;\n}\n/**\n * Evaluates the JavaScript object of the given JSON DOM node\n */\nexport function getNodeValue(node) {\n    switch (node.type) {\n        case 'array':\n            return node.children.map(getNodeValue);\n        case 'object':\n            var obj = Object.create(null);\n            for (var _i = 0, _a = node.children; _i < _a.length; _i++) {\n                var prop = _a[_i];\n                var valueNode = prop.children[1];\n                if (valueNode) {\n                    obj[prop.children[0].value] = getNodeValue(valueNode);\n                }\n            }\n            return obj;\n        case 'null':\n        case 'string':\n        case 'number':\n        case 'boolean':\n            return node.value;\n        default:\n            return undefined;\n    }\n}\nexport function contains(node, offset, includeRightBound) {\n    if (includeRightBound === void 0) { includeRightBound = false; }\n    return (offset >= node.offset && offset < (node.offset + node.length)) || includeRightBound && (offset === (node.offset + node.length));\n}\n/**\n * Finds the most inner node at the given offset. If includeRightBound is set, also finds nodes that end at the given offset.\n */\nexport function findNodeAtOffset(node, offset, includeRightBound) {\n    if (includeRightBound === void 0) { includeRightBound = false; }\n    if (contains(node, offset, includeRightBound)) {\n        var children = node.children;\n        if (Array.isArray(children)) {\n            for (var i = 0; i < children.length && children[i].offset <= offset; i++) {\n                var item = findNodeAtOffset(children[i], offset, includeRightBound);\n                if (item) {\n                    return item;\n                }\n            }\n        }\n        return node;\n    }\n    return undefined;\n}\n/**\n * Parses the given text and invokes the visitor functions for each object, array and literal reached.\n */\nexport function visit(text, visitor, options) {\n    if (options === void 0) { options = ParseOptions.DEFAULT; }\n    var _scanner = createScanner(text, false);\n    function toNoArgVisit(visitFunction) {\n        return visitFunction ? function () { return visitFunction(_scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()); } : function () { return true; };\n    }\n    function toOneArgVisit(visitFunction) {\n        return visitFunction ? function (arg) { return visitFunction(arg, _scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter()); } : function () { return true; };\n    }\n    var onObjectBegin = toNoArgVisit(visitor.onObjectBegin), onObjectProperty = toOneArgVisit(visitor.onObjectProperty), onObjectEnd = toNoArgVisit(visitor.onObjectEnd), onArrayBegin = toNoArgVisit(visitor.onArrayBegin), onArrayEnd = toNoArgVisit(visitor.onArrayEnd), onLiteralValue = toOneArgVisit(visitor.onLiteralValue), onSeparator = toOneArgVisit(visitor.onSeparator), onComment = toNoArgVisit(visitor.onComment), onError = toOneArgVisit(visitor.onError);\n    var disallowComments = options && options.disallowComments;\n    var allowTrailingComma = options && options.allowTrailingComma;\n    function scanNext() {\n        while (true) {\n            var token = _scanner.scan();\n            switch (_scanner.getTokenError()) {\n                case 4 /* InvalidUnicode */:\n                    handleError(14 /* InvalidUnicode */);\n                    break;\n                case 5 /* InvalidEscapeCharacter */:\n                    handleError(15 /* InvalidEscapeCharacter */);\n                    break;\n                case 3 /* UnexpectedEndOfNumber */:\n                    handleError(13 /* UnexpectedEndOfNumber */);\n                    break;\n                case 1 /* UnexpectedEndOfComment */:\n                    if (!disallowComments) {\n                        handleError(11 /* UnexpectedEndOfComment */);\n                    }\n                    break;\n                case 2 /* UnexpectedEndOfString */:\n                    handleError(12 /* UnexpectedEndOfString */);\n                    break;\n                case 6 /* InvalidCharacter */:\n                    handleError(16 /* InvalidCharacter */);\n                    break;\n            }\n            switch (token) {\n                case 12 /* LineCommentTrivia */:\n                case 13 /* BlockCommentTrivia */:\n                    if (disallowComments) {\n                        handleError(10 /* InvalidCommentToken */);\n                    }\n                    else {\n                        onComment();\n                    }\n                    break;\n                case 16 /* Unknown */:\n                    handleError(1 /* InvalidSymbol */);\n                    break;\n                case 15 /* Trivia */:\n                case 14 /* LineBreakTrivia */:\n                    break;\n                default:\n                    return token;\n            }\n        }\n    }\n    function handleError(error, skipUntilAfter, skipUntil) {\n        if (skipUntilAfter === void 0) { skipUntilAfter = []; }\n        if (skipUntil === void 0) { skipUntil = []; }\n        onError(error);\n        if (skipUntilAfter.length + skipUntil.length > 0) {\n            var token = _scanner.getToken();\n            while (token !== 17 /* EOF */) {\n                if (skipUntilAfter.indexOf(token) !== -1) {\n                    scanNext();\n                    break;\n                }\n                else if (skipUntil.indexOf(token) !== -1) {\n                    break;\n                }\n                token = scanNext();\n            }\n        }\n    }\n    function parseString(isValue) {\n        var value = _scanner.getTokenValue();\n        if (isValue) {\n            onLiteralValue(value);\n        }\n        else {\n            onObjectProperty(value);\n        }\n        scanNext();\n        return true;\n    }\n    function parseLiteral() {\n        switch (_scanner.getToken()) {\n            case 11 /* NumericLiteral */:\n                var tokenValue = _scanner.getTokenValue();\n                var value = Number(tokenValue);\n                if (isNaN(value)) {\n                    handleError(2 /* InvalidNumberFormat */);\n                    value = 0;\n                }\n                onLiteralValue(value);\n                break;\n            case 7 /* NullKeyword */:\n                onLiteralValue(null);\n                break;\n            case 8 /* TrueKeyword */:\n                onLiteralValue(true);\n                break;\n            case 9 /* FalseKeyword */:\n                onLiteralValue(false);\n                break;\n            default:\n                return false;\n        }\n        scanNext();\n        return true;\n    }\n    function parseProperty() {\n        if (_scanner.getToken() !== 10 /* StringLiteral */) {\n            handleError(3 /* PropertyNameExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            return false;\n        }\n        parseString(false);\n        if (_scanner.getToken() === 6 /* ColonToken */) {\n            onSeparator(':');\n            scanNext(); // consume colon\n            if (!parseValue()) {\n                handleError(4 /* ValueExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n        }\n        else {\n            handleError(5 /* ColonExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n        }\n        return true;\n    }\n    function parseObject() {\n        onObjectBegin();\n        scanNext(); // consume open brace\n        var needsComma = false;\n        while (_scanner.getToken() !== 2 /* CloseBraceToken */ && _scanner.getToken() !== 17 /* EOF */) {\n            if (_scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 2 /* CloseBraceToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* CommaExpected */, [], []);\n            }\n            if (!parseProperty()) {\n                handleError(4 /* ValueExpected */, [], [2 /* CloseBraceToken */, 5 /* CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onObjectEnd();\n        if (_scanner.getToken() !== 2 /* CloseBraceToken */) {\n            handleError(7 /* CloseBraceExpected */, [2 /* CloseBraceToken */], []);\n        }\n        else {\n            scanNext(); // consume close brace\n        }\n        return true;\n    }\n    function parseArray() {\n        onArrayBegin();\n        scanNext(); // consume open bracket\n        var needsComma = false;\n        while (_scanner.getToken() !== 4 /* CloseBracketToken */ && _scanner.getToken() !== 17 /* EOF */) {\n            if (_scanner.getToken() === 5 /* CommaToken */) {\n                if (!needsComma) {\n                    handleError(4 /* ValueExpected */, [], []);\n                }\n                onSeparator(',');\n                scanNext(); // consume comma\n                if (_scanner.getToken() === 4 /* CloseBracketToken */ && allowTrailingComma) {\n                    break;\n                }\n            }\n            else if (needsComma) {\n                handleError(6 /* CommaExpected */, [], []);\n            }\n            if (!parseValue()) {\n                handleError(4 /* ValueExpected */, [], [4 /* CloseBracketToken */, 5 /* CommaToken */]);\n            }\n            needsComma = true;\n        }\n        onArrayEnd();\n        if (_scanner.getToken() !== 4 /* CloseBracketToken */) {\n            handleError(8 /* CloseBracketExpected */, [4 /* CloseBracketToken */], []);\n        }\n        else {\n            scanNext(); // consume close bracket\n        }\n        return true;\n    }\n    function parseValue() {\n        switch (_scanner.getToken()) {\n            case 3 /* OpenBracketToken */:\n                return parseArray();\n            case 1 /* OpenBraceToken */:\n                return parseObject();\n            case 10 /* StringLiteral */:\n                return parseString(true);\n            default:\n                return parseLiteral();\n        }\n    }\n    scanNext();\n    if (_scanner.getToken() === 17 /* EOF */) {\n        if (options.allowEmptyContent) {\n            return true;\n        }\n        handleError(4 /* ValueExpected */, [], []);\n        return false;\n    }\n    if (!parseValue()) {\n        handleError(4 /* ValueExpected */, [], []);\n        return false;\n    }\n    if (_scanner.getToken() !== 17 /* EOF */) {\n        handleError(9 /* EndOfFileExpected */, [], []);\n    }\n    return true;\n}\n/**\n * Takes JSON with JavaScript-style comments and remove\n * them. Optionally replaces every none-newline character\n * of comments with a replaceCharacter\n */\nexport function stripComments(text, replaceCh) {\n    var _scanner = createScanner(text), parts = [], kind, offset = 0, pos;\n    do {\n        pos = _scanner.getPosition();\n        kind = _scanner.scan();\n        switch (kind) {\n            case 12 /* LineCommentTrivia */:\n            case 13 /* BlockCommentTrivia */:\n            case 17 /* EOF */:\n                if (offset !== pos) {\n                    parts.push(text.substring(offset, pos));\n                }\n                if (replaceCh !== undefined) {\n                    parts.push(_scanner.getTokenValue().replace(/[^\\r\\n]/g, replaceCh));\n                }\n                offset = _scanner.getPosition();\n                break;\n        }\n    } while (kind !== 17 /* EOF */);\n    return parts.join('');\n}\nexport function getNodeType(value) {\n    switch (typeof value) {\n        case 'boolean': return 'boolean';\n        case 'number': return 'number';\n        case 'string': return 'string';\n        case 'object': {\n            if (!value) {\n                return 'null';\n            }\n            else if (Array.isArray(value)) {\n                return 'array';\n            }\n            return 'object';\n        }\n        default: return 'null';\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n/**\n * Creates a JSON scanner on the given text.\n * If ignoreTrivia is set, whitespaces or comments are ignored.\n */\nexport function createScanner(text, ignoreTrivia) {\n    if (ignoreTrivia === void 0) { ignoreTrivia = false; }\n    var len = text.length;\n    var pos = 0, value = '', tokenOffset = 0, token = 16 /* Unknown */, lineNumber = 0, lineStartOffset = 0, tokenLineStartOffset = 0, prevTokenLineStartOffset = 0, scanError = 0 /* None */;\n    function scanHexDigits(count, exact) {\n        var digits = 0;\n        var value = 0;\n        while (digits < count || !exact) {\n            var ch = text.charCodeAt(pos);\n            if (ch >= 48 /* _0 */ && ch <= 57 /* _9 */) {\n                value = value * 16 + ch - 48 /* _0 */;\n            }\n            else if (ch >= 65 /* A */ && ch <= 70 /* F */) {\n                value = value * 16 + ch - 65 /* A */ + 10;\n            }\n            else if (ch >= 97 /* a */ && ch <= 102 /* f */) {\n                value = value * 16 + ch - 97 /* a */ + 10;\n            }\n            else {\n                break;\n            }\n            pos++;\n            digits++;\n        }\n        if (digits < count) {\n            value = -1;\n        }\n        return value;\n    }\n    function setPosition(newPosition) {\n        pos = newPosition;\n        value = '';\n        tokenOffset = 0;\n        token = 16 /* Unknown */;\n        scanError = 0 /* None */;\n    }\n    function scanNumber() {\n        var start = pos;\n        if (text.charCodeAt(pos) === 48 /* _0 */) {\n            pos++;\n        }\n        else {\n            pos++;\n            while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n            }\n        }\n        if (pos < text.length && text.charCodeAt(pos) === 46 /* dot */) {\n            pos++;\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n            }\n            else {\n                scanError = 3 /* UnexpectedEndOfNumber */;\n                return text.substring(start, pos);\n            }\n        }\n        var end = pos;\n        if (pos < text.length && (text.charCodeAt(pos) === 69 /* E */ || text.charCodeAt(pos) === 101 /* e */)) {\n            pos++;\n            if (pos < text.length && text.charCodeAt(pos) === 43 /* plus */ || text.charCodeAt(pos) === 45 /* minus */) {\n                pos++;\n            }\n            if (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                pos++;\n                while (pos < text.length && isDigit(text.charCodeAt(pos))) {\n                    pos++;\n                }\n                end = pos;\n            }\n            else {\n                scanError = 3 /* UnexpectedEndOfNumber */;\n            }\n        }\n        return text.substring(start, end);\n    }\n    function scanString() {\n        var result = '', start = pos;\n        while (true) {\n            if (pos >= len) {\n                result += text.substring(start, pos);\n                scanError = 2 /* UnexpectedEndOfString */;\n                break;\n            }\n            var ch = text.charCodeAt(pos);\n            if (ch === 34 /* doubleQuote */) {\n                result += text.substring(start, pos);\n                pos++;\n                break;\n            }\n            if (ch === 92 /* backslash */) {\n                result += text.substring(start, pos);\n                pos++;\n                if (pos >= len) {\n                    scanError = 2 /* UnexpectedEndOfString */;\n                    break;\n                }\n                var ch2 = text.charCodeAt(pos++);\n                switch (ch2) {\n                    case 34 /* doubleQuote */:\n                        result += '\\\"';\n                        break;\n                    case 92 /* backslash */:\n                        result += '\\\\';\n                        break;\n                    case 47 /* slash */:\n                        result += '/';\n                        break;\n                    case 98 /* b */:\n                        result += '\\b';\n                        break;\n                    case 102 /* f */:\n                        result += '\\f';\n                        break;\n                    case 110 /* n */:\n                        result += '\\n';\n                        break;\n                    case 114 /* r */:\n                        result += '\\r';\n                        break;\n                    case 116 /* t */:\n                        result += '\\t';\n                        break;\n                    case 117 /* u */:\n                        var ch3 = scanHexDigits(4, true);\n                        if (ch3 >= 0) {\n                            result += String.fromCharCode(ch3);\n                        }\n                        else {\n                            scanError = 4 /* InvalidUnicode */;\n                        }\n                        break;\n                    default:\n                        scanError = 5 /* InvalidEscapeCharacter */;\n                }\n                start = pos;\n                continue;\n            }\n            if (ch >= 0 && ch <= 0x1f) {\n                if (isLineBreak(ch)) {\n                    result += text.substring(start, pos);\n                    scanError = 2 /* UnexpectedEndOfString */;\n                    break;\n                }\n                else {\n                    scanError = 6 /* InvalidCharacter */;\n                    // mark as error but continue with string\n                }\n            }\n            pos++;\n        }\n        return result;\n    }\n    function scanNext() {\n        value = '';\n        scanError = 0 /* None */;\n        tokenOffset = pos;\n        lineStartOffset = lineNumber;\n        prevTokenLineStartOffset = tokenLineStartOffset;\n        if (pos >= len) {\n            // at the end\n            tokenOffset = len;\n            return token = 17 /* EOF */;\n        }\n        var code = text.charCodeAt(pos);\n        // trivia: whitespace\n        if (isWhiteSpace(code)) {\n            do {\n                pos++;\n                value += String.fromCharCode(code);\n                code = text.charCodeAt(pos);\n            } while (isWhiteSpace(code));\n            return token = 15 /* Trivia */;\n        }\n        // trivia: newlines\n        if (isLineBreak(code)) {\n            pos++;\n            value += String.fromCharCode(code);\n            if (code === 13 /* carriageReturn */ && text.charCodeAt(pos) === 10 /* lineFeed */) {\n                pos++;\n                value += '\\n';\n            }\n            lineNumber++;\n            tokenLineStartOffset = pos;\n            return token = 14 /* LineBreakTrivia */;\n        }\n        switch (code) {\n            // tokens: []{}:,\n            case 123 /* openBrace */:\n                pos++;\n                return token = 1 /* OpenBraceToken */;\n            case 125 /* closeBrace */:\n                pos++;\n                return token = 2 /* CloseBraceToken */;\n            case 91 /* openBracket */:\n                pos++;\n                return token = 3 /* OpenBracketToken */;\n            case 93 /* closeBracket */:\n                pos++;\n                return token = 4 /* CloseBracketToken */;\n            case 58 /* colon */:\n                pos++;\n                return token = 6 /* ColonToken */;\n            case 44 /* comma */:\n                pos++;\n                return token = 5 /* CommaToken */;\n            // strings\n            case 34 /* doubleQuote */:\n                pos++;\n                value = scanString();\n                return token = 10 /* StringLiteral */;\n            // comments\n            case 47 /* slash */:\n                var start = pos - 1;\n                // Single-line comment\n                if (text.charCodeAt(pos + 1) === 47 /* slash */) {\n                    pos += 2;\n                    while (pos < len) {\n                        if (isLineBreak(text.charCodeAt(pos))) {\n                            break;\n                        }\n                        pos++;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 12 /* LineCommentTrivia */;\n                }\n                // Multi-line comment\n                if (text.charCodeAt(pos + 1) === 42 /* asterisk */) {\n                    pos += 2;\n                    var safeLength = len - 1; // For lookahead.\n                    var commentClosed = false;\n                    while (pos < safeLength) {\n                        var ch = text.charCodeAt(pos);\n                        if (ch === 42 /* asterisk */ && text.charCodeAt(pos + 1) === 47 /* slash */) {\n                            pos += 2;\n                            commentClosed = true;\n                            break;\n                        }\n                        pos++;\n                        if (isLineBreak(ch)) {\n                            if (ch === 13 /* carriageReturn */ && text.charCodeAt(pos) === 10 /* lineFeed */) {\n                                pos++;\n                            }\n                            lineNumber++;\n                            tokenLineStartOffset = pos;\n                        }\n                    }\n                    if (!commentClosed) {\n                        pos++;\n                        scanError = 1 /* UnexpectedEndOfComment */;\n                    }\n                    value = text.substring(start, pos);\n                    return token = 13 /* BlockCommentTrivia */;\n                }\n                // just a single slash\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* Unknown */;\n            // numbers\n            case 45 /* minus */:\n                value += String.fromCharCode(code);\n                pos++;\n                if (pos === len || !isDigit(text.charCodeAt(pos))) {\n                    return token = 16 /* Unknown */;\n                }\n            // found a minus, followed by a number so\n            // we fall through to proceed with scanning\n            // numbers\n            case 48 /* _0 */:\n            case 49 /* _1 */:\n            case 50 /* _2 */:\n            case 51 /* _3 */:\n            case 52 /* _4 */:\n            case 53 /* _5 */:\n            case 54 /* _6 */:\n            case 55 /* _7 */:\n            case 56 /* _8 */:\n            case 57 /* _9 */:\n                value += scanNumber();\n                return token = 11 /* NumericLiteral */;\n            // literals and unknown symbols\n            default:\n                // is a literal? Read the full word.\n                while (pos < len && isUnknownContentCharacter(code)) {\n                    pos++;\n                    code = text.charCodeAt(pos);\n                }\n                if (tokenOffset !== pos) {\n                    value = text.substring(tokenOffset, pos);\n                    // keywords: true, false, null\n                    switch (value) {\n                        case 'true': return token = 8 /* TrueKeyword */;\n                        case 'false': return token = 9 /* FalseKeyword */;\n                        case 'null': return token = 7 /* NullKeyword */;\n                    }\n                    return token = 16 /* Unknown */;\n                }\n                // some\n                value += String.fromCharCode(code);\n                pos++;\n                return token = 16 /* Unknown */;\n        }\n    }\n    function isUnknownContentCharacter(code) {\n        if (isWhiteSpace(code) || isLineBreak(code)) {\n            return false;\n        }\n        switch (code) {\n            case 125 /* closeBrace */:\n            case 93 /* closeBracket */:\n            case 123 /* openBrace */:\n            case 91 /* openBracket */:\n            case 34 /* doubleQuote */:\n            case 58 /* colon */:\n            case 44 /* comma */:\n            case 47 /* slash */:\n                return false;\n        }\n        return true;\n    }\n    function scanNextNonTrivia() {\n        var result;\n        do {\n            result = scanNext();\n        } while (result >= 12 /* LineCommentTrivia */ && result <= 15 /* Trivia */);\n        return result;\n    }\n    return {\n        setPosition: setPosition,\n        getPosition: function () { return pos; },\n        scan: ignoreTrivia ? scanNextNonTrivia : scanNext,\n        getToken: function () { return token; },\n        getTokenValue: function () { return value; },\n        getTokenOffset: function () { return tokenOffset; },\n        getTokenLength: function () { return pos - tokenOffset; },\n        getTokenStartLine: function () { return lineStartOffset; },\n        getTokenStartCharacter: function () { return tokenOffset - prevTokenLineStartOffset; },\n        getTokenError: function () { return scanError; },\n    };\n}\nfunction isWhiteSpace(ch) {\n    return ch === 32 /* space */ || ch === 9 /* tab */ || ch === 11 /* verticalTab */ || ch === 12 /* formFeed */ ||\n        ch === 160 /* nonBreakingSpace */ || ch === 5760 /* ogham */ || ch >= 8192 /* enQuad */ && ch <= 8203 /* zeroWidthSpace */ ||\n        ch === 8239 /* narrowNoBreakSpace */ || ch === 8287 /* mathematicalSpace */ || ch === 12288 /* ideographicSpace */ || ch === 65279 /* byteOrderMark */;\n}\nfunction isLineBreak(ch) {\n    return ch === 10 /* lineFeed */ || ch === 13 /* carriageReturn */ || ch === 8232 /* lineSeparator */ || ch === 8233 /* paragraphSeparator */;\n}\nfunction isDigit(ch) {\n    return ch >= 48 /* _0 */ && ch <= 57 /* _9 */;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as formatter from './impl/format';\nimport * as edit from './impl/edit';\nimport * as scanner from './impl/scanner';\nimport * as parser from './impl/parser';\n/**\n * Creates a JSON scanner on the given text.\n * If ignoreTrivia is set, whitespaces or comments are ignored.\n */\nexport var createScanner = scanner.createScanner;\n/**\n * For a given offset, evaluate the location in the JSON document. Each segment in the location path is either a property name or an array index.\n */\nexport var getLocation = parser.getLocation;\n/**\n * Parses the given text and returns the object the JSON content represents. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n * Therefore, always check the errors list to find out if the input was valid.\n */\nexport var parse = parser.parse;\n/**\n * Parses the given text and returns a tree representation the JSON content. On invalid input, the parser tries to be as fault tolerant as possible, but still return a result.\n */\nexport var parseTree = parser.parseTree;\n/**\n * Finds the node at the given path in a JSON DOM.\n */\nexport var findNodeAtLocation = parser.findNodeAtLocation;\n/**\n * Finds the innermost node at the given offset. If includeRightBound is set, also finds nodes that end at the given offset.\n */\nexport var findNodeAtOffset = parser.findNodeAtOffset;\n/**\n * Gets the JSON path of the given JSON DOM node\n */\nexport var getNodePath = parser.getNodePath;\n/**\n * Evaluates the JavaScript object of the given JSON DOM node\n */\nexport var getNodeValue = parser.getNodeValue;\n/**\n * Parses the given text and invokes the visitor functions for each object, array and literal reached.\n */\nexport var visit = parser.visit;\n/**\n * Takes JSON with JavaScript-style comments and remove\n * them. Optionally replaces every none-newline character\n * of comments with a replaceCharacter\n */\nexport var stripComments = parser.stripComments;\nexport function printParseErrorCode(code) {\n    switch (code) {\n        case 1 /* InvalidSymbol */: return 'InvalidSymbol';\n        case 2 /* InvalidNumberFormat */: return 'InvalidNumberFormat';\n        case 3 /* PropertyNameExpected */: return 'PropertyNameExpected';\n        case 4 /* ValueExpected */: return 'ValueExpected';\n        case 5 /* ColonExpected */: return 'ColonExpected';\n        case 6 /* CommaExpected */: return 'CommaExpected';\n        case 7 /* CloseBraceExpected */: return 'CloseBraceExpected';\n        case 8 /* CloseBracketExpected */: return 'CloseBracketExpected';\n        case 9 /* EndOfFileExpected */: return 'EndOfFileExpected';\n        case 10 /* InvalidCommentToken */: return 'InvalidCommentToken';\n        case 11 /* UnexpectedEndOfComment */: return 'UnexpectedEndOfComment';\n        case 12 /* UnexpectedEndOfString */: return 'UnexpectedEndOfString';\n        case 13 /* UnexpectedEndOfNumber */: return 'UnexpectedEndOfNumber';\n        case 14 /* InvalidUnicode */: return 'InvalidUnicode';\n        case 15 /* InvalidEscapeCharacter */: return 'InvalidEscapeCharacter';\n        case 16 /* InvalidCharacter */: return 'InvalidCharacter';\n    }\n    return '<unknown ParseErrorCode>';\n}\n/**\n * Computes the edits needed to format a JSON document.\n *\n * @param documentText The input text\n * @param range The range to format or `undefined` to format the full content\n * @param options The formatting options\n * @returns A list of edit operations describing the formatting changes to the original document. Edits can be either inserts, replacements or\n * removals of text segments. All offsets refer to the original state of the document. No two edits must change or remove the same range of\n * text in the original document. However, multiple edits can have\n * the same offset, for example multiple inserts, or an insert followed by a remove or replace. The order in the array defines which edit is applied first.\n * To apply edits to an input, you can use `applyEdits`.\n */\nexport function format(documentText, range, options) {\n    return formatter.format(documentText, range, options);\n}\n/**\n * Computes the edits needed to modify a value in the JSON document.\n *\n * @param documentText The input text\n * @param path The path of the value to change. The path represents either to the document root, a property or an array item.\n * If the path points to an non-existing property or item, it will be created.\n * @param value The new value for the specified property or item. If the value is undefined,\n * the property or item will be removed.\n * @param options Options\n * @returns A list of edit operations describing the formatting changes to the original document. Edits can be either inserts, replacements or\n * removals of text segments. All offsets refer to the original state of the document. No two edits must change or remove the same range of\n * text in the original document. However, multiple edits can have\n * the same offset, for example multiple inserts, or an insert followed by a remove or replace. The order in the array defines which edit is applied first.\n * To apply edits to an input, you can use `applyEdits`.\n */\nexport function modify(text, path, value, options) {\n    return edit.setProperty(text, path, value, options);\n}\n/**\n * Applies edits to a input string.\n */\nexport function applyEdits(text, edits) {\n    for (var i = edits.length - 1; i >= 0; i--) {\n        text = edit.applyEdit(text, edits[i]);\n    }\n    return text;\n}\n","var fs = require('fs');\nvar path = require('path');\nvar caller = require('./caller.js');\nvar nodeModulesPaths = require('./node-modules-paths.js');\nvar normalizeOptions = require('./normalize-options.js');\nvar isCore = require('./is-core');\n\nvar realpathFS = fs.realpath && typeof fs.realpath.native === 'function' ? fs.realpath.native : fs.realpath;\n\nvar defaultIsFile = function isFile(file, cb) {\n    fs.stat(file, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isFile() || stat.isFIFO());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultIsDir = function isDirectory(dir, cb) {\n    fs.stat(dir, function (err, stat) {\n        if (!err) {\n            return cb(null, stat.isDirectory());\n        }\n        if (err.code === 'ENOENT' || err.code === 'ENOTDIR') return cb(null, false);\n        return cb(err);\n    });\n};\n\nvar defaultRealpath = function realpath(x, cb) {\n    realpathFS(x, function (realpathErr, realPath) {\n        if (realpathErr && realpathErr.code !== 'ENOENT') cb(realpathErr);\n        else cb(null, realpathErr ? x : realPath);\n    });\n};\n\nvar maybeRealpath = function maybeRealpath(realpath, x, opts, cb) {\n    if (opts && opts.preserveSymlinks === false) {\n        realpath(x, cb);\n    } else {\n        cb(null, x);\n    }\n};\n\nvar getPackageCandidates = function getPackageCandidates(x, start, opts) {\n    var dirs = nodeModulesPaths(start, opts, x);\n    for (var i = 0; i < dirs.length; i++) {\n        dirs[i] = path.join(dirs[i], x);\n    }\n    return dirs;\n};\n\nmodule.exports = function resolve(x, options, callback) {\n    var cb = callback;\n    var opts = options;\n    if (typeof options === 'function') {\n        cb = opts;\n        opts = {};\n    }\n    if (typeof x !== 'string') {\n        var err = new TypeError('Path must be a string.');\n        return process.nextTick(function () {\n            cb(err);\n        });\n    }\n\n    opts = normalizeOptions(x, opts);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n    var readFile = opts.readFile || fs.readFile;\n    var realpath = opts.realpath || defaultRealpath;\n    var packageIterator = opts.packageIterator;\n\n    var extensions = opts.extensions || ['.js'];\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || [];\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = path.resolve(basedir);\n\n    maybeRealpath(\n        realpath,\n        absoluteStart,\n        opts,\n        function (err, realStart) {\n            if (err) cb(err);\n            else init(realStart);\n        }\n    );\n\n    var res;\n    function init(basedir) {\n        if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n            res = path.resolve(basedir, x);\n            if (x === '.' || x === '..' || x.slice(-1) === '/') res += '/';\n            if ((/\\/$/).test(x) && res === basedir) {\n                loadAsDirectory(res, opts.package, onfile);\n            } else loadAsFile(res, opts.package, onfile);\n        } else if (isCore(x)) {\n            return cb(null, x);\n        } else loadNodeModules(x, basedir, function (err, n, pkg) {\n            if (err) cb(err);\n            else if (n) {\n                return maybeRealpath(realpath, n, opts, function (err, realN) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realN, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function onfile(err, m, pkg) {\n        if (err) cb(err);\n        else if (m) cb(null, m, pkg);\n        else loadAsDirectory(res, function (err, d, pkg) {\n            if (err) cb(err);\n            else if (d) {\n                maybeRealpath(realpath, d, opts, function (err, realD) {\n                    if (err) {\n                        cb(err);\n                    } else {\n                        cb(null, realD, pkg);\n                    }\n                });\n            } else {\n                var moduleError = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n                moduleError.code = 'MODULE_NOT_FOUND';\n                cb(moduleError);\n            }\n        });\n    }\n\n    function loadAsFile(x, thePackage, callback) {\n        var loadAsFilePackage = thePackage;\n        var cb = callback;\n        if (typeof loadAsFilePackage === 'function') {\n            cb = loadAsFilePackage;\n            loadAsFilePackage = undefined;\n        }\n\n        var exts = [''].concat(extensions);\n        load(exts, x, loadAsFilePackage);\n\n        function load(exts, x, loadPackage) {\n            if (exts.length === 0) return cb(null, undefined, loadPackage);\n            var file = x + exts[0];\n\n            var pkg = loadPackage;\n            if (pkg) onpkg(null, pkg);\n            else loadpkg(path.dirname(file), onpkg);\n\n            function onpkg(err, pkg_, dir) {\n                pkg = pkg_;\n                if (err) return cb(err);\n                if (dir && pkg && opts.pathFilter) {\n                    var rfile = path.relative(dir, file);\n                    var rel = rfile.slice(0, rfile.length - exts[0].length);\n                    var r = opts.pathFilter(pkg, x, rel);\n                    if (r) return load(\n                        [''].concat(extensions.slice()),\n                        path.resolve(dir, r),\n                        pkg\n                    );\n                }\n                isFile(file, onex);\n            }\n            function onex(err, ex) {\n                if (err) return cb(err);\n                if (ex) return cb(null, file, pkg);\n                load(exts.slice(1), x, pkg);\n            }\n        }\n    }\n\n    function loadpkg(dir, cb) {\n        if (dir === '' || dir === '/') return cb(null);\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return cb(null);\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return cb(null);\n\n        maybeRealpath(realpath, dir, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return loadpkg(path.dirname(dir), cb);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                // on err, ex is false\n                if (!ex) return loadpkg(path.dirname(dir), cb);\n\n                readFile(pkgfile, function (err, body) {\n                    if (err) cb(err);\n                    try { var pkg = JSON.parse(body); } catch (jsonErr) {}\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n                    cb(null, pkg, dir);\n                });\n            });\n        });\n    }\n\n    function loadAsDirectory(x, loadAsDirectoryPackage, callback) {\n        var cb = callback;\n        var fpkg = loadAsDirectoryPackage;\n        if (typeof fpkg === 'function') {\n            cb = fpkg;\n            fpkg = opts.package;\n        }\n\n        maybeRealpath(realpath, x, opts, function (unwrapErr, pkgdir) {\n            if (unwrapErr) return cb(unwrapErr);\n            var pkgfile = path.join(pkgdir, 'package.json');\n            isFile(pkgfile, function (err, ex) {\n                if (err) return cb(err);\n                if (!ex) return loadAsFile(path.join(x, 'index'), fpkg, cb);\n\n                readFile(pkgfile, function (err, body) {\n                    if (err) return cb(err);\n                    try {\n                        var pkg = JSON.parse(body);\n                    } catch (jsonErr) {}\n\n                    if (pkg && opts.packageFilter) {\n                        pkg = opts.packageFilter(pkg, pkgfile);\n                    }\n\n                    if (pkg && pkg.main) {\n                        if (typeof pkg.main !== 'string') {\n                            var mainError = new TypeError('package ' + pkg.name + ' `main` must be a string');\n                            mainError.code = 'INVALID_PACKAGE_MAIN';\n                            return cb(mainError);\n                        }\n                        if (pkg.main === '.' || pkg.main === './') {\n                            pkg.main = 'index';\n                        }\n                        loadAsFile(path.resolve(x, pkg.main), pkg, function (err, m, pkg) {\n                            if (err) return cb(err);\n                            if (m) return cb(null, m, pkg);\n                            if (!pkg) return loadAsFile(path.join(x, 'index'), pkg, cb);\n\n                            var dir = path.resolve(x, pkg.main);\n                            loadAsDirectory(dir, pkg, function (err, n, pkg) {\n                                if (err) return cb(err);\n                                if (n) return cb(null, n, pkg);\n                                loadAsFile(path.join(x, 'index'), pkg, cb);\n                            });\n                        });\n                        return;\n                    }\n\n                    loadAsFile(path.join(x, '/index'), pkg, cb);\n                });\n            });\n        });\n    }\n\n    function processDirs(cb, dirs) {\n        if (dirs.length === 0) return cb(null, undefined);\n        var dir = dirs[0];\n\n        isDirectory(path.dirname(dir), isdir);\n\n        function isdir(err, isdir) {\n            if (err) return cb(err);\n            if (!isdir) return processDirs(cb, dirs.slice(1));\n            loadAsFile(dir, opts.package, onfile);\n        }\n\n        function onfile(err, m, pkg) {\n            if (err) return cb(err);\n            if (m) return cb(null, m, pkg);\n            loadAsDirectory(dir, opts.package, ondir);\n        }\n\n        function ondir(err, n, pkg) {\n            if (err) return cb(err);\n            if (n) return cb(null, n, pkg);\n            processDirs(cb, dirs.slice(1));\n        }\n    }\n    function loadNodeModules(x, start, cb) {\n        var thunk = function () { return getPackageCandidates(x, start, opts); };\n        processDirs(\n            cb,\n            packageIterator ? packageIterator(x, start, thunk, opts) : thunk()\n        );\n    }\n};\n","module.exports = function () {\n    // see https://code.google.com/p/v8/wiki/JavaScriptStackTraceApi\n    var origPrepareStackTrace = Error.prepareStackTrace;\n    Error.prepareStackTrace = function (_, stack) { return stack; };\n    var stack = (new Error()).stack;\n    Error.prepareStackTrace = origPrepareStackTrace;\n    return stack[2].getFileName();\n};\n","'use strict';\n\nvar isWindows = process.platform === 'win32';\n\n// Regex to split a windows path into three parts: [*, device, slash,\n// tail] windows-only\nvar splitDeviceRe =\n    /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\n// Regex to split the tail part of the above into [*, dir, basename, ext]\nvar splitTailRe =\n    /^([\\s\\S]*?)((?:\\.{1,2}|[^\\\\\\/]+?|)(\\.[^.\\/\\\\]*|))(?:[\\\\\\/]*)$/;\n\nvar win32 = {};\n\n// Function to split a filename into [root, dir, basename, ext]\nfunction win32SplitPath(filename) {\n  // Separate device+slash from tail\n  var result = splitDeviceRe.exec(filename),\n      device = (result[1] || '') + (result[2] || ''),\n      tail = result[3] || '';\n  // Split the tail into dir, basename and extension\n  var result2 = splitTailRe.exec(tail),\n      dir = result2[1],\n      basename = result2[2],\n      ext = result2[3];\n  return [device, dir, basename, ext];\n}\n\nwin32.parse = function(pathString) {\n  if (typeof pathString !== 'string') {\n    throw new TypeError(\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\n    );\n  }\n  var allParts = win32SplitPath(pathString);\n  if (!allParts || allParts.length !== 4) {\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\n  }\n  return {\n    root: allParts[0],\n    dir: allParts[0] + allParts[1].slice(0, -1),\n    base: allParts[2],\n    ext: allParts[3],\n    name: allParts[2].slice(0, allParts[2].length - allParts[3].length)\n  };\n};\n\n\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar posix = {};\n\n\nfunction posixSplitPath(filename) {\n  return splitPathRe.exec(filename).slice(1);\n}\n\n\nposix.parse = function(pathString) {\n  if (typeof pathString !== 'string') {\n    throw new TypeError(\n        \"Parameter 'pathString' must be a string, not \" + typeof pathString\n    );\n  }\n  var allParts = posixSplitPath(pathString);\n  if (!allParts || allParts.length !== 4) {\n    throw new TypeError(\"Invalid path '\" + pathString + \"'\");\n  }\n  allParts[1] = allParts[1] || '';\n  allParts[2] = allParts[2] || '';\n  allParts[3] = allParts[3] || '';\n\n  return {\n    root: allParts[0],\n    dir: allParts[0] + allParts[1].slice(0, -1),\n    base: allParts[2],\n    ext: allParts[3],\n    name: allParts[2].slice(0, allParts[2].length - allParts[3].length)\n  };\n};\n\n\nif (isWindows)\n  module.exports = win32.parse;\nelse /* posix */\n  module.exports = posix.parse;\n\nmodule.exports.posix = posix.parse;\nmodule.exports.win32 = win32.parse;\n","var path = require('path');\nvar parse = path.parse || require('path-parse');\n\nvar getNodeModulesDirs = function getNodeModulesDirs(absoluteStart, modules) {\n    var prefix = '/';\n    if ((/^([A-Za-z]:)/).test(absoluteStart)) {\n        prefix = '';\n    } else if ((/^\\\\\\\\/).test(absoluteStart)) {\n        prefix = '\\\\\\\\';\n    }\n\n    var paths = [absoluteStart];\n    var parsed = parse(absoluteStart);\n    while (parsed.dir !== paths[paths.length - 1]) {\n        paths.push(parsed.dir);\n        parsed = parse(parsed.dir);\n    }\n\n    return paths.reduce(function (dirs, aPath) {\n        return dirs.concat(modules.map(function (moduleDir) {\n            return path.resolve(prefix, aPath, moduleDir);\n        }));\n    }, []);\n};\n\nmodule.exports = function nodeModulesPaths(start, opts, request) {\n    var modules = opts && opts.moduleDirectory\n        ? [].concat(opts.moduleDirectory)\n        : ['node_modules'];\n\n    if (opts && typeof opts.paths === 'function') {\n        return opts.paths(\n            request,\n            start,\n            function () { return getNodeModulesDirs(start, modules); },\n            opts\n        );\n    }\n\n    var dirs = getNodeModulesDirs(start, modules);\n    return opts && opts.paths ? dirs.concat(opts.paths) : dirs;\n};\n","module.exports = function (x, opts) {\n    /**\n     * This file is purposefully a passthrough. It's expected that third-party\n     * environments will override it at runtime in order to inject special logic\n     * into `resolve` (by manipulating the options). One such example is the PnP\n     * code path in Yarn.\n     */\n\n    return opts || {};\n};\n","var current = (process.versions && process.versions.node && process.versions.node.split('.')) || [];\n\nfunction specifierIncluded(specifier) {\n    var parts = specifier.split(' ');\n    var op = parts.length > 1 ? parts[0] : '=';\n    var versionParts = (parts.length > 1 ? parts[1] : parts[0]).split('.');\n\n    for (var i = 0; i < 3; ++i) {\n        var cur = Number(current[i] || 0);\n        var ver = Number(versionParts[i] || 0);\n        if (cur === ver) {\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        }\n        if (op === '<') {\n            return cur < ver;\n        } else if (op === '>=') {\n            return cur >= ver;\n        } else {\n            return false;\n        }\n    }\n    return op === '>=';\n}\n\nfunction matchesRange(range) {\n    var specifiers = range.split(/ ?&& ?/);\n    if (specifiers.length === 0) { return false; }\n    for (var i = 0; i < specifiers.length; ++i) {\n        if (!specifierIncluded(specifiers[i])) { return false; }\n    }\n    return true;\n}\n\nfunction versionIncluded(specifierValue) {\n    if (typeof specifierValue === 'boolean') { return specifierValue; }\n    if (specifierValue && typeof specifierValue === 'object') {\n        for (var i = 0; i < specifierValue.length; ++i) {\n            if (matchesRange(specifierValue[i])) { return true; }\n        }\n        return false;\n    }\n    return matchesRange(specifierValue);\n}\n\nvar data = require('./core.json');\n\nvar core = {};\nfor (var mod in data) { // eslint-disable-line no-restricted-syntax\n    if (Object.prototype.hasOwnProperty.call(data, mod)) {\n        core[mod] = versionIncluded(data[mod]);\n    }\n}\nmodule.exports = core;\n","{\n    \"assert\": true,\n    \"async_hooks\": \">= 8\",\n    \"buffer_ieee754\": \"< 0.9.7\",\n    \"buffer\": true,\n    \"child_process\": true,\n    \"cluster\": true,\n    \"console\": true,\n    \"constants\": true,\n    \"crypto\": true,\n    \"_debug_agent\": \">= 1 && < 8\",\n    \"_debugger\": \"< 8\",\n    \"dgram\": true,\n    \"dns\": true,\n    \"domain\": true,\n    \"events\": true,\n    \"freelist\": \"< 6\",\n    \"fs\": true,\n    \"fs/promises\": [\">= 10 && < 10.1\", \">= 14\"],\n    \"_http_agent\": \">= 0.11.1\",\n    \"_http_client\": \">= 0.11.1\",\n    \"_http_common\": \">= 0.11.1\",\n    \"_http_incoming\": \">= 0.11.1\",\n    \"_http_outgoing\": \">= 0.11.1\",\n    \"_http_server\": \">= 0.11.1\",\n    \"http\": true,\n    \"http2\": \">= 8.8\",\n    \"https\": true,\n    \"inspector\": \">= 8.0.0\",\n    \"_linklist\": \"< 8\",\n    \"module\": true,\n    \"net\": true,\n    \"node-inspect/lib/_inspect\": \">= 7.6.0 && < 12\",\n    \"node-inspect/lib/internal/inspect_client\": \">= 7.6.0 && < 12\",\n    \"node-inspect/lib/internal/inspect_repl\": \">= 7.6.0 && < 12\",\n    \"os\": true,\n    \"path\": true,\n    \"perf_hooks\": \">= 8.5\",\n    \"process\": \">= 1\",\n    \"punycode\": true,\n    \"querystring\": true,\n    \"readline\": true,\n    \"repl\": true,\n    \"smalloc\": \">= 0.11.5 && < 3\",\n    \"_stream_duplex\": \">= 0.9.4\",\n    \"_stream_transform\": \">= 0.9.4\",\n    \"_stream_wrap\": \">= 1.4.1\",\n    \"_stream_passthrough\": \">= 0.9.4\",\n    \"_stream_readable\": \">= 0.9.4\",\n    \"_stream_writable\": \">= 0.9.4\",\n    \"stream\": true,\n    \"string_decoder\": true,\n    \"sys\": true,\n    \"timers\": true,\n    \"_tls_common\": \">= 0.11.13\",\n    \"_tls_legacy\": \">= 0.11.3 && < 10\",\n    \"_tls_wrap\": \">= 0.11.3\",\n    \"tls\": true,\n    \"trace_events\": \">= 10\",\n    \"tty\": true,\n    \"url\": true,\n    \"util\": true,\n    \"v8/tools/arguments\": \">= 10 && < 12\",\n    \"v8/tools/codemap\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8/tools/consarray\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8/tools/csvparser\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8/tools/logreader\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8/tools/profile_view\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8/tools/splaytree\": [\">= 4.4.0 && < 5\", \">= 5.2.0 && < 12\"],\n    \"v8\": \">= 1\",\n    \"vm\": true,\n    \"wasi\": \">= 13.4 && < 13.5\",\n    \"worker_threads\": \">= 11.7\",\n    \"zlib\": true\n}\n","var core = require('./core');\n\nmodule.exports = function isCore(x) {\n    return Object.prototype.hasOwnProperty.call(core, x);\n};\n","var async = require('./lib/async');\nasync.core = require('./lib/core');\nasync.isCore = require('./lib/is-core');\nasync.sync = require('./lib/sync');\n\nmodule.exports = async;\n","var isCore = require('./is-core');\nvar fs = require('fs');\nvar path = require('path');\nvar caller = require('./caller.js');\nvar nodeModulesPaths = require('./node-modules-paths.js');\nvar normalizeOptions = require('./normalize-options.js');\n\nvar realpathFS = fs.realpathSync && typeof fs.realpathSync.native === 'function' ? fs.realpathSync.native : fs.realpathSync;\n\nvar defaultIsFile = function isFile(file) {\n    try {\n        var stat = fs.statSync(file);\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return stat.isFile() || stat.isFIFO();\n};\n\nvar defaultIsDir = function isDirectory(dir) {\n    try {\n        var stat = fs.statSync(dir);\n    } catch (e) {\n        if (e && (e.code === 'ENOENT' || e.code === 'ENOTDIR')) return false;\n        throw e;\n    }\n    return stat.isDirectory();\n};\n\nvar defaultRealpathSync = function realpathSync(x) {\n    try {\n        return realpathFS(x);\n    } catch (realpathErr) {\n        if (realpathErr.code !== 'ENOENT') {\n            throw realpathErr;\n        }\n    }\n    return x;\n};\n\nvar maybeRealpathSync = function maybeRealpathSync(realpathSync, x, opts) {\n    if (opts && opts.preserveSymlinks === false) {\n        return realpathSync(x);\n    }\n    return x;\n};\n\nvar getPackageCandidates = function getPackageCandidates(x, start, opts) {\n    var dirs = nodeModulesPaths(start, opts, x);\n    for (var i = 0; i < dirs.length; i++) {\n        dirs[i] = path.join(dirs[i], x);\n    }\n    return dirs;\n};\n\nmodule.exports = function resolveSync(x, options) {\n    if (typeof x !== 'string') {\n        throw new TypeError('Path must be a string.');\n    }\n    var opts = normalizeOptions(x, options);\n\n    var isFile = opts.isFile || defaultIsFile;\n    var readFileSync = opts.readFileSync || fs.readFileSync;\n    var isDirectory = opts.isDirectory || defaultIsDir;\n    var realpathSync = opts.realpathSync || defaultRealpathSync;\n    var packageIterator = opts.packageIterator;\n\n    var extensions = opts.extensions || ['.js'];\n    var basedir = opts.basedir || path.dirname(caller());\n    var parent = opts.filename || basedir;\n\n    opts.paths = opts.paths || [];\n\n    // ensure that `basedir` is an absolute path at this point, resolving against the process' current working directory\n    var absoluteStart = maybeRealpathSync(realpathSync, path.resolve(basedir), opts);\n\n    if ((/^(?:\\.\\.?(?:\\/|$)|\\/|([A-Za-z]:)?[/\\\\])/).test(x)) {\n        var res = path.resolve(absoluteStart, x);\n        if (x === '.' || x === '..' || x.slice(-1) === '/') res += '/';\n        var m = loadAsFileSync(res) || loadAsDirectorySync(res);\n        if (m) return maybeRealpathSync(realpathSync, m, opts);\n    } else if (isCore(x)) {\n        return x;\n    } else {\n        var n = loadNodeModulesSync(x, absoluteStart);\n        if (n) return maybeRealpathSync(realpathSync, n, opts);\n    }\n\n    var err = new Error(\"Cannot find module '\" + x + \"' from '\" + parent + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n\n    function loadAsFileSync(x) {\n        var pkg = loadpkg(path.dirname(x));\n\n        if (pkg && pkg.dir && pkg.pkg && opts.pathFilter) {\n            var rfile = path.relative(pkg.dir, x);\n            var r = opts.pathFilter(pkg.pkg, x, rfile);\n            if (r) {\n                x = path.resolve(pkg.dir, r); // eslint-disable-line no-param-reassign\n            }\n        }\n\n        if (isFile(x)) {\n            return x;\n        }\n\n        for (var i = 0; i < extensions.length; i++) {\n            var file = x + extensions[i];\n            if (isFile(file)) {\n                return file;\n            }\n        }\n    }\n\n    function loadpkg(dir) {\n        if (dir === '' || dir === '/') return;\n        if (process.platform === 'win32' && (/^\\w:[/\\\\]*$/).test(dir)) {\n            return;\n        }\n        if ((/[/\\\\]node_modules[/\\\\]*$/).test(dir)) return;\n\n        var pkgfile = path.join(maybeRealpathSync(realpathSync, dir, opts), 'package.json');\n\n        if (!isFile(pkgfile)) {\n            return loadpkg(path.dirname(dir));\n        }\n\n        var body = readFileSync(pkgfile);\n\n        try {\n            var pkg = JSON.parse(body);\n        } catch (jsonErr) {}\n\n        if (pkg && opts.packageFilter) {\n            // v2 will pass pkgfile\n            pkg = opts.packageFilter(pkg, /*pkgfile,*/ dir); // eslint-disable-line spaced-comment\n        }\n\n        return { pkg: pkg, dir: dir };\n    }\n\n    function loadAsDirectorySync(x) {\n        var pkgfile = path.join(maybeRealpathSync(realpathSync, x, opts), '/package.json');\n        if (isFile(pkgfile)) {\n            try {\n                var body = readFileSync(pkgfile, 'UTF8');\n                var pkg = JSON.parse(body);\n            } catch (e) {}\n\n            if (pkg && opts.packageFilter) {\n                // v2 will pass pkgfile\n                pkg = opts.packageFilter(pkg, /*pkgfile,*/ x); // eslint-disable-line spaced-comment\n            }\n\n            if (pkg && pkg.main) {\n                if (typeof pkg.main !== 'string') {\n                    var mainError = new TypeError('package ' + pkg.name + ' `main` must be a string');\n                    mainError.code = 'INVALID_PACKAGE_MAIN';\n                    throw mainError;\n                }\n                if (pkg.main === '.' || pkg.main === './') {\n                    pkg.main = 'index';\n                }\n                try {\n                    var m = loadAsFileSync(path.resolve(x, pkg.main));\n                    if (m) return m;\n                    var n = loadAsDirectorySync(path.resolve(x, pkg.main));\n                    if (n) return n;\n                } catch (e) {}\n            }\n        }\n\n        return loadAsFileSync(path.join(x, '/index'));\n    }\n\n    function loadNodeModulesSync(x, start) {\n        var thunk = function () { return getPackageCandidates(x, start, opts); };\n        var dirs = packageIterator ? packageIterator(x, start, thunk, opts) : thunk();\n\n        for (var i = 0; i < dirs.length; i++) {\n            var dir = dirs[i];\n            if (isDirectory(path.dirname(dir))) {\n                var m = loadAsFileSync(dir);\n                if (m) return m;\n                var n = loadAsDirectorySync(dir);\n                if (n) return n;\n            }\n        }\n    }\n};\n","import * as fs from \"fs\"\nimport * as jsonc from \"jsonc-parser\"\nimport * as path from \"path\"\nimport Resolve from \"resolve\"\n\nexport interface Binary {\n  version: string\n  pathToBin: string\n}\n\ninterface ConfigObject {\n  tsdkPath: string\n}\n\ninterface VSCodeConfigObject {\n  \"typescript.tsdk\": string\n}\n\nexport async function resolveBinary(\n  sourcePath: string,\n  binBaseName: \"tsc\" | \"tsserver\",\n): Promise<Binary> {\n  const {NODE_PATH} = process.env as {NODE_PATH?: string}\n  const binName = `${binBaseName}.js`\n\n  const resolvedPath = await resolveModule(`typescript/lib/${binName}`, {\n    basedir: path.dirname(sourcePath),\n    paths: NODE_PATH !== undefined ? NODE_PATH.split(path.delimiter) : undefined,\n  }).catch(async () => {\n    // try to get typescript from auxiliary config file\n    const auxTsdkPath = await getSDKPath(path.dirname(sourcePath))\n    if (auxTsdkPath !== undefined) {\n      const binPath = path.join(auxTsdkPath, \"lib\", binName)\n      const exists = await fsExists(binPath)\n      if (exists) return binPath\n    }\n\n    // try to get typescript from configured tsdkPath\n    const tsdkPath = atom.config.get(\"atom-typescript.tsdkPath\")\n    if (tsdkPath) {\n      const binPath = path.join(tsdkPath, \"lib\", binName)\n      const exists = await fsExists(binPath)\n      if (exists) return binPath\n    }\n\n    // use bundled version\n    const defaultPath = require.resolve(`typescript/lib/${binName}`)\n    return defaultPath\n  })\n\n  const packagePath = path.resolve(resolvedPath, \"../../package.json\")\n  // tslint:disable-next-line:no-unsafe-any\n  const version: string = require(packagePath).version\n\n  return {\n    version,\n    pathToBin: resolvedPath,\n  }\n}\n\n// Promisify the async resolve function\nasync function resolveModule(id: string, opts: Resolve.AsyncOpts): Promise<string> {\n  return new Promise<string>((resolve, reject) =>\n    Resolve(id, opts, (err, result) => {\n      if (err) {\n        reject(err)\n      } else {\n        resolve(result)\n      }\n    }),\n  )\n}\n\nasync function fsExists(p: string) {\n  return new Promise<boolean>((resolve) =>\n    fs.access(p, fs.constants.F_OK, (err: NodeJS.ErrnoException | null) => {\n      if (err) resolve(false)\n      else resolve(true)\n    }),\n  )\n}\n\nasync function fsReadFile(p: string) {\n  return new Promise<string>((resolve, reject) =>\n    fs.readFile(p, (error, data) => {\n      if (error) reject(error)\n      else resolve(data.toString(\"utf-8\"))\n    }),\n  )\n}\n\nasync function tryConfigFiles(basedir: string, relpaths: string[][]) {\n  for (const relpath of relpaths) {\n    const configFile = path.join(basedir, ...relpath)\n    if (await fsExists(configFile)) return configFile\n  }\n}\n\nasync function resolveConfigFile(initialBaseDir: string) {\n  let basedir = initialBaseDir\n  let parent = path.dirname(basedir)\n  while (basedir !== parent) {\n    const configFile = await tryConfigFiles(basedir, [\n      [\".atom-typescript.json\"],\n      [\".atom\", \"atom-typescript.json\"],\n      [\".vscode\", \"settings.json\"],\n    ])\n    if (configFile !== undefined) return {basedir, configFile}\n    basedir = parent\n    parent = path.dirname(basedir)\n  }\n}\n\nfunction isConfigObject(x: any): x is ConfigObject {\n  // tslint:disable-next-line: no-unsafe-any\n  return typeof x === \"object\" && x !== null && typeof x.tsdkPath === \"string\"\n}\nfunction isVSCodeConfigObject(x: any): x is VSCodeConfigObject {\n  // tslint:disable-next-line: no-unsafe-any\n  return typeof x === \"object\" && x !== null && typeof x[\"typescript.tsdk\"] === \"string\"\n}\n\nasync function getSDKPath(dirname: string) {\n  const configFile = await resolveConfigFile(dirname)\n  if (configFile) {\n    try {\n      const configFileContents = jsonc.parse(await fsReadFile(configFile.configFile)) as unknown\n      let tsdkPath\n      if (isConfigObject(configFileContents)) {\n        tsdkPath = configFileContents.tsdkPath\n      } else if (isVSCodeConfigObject(configFileContents)) {\n        // NOTE: VSCode asks for path to \"typescript/lib\", while\n        // we only want path to \"typescript\". Hence the dirname here\n        tsdkPath = path.dirname(configFileContents[\"typescript.tsdk\"])\n      } else {\n        return undefined\n      }\n      return path.isAbsolute(tsdkPath) ? tsdkPath : path.join(configFile.basedir, tsdkPath)\n    } catch (e) {\n      console.warn(e)\n    }\n  }\n}\n","import {CompositeDisposable, Emitter} from \"atom\"\nimport ts from \"typescript\"\nimport {\n  ConfigFileDiagnosticEventBody,\n  Diagnostic,\n  DiagnosticEventBody,\n} from \"typescript/lib/protocol\"\nimport {ReportBusyWhile} from \"../main/pluginManager\"\nimport {TypescriptServiceClient as Client} from \"./client\"\nimport {resolveBinary} from \"./resolveBinary\"\n\nexport type DiagnosticTypes = protocol.DiagnosticEventKind | \"configFileDiag\"\n\ninterface DiagnosticsPayload {\n  diagnostics: Diagnostic[]\n  filePath: string\n  serverPath: string\n  type: DiagnosticTypes\n}\n\nexport interface EventTypes {\n  diagnostics: DiagnosticsPayload\n}\n\n/**\n * ClientResolver takes care of finding the correct tsserver for a source file based on how a\n * require(\"typescript\") from the same source file would resolve.\n */\nexport class ClientResolver {\n  private clients = new Map<string, Map<string | undefined, Client>>()\n  private memoizedClients = new Map<string, Promise<Client>>()\n  private emitter = new Emitter<{}, EventTypes>()\n  private subscriptions = new CompositeDisposable()\n  private tsserverInstancePerTsconfig = atom.config.get(\"atom-typescript\")\n    .tsserverInstancePerTsconfig\n  // This is just here so TypeScript can infer the types of the callbacks when using \"on\" method\n  // tslint:disable-next-line:member-ordering\n  public on = this.emitter.on.bind(this.emitter)\n\n  constructor(private reportBusyWhile: ReportBusyWhile) {}\n\n  public async restartAllServers() {\n    await this.reportBusyWhile(\"Restarting servers\", () =>\n      Promise.all(Array.from(this.getAllClients()).map((client) => client.restartServer())),\n    )\n  }\n\n  public async get(pFilePath: string): Promise<Client> {\n    const memo = this.memoizedClients.get(pFilePath)\n    if (memo) return memo\n    const client = this._get(pFilePath)\n    this.memoizedClients.set(pFilePath, client)\n    try {\n      return await client\n    } catch (e) {\n      this.memoizedClients.delete(pFilePath)\n      throw e\n    }\n  }\n\n  public dispose() {\n    this.emitter.dispose()\n    this.subscriptions.dispose()\n    this.memoizedClients.clear()\n    this.clients.clear()\n  }\n\n  private async _get(pFilePath: string): Promise<Client> {\n    const {pathToBin, version} = await resolveBinary(pFilePath, \"tsserver\")\n    const tsconfigPath = this.tsserverInstancePerTsconfig\n      ? ts.findConfigFile(pFilePath, (f) => ts.sys.fileExists(f))\n      : undefined\n\n    let tsconfigMap = this.clients.get(pathToBin)\n    if (!tsconfigMap) {\n      tsconfigMap = new Map()\n      this.clients.set(pathToBin, tsconfigMap)\n    }\n    const client = tsconfigMap.get(tsconfigPath)\n    if (client) return client\n\n    const newClient = new Client(pathToBin, version, this.reportBusyWhile)\n    tsconfigMap.set(tsconfigPath, newClient)\n\n    this.subscriptions.add(\n      newClient.on(\"configFileDiag\", this.diagnosticHandler(pathToBin, \"configFileDiag\")),\n      newClient.on(\"semanticDiag\", this.diagnosticHandler(pathToBin, \"semanticDiag\")),\n      newClient.on(\"syntaxDiag\", this.diagnosticHandler(pathToBin, \"syntaxDiag\")),\n      newClient.on(\"suggestionDiag\", this.diagnosticHandler(pathToBin, \"suggestionDiag\")),\n    )\n\n    return newClient\n  }\n\n  private *getAllClients() {\n    for (const tsconfigMap of this.clients.values()) {\n      yield* tsconfigMap.values()\n    }\n  }\n\n  private diagnosticHandler = (serverPath: string, type: DiagnosticTypes) => (\n    result: DiagnosticEventBody | ConfigFileDiagnosticEventBody,\n  ) => {\n    const filePath = isConfDiagBody(result) ? result.configFile : result.file\n\n    if (filePath) {\n      this.emitter.emit(\"diagnostics\", {\n        type,\n        serverPath,\n        filePath,\n        diagnostics: result.diagnostics,\n      })\n    }\n  }\n}\n\nfunction isConfDiagBody(body: any): body is ConfigFileDiagnosticEventBody {\n  // tslint:disable-next-line:no-unsafe-any\n  return body && body.triggerFile && body.configFile\n}\n","import {CodeHighlightProvider} from \"atom-ide-base\"\nimport {DocumentHighlightsItem} from \"typescript/lib/protocol\"\nimport {GetClientFunction} from \"../../client\"\nimport {\n  getFilePathPosition,\n  isTypescriptEditorWithPath,\n  spanToRange,\n  typeScriptScopes,\n} from \"../atom/utils\"\n\nexport function getCodeHighlightProvider(getClient: GetClientFunction): CodeHighlightProvider {\n  return {\n    grammarScopes: typeScriptScopes(),\n    priority: 100,\n    async highlight(editor, position) {\n      if (!isTypescriptEditorWithPath(editor)) return\n      const location = getFilePathPosition(editor, position)\n      if (!location) return\n      const client = await getClient(location.file)\n      const result = await client.execute(\"documentHighlights\", {\n        ...location,\n        filesToSearch: [location.file],\n      })\n      if (!result.body) return\n      return Array.from(getSpans(location.file, result.body))\n    },\n  }\n}\n\nfunction* getSpans(file: string, data: DocumentHighlightsItem[]) {\n  for (const fileInfo of data) {\n    if (fileInfo.file !== file) continue\n    yield* fileInfo.highlightSpans.map(spanToRange)\n  }\n}\n","export async function renderTooltip(\n  data: protocol.QuickInfoResponseBody | undefined,\n  etch: any,\n  codeRenderer: (code: string) => Promise<JSX.Element> | JSX.Element,\n) {\n  if (data === undefined) return null\n\n  const kind = (\n    <div className=\"atom-typescript-datatip-tooltip-kind\">\n      {data.kind}\n      {formatKindModifiers(data.kindModifiers)}\n    </div>\n  )\n\n  // tslint:disable-next-line: strict-boolean-expressions // TODO: complain on TS\n  const tags = data.tags\n    ? data.tags.map((tag) => {\n        const tagClass =\n          \"atom-typescript-datatip-tooltip-doc-tag \" +\n          `atom-typescript-datatip-tooltip-doc-tag-name-${tag.name}`\n        return (\n          <div className={tagClass}>\n            <span className=\"atom-typescript-datatip-tooltip-doc-tag-name\">{tag.name}</span>\n            {formatTagText(etch, tag.text)}\n          </div>\n        )\n      })\n    : null\n\n  const docs = (\n    <div className=\"atom-typescript-datatip-tooltip-doc\">\n      {data.documentation}\n      {tags}\n    </div>\n  )\n\n  const codeText = data.displayString.replace(/^\\(.+?\\)\\s+/, \"\")\n  return [await codeRenderer(codeText), kind, docs]\n}\n\nfunction formatKindModifiers(etch: any, text?: string) {\n  if (text === undefined) return null\n  return <span className=\"atom-typescript-datatip-tooltip-kind-modifiers\">{text}</span>\n}\n\nfunction formatTagText(etch: any, tagText?: string) {\n  if (tagText === undefined) return null\n\n  const [, firstWord, restOfText] = /^\\s*(\\S*)([^]*)$/.exec(tagText)!\n  return (\n    <span className=\"atom-typescript-datatip-tooltip-doc-tag-text\">\n      <span className=\"atom-typescript-datatip-tooltip-doc-tag-text-first-word\">{firstWord}</span>\n      {restOfText}\n    </span>\n  )\n}\n","import * as Atom from \"atom\"\nimport {Datatip, DatatipProvider} from \"atom-ide-base\"\nimport {GetClientFunction} from \"../../client\"\nimport {renderTooltip} from \"../atom/tooltips/tooltipRenderer\"\nimport {highlight, locationToPoint, typeScriptScopes} from \"../atom/utils\"\n\n// Note: a horrible hack to avoid dependency on React\nconst REACT_ELEMENT_SYMBOL = Symbol.for(\"react.element\")\nconst etch = {\n  dom(type: string, props: any, ...children: any[]): any {\n    if (children.length > 0) {\n      return {\n        $$typeof: REACT_ELEMENT_SYMBOL,\n        type,\n        ref: null,\n        props: {...props, children},\n      }\n    } else {\n      return {\n        $$typeof: REACT_ELEMENT_SYMBOL,\n        type,\n        ref: null,\n        props: {...props},\n      }\n    }\n  },\n}\n\nexport class TSDatatipProvider implements DatatipProvider {\n  public readonly providerName = \"TypeScript type tooltips\"\n  public readonly priority = 100\n  public readonly grammarScopes = typeScriptScopes()\n\n  constructor(private getClient: GetClientFunction) {}\n\n  public async datatip(\n    editor: Atom.TextEditor,\n    bufferPt: Atom.Point,\n  ): Promise<Datatip | undefined> {\n    try {\n      const filePath = editor.getPath()\n      if (filePath === undefined) return\n      const client = await this.getClient(filePath)\n      const result = await client.execute(\"quickinfo\", {\n        file: filePath,\n        line: bufferPt.row + 1,\n        offset: bufferPt.column + 1,\n      })\n      const data = result.body!\n      const tooltip = await renderTooltip(data, etch, highlightCode)\n      return {\n        component: () => <div className=\"atom-typescript-datatip-tooltip\">{tooltip}</div>,\n        range: Atom.Range.fromObject([locationToPoint(data.start), locationToPoint(data.end)]),\n      }\n    } catch (e) {\n      return\n    }\n  }\n}\n\nasync function highlightCode(code: string) {\n  const fontFamily = atom.config.get(\"editor.fontFamily\")\n\n  const html = await highlight(code.replace(/\\r?\\n$/, \"\"), \"source.ts\")\n  return (\n    <div\n      style={{fontFamily}}\n      className=\"atom-typescript-datatip-tooltip-code\"\n      dangerouslySetInnerHTML={{__html: html.join(\"\\n\")}}\n    />\n  )\n}\n","import {Definition, DefinitionProvider} from \"atom-ide-base\"\nimport {FileSpan} from \"typescript/lib/protocol\"\nimport {GetClientFunction} from \"../../client\"\nimport {\n  getFilePathPosition,\n  isTypescriptEditorWithPath,\n  spanToRange,\n  typeScriptScopes,\n} from \"../atom/utils\"\n\nexport function getDefinitionProvider(getClient: GetClientFunction): DefinitionProvider {\n  return {\n    priority: 0,\n    grammarScopes: typeScriptScopes(),\n    wordRegExp: /([A-Za-z0-9_])+|['\"`](\\\\.|[^'\"`\\\\\\\\])*['\"`]/g,\n    async getDefinition(editor, position) {\n      if (!isTypescriptEditorWithPath(editor)) return\n      const location = getFilePathPosition(editor, position)\n      if (!location) return\n      const client = await getClient(location.file)\n      const result = await client.execute(\"definition\", location)\n      if (!result.body) return\n      if (result.body.length === 0) return\n\n      return {\n        queryRange: undefined,\n        definitions: result.body.map(fileSpanToDefinition),\n      }\n    },\n  }\n}\n\nfunction fileSpanToDefinition(span: FileSpan): Definition {\n  const range = spanToRange(span)\n  return {\n    path: span.file,\n    position: range.start,\n    range,\n    language: \"TypeScript\",\n  }\n}\n","import {FindReferencesProvider, Reference} from \"atom-ide-base\"\nimport {GetClientFunction} from \"../../client\"\nimport {getFilePathPosition, isTypescriptEditorWithPath, locationsToRange} from \"../atom/utils\"\n\nexport function getFindReferencesProvider(getClient: GetClientFunction): FindReferencesProvider {\n  return {\n    async isEditorSupported(editor) {\n      return isTypescriptEditorWithPath(editor)\n    },\n    async findReferences(editor, position) {\n      const location = getFilePathPosition(editor, position)\n      if (!location) return\n\n      const client = await getClient(location.file)\n      const result = await client.execute(\"references\", location)\n      if (!result.body) return\n      return {\n        type: \"data\",\n        baseUri: location.file,\n        referencedSymbolName: result.body.symbolDisplayString,\n        references: result.body.refs.map(refTsToIde),\n      }\n    },\n  }\n}\n\nfunction refTsToIde(ref: protocol.ReferencesResponseItem): Reference {\n  return {\n    uri: ref.file,\n    range: locationsToRange(ref.start, ref.end),\n    name: undefined,\n  }\n}\n","import * as etch from \"etch\"\n\ninterface Props extends JSX.Props {\n  highlightedText: string\n}\n\nexport class TsView implements JSX.ElementClass {\n  constructor(public props: Props) {\n    etch.initialize(this)\n  }\n\n  public async update(props: Partial<Props>) {\n    this.props = {...this.props, ...props}\n    return etch.update(this)\n  }\n\n  public render() {\n    const style = {\n      fontFamily: atom.config.get(\"editor.fontFamily\"),\n    }\n    return (\n      <div className=\"editor editor-colors\" style={style} innerHTML={this.props.highlightedText} />\n    )\n  }\n}\n","(function() {\n  var PathSeparator, queryIsLastPathSegment;\n\n  PathSeparator = require('path').sep;\n\n  exports.basenameScore = function(string, query, score) {\n    var base, depth, index, lastCharacter, segmentCount, slashCount;\n    index = string.length - 1;\n    while (string[index] === PathSeparator) {\n      index--;\n    }\n    slashCount = 0;\n    lastCharacter = index;\n    base = null;\n    while (index >= 0) {\n      if (string[index] === PathSeparator) {\n        slashCount++;\n        if (base == null) {\n          base = string.substring(index + 1, lastCharacter + 1);\n        }\n      } else if (index === 0) {\n        if (lastCharacter < string.length - 1) {\n          if (base == null) {\n            base = string.substring(0, lastCharacter + 1);\n          }\n        } else {\n          if (base == null) {\n            base = string;\n          }\n        }\n      }\n      index--;\n    }\n    if (base === string) {\n      score *= 2;\n    } else if (base) {\n      score += exports.score(base, query);\n    }\n    segmentCount = slashCount + 1;\n    depth = Math.max(1, 10 - segmentCount);\n    score *= depth * 0.01;\n    return score;\n  };\n\n  exports.score = function(string, query) {\n    var character, characterScore, indexInQuery, indexInString, lowerCaseIndex, minIndex, queryLength, queryScore, stringLength, totalCharacterScore, upperCaseIndex, _ref;\n    if (string === query) {\n      return 1;\n    }\n    if (queryIsLastPathSegment(string, query)) {\n      return 1;\n    }\n    totalCharacterScore = 0;\n    queryLength = query.length;\n    stringLength = string.length;\n    indexInQuery = 0;\n    indexInString = 0;\n    while (indexInQuery < queryLength) {\n      character = query[indexInQuery++];\n      lowerCaseIndex = string.indexOf(character.toLowerCase());\n      upperCaseIndex = string.indexOf(character.toUpperCase());\n      minIndex = Math.min(lowerCaseIndex, upperCaseIndex);\n      if (minIndex === -1) {\n        minIndex = Math.max(lowerCaseIndex, upperCaseIndex);\n      }\n      indexInString = minIndex;\n      if (indexInString === -1) {\n        return 0;\n      }\n      characterScore = 0.1;\n      if (string[indexInString] === character) {\n        characterScore += 0.1;\n      }\n      if (indexInString === 0 || string[indexInString - 1] === PathSeparator) {\n        characterScore += 0.8;\n      } else if ((_ref = string[indexInString - 1]) === '-' || _ref === '_' || _ref === ' ') {\n        characterScore += 0.7;\n      }\n      string = string.substring(indexInString + 1, stringLength);\n      totalCharacterScore += characterScore;\n    }\n    queryScore = totalCharacterScore / queryLength;\n    return ((queryScore * (queryLength / stringLength)) + queryScore) / 2;\n  };\n\n  queryIsLastPathSegment = function(string, query) {\n    if (string[string.length - query.length - 1] === PathSeparator) {\n      return string.lastIndexOf(query) === string.length - query.length;\n    }\n  };\n\n}).call(this);\n","(function() {\n  var pluckCandidates, scorer, sortCandidates;\n\n  scorer = require('./scorer');\n\n  pluckCandidates = function(a) {\n    return a.candidate;\n  };\n\n  sortCandidates = function(a, b) {\n    return b.score - a.score;\n  };\n\n  module.exports = function(candidates, query, queryHasSlashes, _arg) {\n    var candidate, key, maxResults, score, scoredCandidates, string, _i, _len, _ref;\n    _ref = _arg != null ? _arg : {}, key = _ref.key, maxResults = _ref.maxResults;\n    if (query) {\n      scoredCandidates = [];\n      for (_i = 0, _len = candidates.length; _i < _len; _i++) {\n        candidate = candidates[_i];\n        string = key != null ? candidate[key] : candidate;\n        if (!string) {\n          continue;\n        }\n        score = scorer.score(string, query, queryHasSlashes);\n        if (!queryHasSlashes) {\n          score = scorer.basenameScore(string, query, score);\n        }\n        if (score > 0) {\n          scoredCandidates.push({\n            candidate: candidate,\n            score: score\n          });\n        }\n      }\n      scoredCandidates.sort(sortCandidates);\n      candidates = scoredCandidates.map(pluckCandidates);\n    }\n    if (maxResults != null) {\n      candidates = candidates.slice(0, maxResults);\n    }\n    return candidates;\n  };\n\n}).call(this);\n","(function() {\n  var PathSeparator;\n\n  PathSeparator = require('path').sep;\n\n  exports.basenameMatch = function(string, query) {\n    var base, index, lastCharacter, slashCount;\n    index = string.length - 1;\n    while (string[index] === PathSeparator) {\n      index--;\n    }\n    slashCount = 0;\n    lastCharacter = index;\n    base = null;\n    while (index >= 0) {\n      if (string[index] === PathSeparator) {\n        slashCount++;\n        if (base == null) {\n          base = string.substring(index + 1, lastCharacter + 1);\n        }\n      } else if (index === 0) {\n        if (lastCharacter < string.length - 1) {\n          if (base == null) {\n            base = string.substring(0, lastCharacter + 1);\n          }\n        } else {\n          if (base == null) {\n            base = string;\n          }\n        }\n      }\n      index--;\n    }\n    return exports.match(base, query, string.length - base.length);\n  };\n\n  exports.match = function(string, query, stringOffset) {\n    var character, indexInQuery, indexInString, lowerCaseIndex, matches, minIndex, queryLength, stringLength, upperCaseIndex, _i, _ref, _results;\n    if (stringOffset == null) {\n      stringOffset = 0;\n    }\n    if (string === query) {\n      return (function() {\n        _results = [];\n        for (var _i = stringOffset, _ref = stringOffset + string.length; stringOffset <= _ref ? _i < _ref : _i > _ref; stringOffset <= _ref ? _i++ : _i--){ _results.push(_i); }\n        return _results;\n      }).apply(this);\n    }\n    queryLength = query.length;\n    stringLength = string.length;\n    indexInQuery = 0;\n    indexInString = 0;\n    matches = [];\n    while (indexInQuery < queryLength) {\n      character = query[indexInQuery++];\n      lowerCaseIndex = string.indexOf(character.toLowerCase());\n      upperCaseIndex = string.indexOf(character.toUpperCase());\n      minIndex = Math.min(lowerCaseIndex, upperCaseIndex);\n      if (minIndex === -1) {\n        minIndex = Math.max(lowerCaseIndex, upperCaseIndex);\n      }\n      indexInString = minIndex;\n      if (indexInString === -1) {\n        return [];\n      }\n      matches.push(stringOffset + indexInString);\n      stringOffset += indexInString + 1;\n      string = string.substring(indexInString + 1, stringLength);\n    }\n    return matches;\n  };\n\n}).call(this);\n","(function() {\n  var PathSeparator, SpaceRegex, filter, matcher, scorer;\n\n  scorer = require('./scorer');\n\n  filter = require('./filter');\n\n  matcher = require('./matcher');\n\n  PathSeparator = require('path').sep;\n\n  SpaceRegex = /\\ /g;\n\n  module.exports = {\n    filter: function(candidates, query, options) {\n      var queryHasSlashes;\n      if (query) {\n        queryHasSlashes = query.indexOf(PathSeparator) !== -1;\n        query = query.replace(SpaceRegex, '');\n      }\n      return filter(candidates, query, queryHasSlashes, options);\n    },\n    score: function(string, query) {\n      var queryHasSlashes, score;\n      if (!string) {\n        return 0;\n      }\n      if (!query) {\n        return 0;\n      }\n      if (string === query) {\n        return 2;\n      }\n      queryHasSlashes = query.indexOf(PathSeparator) !== -1;\n      query = query.replace(SpaceRegex, '');\n      score = scorer.score(string, query);\n      if (!queryHasSlashes) {\n        score = scorer.basenameScore(string, query, score);\n      }\n      return score;\n    },\n    match: function(string, query) {\n      var baseMatches, index, matches, queryHasSlashes, seen, _i, _ref, _results;\n      if (!string) {\n        return [];\n      }\n      if (!query) {\n        return [];\n      }\n      if (string === query) {\n        return (function() {\n          _results = [];\n          for (var _i = 0, _ref = string.length; 0 <= _ref ? _i < _ref : _i > _ref; 0 <= _ref ? _i++ : _i--){ _results.push(_i); }\n          return _results;\n        }).apply(this);\n      }\n      queryHasSlashes = query.indexOf(PathSeparator) !== -1;\n      query = query.replace(SpaceRegex, '');\n      matches = matcher.match(string, query);\n      if (!queryHasSlashes) {\n        baseMatches = matcher.basenameMatch(string, query);\n        matches = matches.concat(baseMatches).sort(function(a, b) {\n          return a - b;\n        });\n        seen = null;\n        index = 0;\n        while (index < matches.length) {\n          if (index && seen === matches[index]) {\n            matches.splice(index, 1);\n          } else {\n            seen = matches[index];\n            index++;\n          }\n        }\n      }\n      return matches;\n    }\n  };\n\n}).call(this);\n","import * as etch from \"etch\"\nimport {match} from \"fuzzaldrin\"\n\nexport interface Props extends JSX.Props {\n  label: string\n  query: string\n}\n\nexport interface QueryMatch {\n  text: string\n  type?: \"character-match\"\n}\n\nexport class HighlightComponent implements JSX.ElementClass {\n  private matches: QueryMatch[]\n  constructor(public props: Props) {\n    this.matches = this.match(this.props)\n    etch.initialize(this)\n  }\n\n  public async update(props: Partial<Props>) {\n    this.props = {...this.props, ...props}\n    this.matches = this.match(this.props)\n    await etch.update(this)\n  }\n\n  public async destroy() {\n    await etch.destroy(this)\n  }\n\n  public render(): JSX.Element {\n    return (\n      <span>\n        {this.matches.map((m) => (\n          <span className={m.type}>{m.text}</span>\n        ))}\n      </span>\n    )\n  }\n\n  private match(props: Props): QueryMatch[] {\n    if (props.query) {\n      return highlightMatches(props.label, props.query)\n    }\n    return [{text: props.label}]\n  }\n}\n\n// extracted/adapted from symbols-view package (symbols-view.js::SymbolsView.highlightMatches)\nexport function highlightMatches(name: string, query: string): QueryMatch[] {\n  let lastIndex: number = 0\n  let matchedChars: string[] = [] // Build up a set of matched chars to be more semantic\n  const queryMatches: QueryMatch[] = []\n\n  const matches: number[] = match(name, query) as number[]\n  let matchIndex: number\n  for (matchIndex of matches) {\n    if (matchIndex < 0) {\n      continue // If marking up the basename, omit name matches\n    }\n    const unmatched = name.substring(lastIndex, matchIndex)\n    if (unmatched) {\n      if (matchedChars.length > 0) {\n        queryMatches.push({text: matchedChars.join(\"\"), type: \"character-match\"})\n      }\n      matchedChars = []\n      queryMatches.push({text: unmatched})\n    }\n    matchedChars.push(name[matchIndex])\n    lastIndex = matchIndex + 1\n  }\n\n  if (matchedChars.length > 0) {\n    queryMatches.push({text: matchedChars.join(\"\"), type: \"character-match\"})\n  }\n\n  // Remaining characters are plain text\n  queryMatches.push({text: name.substring(lastIndex)})\n\n  return queryMatches\n}\n","const {Disposable, CompositeDisposable, TextEditor} = require('atom')\nconst etch = require('etch')\nconst $ = etch.dom\nconst fuzzaldrin = require('fuzzaldrin')\n\nmodule.exports = class SelectListView {\n  static setScheduler (scheduler) {\n    etch.setScheduler(scheduler)\n  }\n\n  static getScheduler (scheduler) {\n    return etch.getScheduler()\n  }\n\n  constructor (props) {\n    this.props = props\n    if (!this.props.hasOwnProperty('initialSelectionIndex')) {\n      this.props.initialSelectionIndex = 0\n    }\n    if (props.initiallyVisibleItemCount) {\n      this.initializeVisibilityObserver()\n    }\n    this.computeItems(false)\n    this.disposables = new CompositeDisposable()\n    etch.initialize(this)\n    this.element.classList.add('select-list')\n    this.disposables.add(this.refs.queryEditor.onDidChange(this.didChangeQuery.bind(this)))\n    if (!props.skipCommandsRegistration) {\n      this.disposables.add(this.registerAtomCommands())\n    }\n    const editorElement = this.refs.queryEditor.element\n    const didLoseFocus = this.didLoseFocus.bind(this)\n    editorElement.addEventListener('blur', didLoseFocus)\n\n    // When clicking the scrollbar of the items list, a blur event will be triggered\n    // on the query editor element, but we don't want to treat that as a cancellation.\n    // This mousedown listener allows us to detect this case and restore focus to the\n    // query editor. This is based on https://stackoverflow.com/a/1480178.\n    this.didClickItemsList = false\n    this.element.addEventListener('mousedown', event => {\n      if (event.target === this.refs.items) {\n        this.didClickItemsList = true\n      }\n    })\n    this.disposables.add(new Disposable(() => { editorElement.removeEventListener('blur', didLoseFocus) }))\n  }\n\n  initializeVisibilityObserver () {\n    this.visibilityObserver = new IntersectionObserver(changes => {\n      for (const change of changes) {\n        if (change.intersectionRatio > 0) {\n          const element = change.target\n          this.visibilityObserver.unobserve(element)\n          const index = Array.from(this.refs.items.children).indexOf(element)\n          if (index >= 0) {\n            this.renderItemAtIndex(index)\n          }\n        }\n      }\n    })\n  }\n\n  focus () {\n    this.refs.queryEditor.element.focus()\n  }\n\n  didLoseFocus (event) {\n    if (this.didClickItemsList || this.element.contains(event.relatedTarget)) {\n      this.didClickItemsList = false\n      this.refs.queryEditor.element.focus()\n    } else if (document.hasFocus()) {\n      this.cancelSelection()\n    }\n  }\n\n  reset () {\n    this.refs.queryEditor.setText('')\n  }\n\n  destroy () {\n    this.disposables.dispose()\n    if (this.visibilityObserver) this.visibilityObserver.disconnect()\n    return etch.destroy(this)\n  }\n\n  registerAtomCommands () {\n    return global.atom.commands.add(this.element, {\n      'core:move-up': (event) => {\n        this.selectPrevious()\n        event.stopPropagation()\n      },\n      'core:move-down': (event) => {\n        this.selectNext()\n        event.stopPropagation()\n      },\n      'core:move-to-top': (event) => {\n        this.selectFirst()\n        event.stopPropagation()\n      },\n      'core:move-to-bottom': (event) => {\n        this.selectLast()\n        event.stopPropagation()\n      },\n      'core:confirm': (event) => {\n        this.confirmSelection()\n        event.stopPropagation()\n      },\n      'core:cancel': (event) => {\n        this.cancelSelection()\n        event.stopPropagation()\n      }\n    })\n  }\n\n  update (props = {}) {\n    let shouldComputeItems = false\n\n    if (props.hasOwnProperty('items')) {\n      this.props.items = props.items\n      shouldComputeItems = true\n    }\n\n    if (props.hasOwnProperty('maxResults')) {\n      this.props.maxResults = props.maxResults\n      shouldComputeItems = true\n    }\n\n    if (props.hasOwnProperty('filter')) {\n      this.props.filter = props.filter\n      shouldComputeItems = true\n    }\n\n    if (props.hasOwnProperty('filterQuery')) {\n      this.props.filterQuery = props.filterQuery\n      shouldComputeItems = true\n    }\n\n    if (props.hasOwnProperty('query')) {\n      // Items will be recomputed as part of the change event handler, so we\n      // don't need to recompute them again at the end of this function.\n      this.refs.queryEditor.setText(props.query)\n      shouldComputeItems = false\n    }\n\n    if (props.hasOwnProperty('selectQuery')) {\n      if (props.selectQuery) {\n        this.refs.queryEditor.selectAll()\n      } else {\n        this.refs.queryEditor.clearSelections()\n      }\n    }\n\n    if (props.hasOwnProperty('order')) {\n      this.props.order = props.order\n    }\n\n    if (props.hasOwnProperty('emptyMessage')) {\n      this.props.emptyMessage = props.emptyMessage\n    }\n\n    if (props.hasOwnProperty('errorMessage')) {\n      this.props.errorMessage = props.errorMessage\n    }\n\n    if (props.hasOwnProperty('infoMessage')) {\n      this.props.infoMessage = props.infoMessage\n    }\n\n    if (props.hasOwnProperty('loadingMessage')) {\n      this.props.loadingMessage = props.loadingMessage\n    }\n\n    if (props.hasOwnProperty('loadingBadge')) {\n      this.props.loadingBadge = props.loadingBadge\n    }\n\n    if (props.hasOwnProperty('itemsClassList')) {\n      this.props.itemsClassList = props.itemsClassList\n    }\n\n    if (props.hasOwnProperty('initialSelectionIndex')) {\n      this.props.initialSelectionIndex = props.initialSelectionIndex\n    }\n\n    if (shouldComputeItems) {\n      this.computeItems()\n    }\n\n    return etch.update(this)\n  }\n\n  render () {\n    return $.div(\n      {},\n      $(TextEditor, {ref: 'queryEditor', mini: true}),\n      this.renderLoadingMessage(),\n      this.renderInfoMessage(),\n      this.renderErrorMessage(),\n      this.renderItems()\n    )\n  }\n\n  renderItems () {\n    if (this.items.length > 0) {\n      const className = ['list-group'].concat(this.props.itemsClassList || []).join(' ')\n\n      if (this.visibilityObserver) {\n        etch.getScheduler().updateDocument(() => {\n          Array.from(this.refs.items.children).slice(this.props.initiallyVisibleItemCount).forEach(element => {\n            this.visibilityObserver.observe(element)\n          })\n        })\n      }\n\n      this.listItems = this.items.map((item, index) => {\n        const selected = this.getSelectedItem() === item\n        const visible = !this.props.initiallyVisibleItemCount || index < this.props.initiallyVisibleItemCount\n        return $(ListItemView, {\n          element: this.props.elementForItem(item, {selected, index, visible}),\n          selected: selected,\n          onclick: () => this.didClickItem(index)\n        })\n      })\n\n      return $.ol(\n        {className, ref: 'items'},\n        ...this.listItems\n      )\n    } else if (!this.props.loadingMessage && this.props.emptyMessage) {\n      return $.span({ref: 'emptyMessage'}, this.props.emptyMessage)\n    } else {\n      return \"\"\n    }\n  }\n\n  renderErrorMessage () {\n    if (this.props.errorMessage) {\n      return $.span({ref: 'errorMessage'}, this.props.errorMessage)\n    } else {\n      return ''\n    }\n  }\n\n  renderInfoMessage () {\n    if (this.props.infoMessage) {\n      return $.span({ref: 'infoMessage'}, this.props.infoMessage)\n    } else {\n      return ''\n    }\n  }\n\n  renderLoadingMessage () {\n    if (this.props.loadingMessage) {\n      return $.div(\n        {className: 'loading'},\n        $.span({ref: 'loadingMessage', className: 'loading-message'}, this.props.loadingMessage),\n        this.props.loadingBadge ? $.span({ref: 'loadingBadge', className: 'badge'}, this.props.loadingBadge) : ''\n      )\n    } else {\n      return ''\n    }\n  }\n\n  getQuery () {\n    if (this.refs && this.refs.queryEditor) {\n      return this.refs.queryEditor.getText()\n    } else {\n      return ''\n    }\n  }\n\n  getFilterQuery () {\n    return this.props.filterQuery ? this.props.filterQuery(this.getQuery()) : this.getQuery()\n  }\n\n  didChangeQuery () {\n    if (this.props.didChangeQuery) {\n      this.props.didChangeQuery(this.getFilterQuery())\n    }\n\n    this.computeItems()\n  }\n\n  didClickItem (itemIndex) {\n    this.selectIndex(itemIndex)\n    this.confirmSelection()\n  }\n\n  computeItems (updateComponent) {\n    this.listItems = null\n    if (this.visibilityObserver) this.visibilityObserver.disconnect()\n    const filterFn = this.props.filter || this.fuzzyFilter.bind(this)\n    this.items = filterFn(this.props.items.slice(), this.getFilterQuery())\n    if (this.props.order) {\n      this.items.sort(this.props.order)\n    }\n    if (this.props.maxResults) {\n      this.items = this.items.slice(0, this.props.maxResults)\n    }\n\n    this.selectIndex(this.props.initialSelectionIndex, updateComponent)\n  }\n\n  fuzzyFilter (items, query) {\n    if (query.length === 0) {\n      return items\n    } else {\n      const scoredItems = []\n      for (const item of items) {\n        const string = this.props.filterKeyForItem ? this.props.filterKeyForItem(item) : item\n        let score = fuzzaldrin.score(string, query)\n        if (score > 0) {\n          scoredItems.push({item, score})\n        }\n      }\n      scoredItems.sort((a, b) => b.score - a.score)\n      return scoredItems.map((i) => i.item)\n    }\n  }\n\n  getSelectedItem () {\n    if (this.selectionIndex === undefined) return null\n    return this.items[this.selectionIndex]\n  }\n\n  renderItemAtIndex (index) {\n    const item = this.items[index]\n    const selected = this.getSelectedItem() === item\n    const component = this.listItems[index].component\n    if (this.visibilityObserver) this.visibilityObserver.unobserve(component.element)\n    component.update({\n      element: this.props.elementForItem(item, {selected, index, visible: true}),\n      selected: selected,\n      onclick: () => this.didClickItem(index)\n    })\n  }\n\n  selectPrevious () {\n    if (this.selectionIndex === undefined) return this.selectLast()\n    return this.selectIndex(this.selectionIndex - 1)\n  }\n\n  selectNext () {\n    if (this.selectionIndex === undefined) return this.selectFirst()\n    return this.selectIndex(this.selectionIndex + 1)\n  }\n\n  selectFirst () {\n    return this.selectIndex(0)\n  }\n\n  selectLast () {\n    return this.selectIndex(this.items.length - 1)\n  }\n\n  selectNone () {\n    return this.selectIndex(undefined)\n  }\n\n  selectIndex (index, updateComponent = true) {\n    if (index >= this.items.length) {\n      index = 0\n    } else if (index < 0) {\n      index = this.items.length - 1\n    }\n\n    const oldIndex = this.selectionIndex\n\n    this.selectionIndex = index\n    if (index !== undefined && this.props.didChangeSelection) {\n      this.props.didChangeSelection(this.getSelectedItem())\n    }\n\n    if (updateComponent) {\n      if (this.listItems) {\n        if (oldIndex >= 0) this.renderItemAtIndex(oldIndex)\n        if (index >= 0) this.renderItemAtIndex(index)\n        return etch.getScheduler().getNextUpdatePromise()\n      } else {\n        return etch.update(this)\n      }\n    } else {\n      return Promise.resolve()\n    }\n  }\n\n  selectItem (item) {\n    const index = this.items.indexOf(item)\n    if (index === -1) {\n      throw new Error('Cannot select the specified item because it does not exist.')\n    } else {\n      return this.selectIndex(index)\n    }\n  }\n\n  confirmSelection () {\n    const selectedItem = this.getSelectedItem()\n    if (selectedItem != null) {\n      if (this.props.didConfirmSelection) {\n        this.props.didConfirmSelection(selectedItem)\n      }\n    } else {\n      if (this.props.didConfirmEmptySelection) {\n        this.props.didConfirmEmptySelection()\n      }\n    }\n  }\n\n  cancelSelection () {\n    if (this.props.didCancelSelection) {\n      this.props.didCancelSelection()\n    }\n  }\n}\n\nclass ListItemView {\n  constructor (props) {\n    this.mouseDown = this.mouseDown.bind(this)\n    this.mouseUp = this.mouseUp.bind(this)\n    this.didClick = this.didClick.bind(this)\n    this.selected = props.selected\n    this.onclick = props.onclick\n    this.element = props.element\n    this.element.addEventListener('mousedown', this.mouseDown)\n    this.element.addEventListener('mouseup', this.mouseUp)\n    this.element.addEventListener('click', this.didClick)\n    if (this.selected) {\n      this.element.classList.add('selected')\n    }\n    this.domEventsDisposable = new Disposable(() => {\n      this.element.removeEventListener('mousedown', this.mouseDown)\n      this.element.removeEventListener('mouseup', this.mouseUp)\n      this.element.removeEventListener('click', this.didClick)\n    })\n    etch.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))\n  }\n\n  mouseDown (event) {\n    event.preventDefault()\n  }\n\n  mouseUp (event) {\n    event.preventDefault()\n  }\n\n  didClick (event) {\n    event.preventDefault()\n    this.onclick()\n  }\n\n  destroy () {\n    this.element.remove()\n    this.domEventsDisposable.dispose()\n  }\n\n  update (props) {\n    this.element.removeEventListener('mousedown', this.mouseDown)\n    this.element.removeEventListener('mouseup', this.mouseUp)\n    this.element.removeEventListener('click', this.didClick)\n\n    this.element.parentNode.replaceChild(props.element, this.element)\n    this.element = props.element\n    this.element.addEventListener('mousedown', this.mouseDown)\n    this.element.addEventListener('mouseup', this.mouseUp)\n    this.element.addEventListener('click', this.didClick)\n    if (props.selected) {\n      this.element.classList.add('selected')\n    }\n\n    this.selected = props.selected\n    this.onclick = props.onclick\n    etch.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))\n  }\n\n  scrollIntoViewIfNeeded () {\n    if (this.selected) {\n      this.element.scrollIntoViewIfNeeded(false)\n    }\n  }\n}\n","module.exports = {\n  onCopy: 'copy',\n  onCut: 'cut',\n  onPaste: 'paste',\n  onCompositionEnd: 'compositionend',\n  onCompositionStart: 'compositionstart',\n  onCompositionUpdate: 'compositionupdate',\n  onKeyDown: 'keydown',\n  onKeyPress: 'keypress',\n  onKeyUp: 'keyup',\n  onFocus: 'focus',\n  onBlur: 'blur',\n  onChange: 'change',\n  onInput: 'input',\n  onSubmit: 'submit',\n  onClick: 'click',\n  onContextMenu: 'contextmenu',\n  onDoubleClick: 'dblclick',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onDragEnter: 'dragenter',\n  onDragExit: 'dragexit',\n  onDragLeave: 'dragleave',\n  onDragOver: 'dragover',\n  onDragStart: 'dragstart',\n  onDrop: 'drop',\n  onMouseDown: 'mousedown',\n  onMouseEnter: 'mouseenter',\n  onMouseLeave: 'mouseleave',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMouseOver: 'mouseover',\n  onMouseUp: 'mouseup',\n  onSelect: 'select',\n  onTouchCancel: 'touchcancel',\n  onTouchEnd: 'touchend',\n  onTouchMove: 'touchmove',\n  onTouchStart: 'touchstart',\n  onScroll: 'scroll',\n  onWheel: 'wheel',\n  onAbort: 'abort',\n  onCanPlay: 'canplay',\n  onCanPlayThrough: 'canplaythrough',\n  onDurationChange: 'durationchange',\n  onEmptied: 'emptied',\n  onEncrypted: 'encrypted',\n  onEnded: 'ended',\n  onError: 'error',\n  onLoadedData: 'loadeddata',\n  onLoadedMetadata: 'loadedmetadata',\n  onLoadStart: 'loadstart',\n  onPause: 'pause',\n  onPlay: 'play',\n  onPlaying: 'playing',\n  onProgress: 'progress',\n  onRateChange: 'ratechange',\n  onSeeked: 'seeked',\n  onSeeking: 'seeking',\n  onStalled: 'stalled',\n  onSuspend: 'suspend',\n  onTimeUpdate: 'timeupdate',\n  onVolumeChange: 'volumechange',\n  onWaiting: 'waiting',\n  onLoad: 'load',\n  onAnimationStart: 'animationstart',\n  onAnimationEnd: 'animationend',\n  onAnimationIteration: 'animationiteration',\n  onTransitionEnd: 'transitionend'\n}\n","const EVENT_LISTENER_PROPS = require('./event-listener-props')\nconst SVG_TAGS = require('./svg-tags')\n\nfunction dom (tag, props, ...children) {\n  for (let i = 0; i < children.length;) {\n    const child = children[i]\n    switch (typeof child) {\n      case 'string':\n      case 'number':\n        children[i] = {text: child}\n        i++\n        break;\n\n      case 'object':\n        if (Array.isArray(child)) {\n          children.splice(i, 1, ...child)\n        } else if (!child) {\n          children.splice(i, 1)\n        } else {\n          i++\n        }\n        break;\n\n      default:\n        throw new Error(`Invalid child node: ${child}`)\n    }\n  }\n\n  if (props) {\n    for (const propName in props) {\n      const eventName = EVENT_LISTENER_PROPS[propName]\n      if (eventName) {\n        if (!props.on) props.on = {}\n        props.on[eventName] = props[propName]\n      }\n    }\n\n    if (props.class) {\n      props.className = props.class\n    }\n  }\n\n  return {tag, props, children}\n}\n\nconst HTML_TAGS = [\n  'a', 'abbr', 'address', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo',\n  'blockquote', 'body', 'button', 'canvas', 'caption', 'cite', 'code',\n  'colgroup', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl',\n  'dt', 'em', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2',\n  'h3', 'h4', 'h5', 'h6', 'head', 'header', 'html', 'i', 'iframe', 'ins', 'kbd',\n  'label', 'legend', 'li', 'main', 'map', 'mark', 'menu', 'meter', 'nav',\n  'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'pre',\n  'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section',\n  'select', 'small', 'span', 'strong', 'style', 'sub', 'summary', 'sup',\n  'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title',\n  'tr', 'u', 'ul', 'var', 'video', 'area', 'base', 'br', 'col', 'command',\n  'embed', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source',\n  'track', 'wbr'\n]\n\nfor (const tagName of HTML_TAGS) {\n  dom[tagName] = (props, ...children) => {\n    return dom(tagName, props, ...children)\n  }\n}\n\nfor (const tagName of SVG_TAGS) {\n  dom[tagName] = (props, ...children) => {\n    return dom(tagName, props, ...children)\n  }\n}\n\n\nmodule.exports = dom\n","// taken from https://github.com/facebook/react/blob/67f8524e88abbf1ac0fd86d38a0477d11fbc7b3e/src/isomorphic/classic/element/ReactDOMFactories.js#L153\nmodule.exports = new Set([\n  'circle',\n  'clipPath',\n  'defs',\n  'ellipse',\n  'g',\n  'image',\n  'line',\n  'linearGradient',\n  'mask',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialGradient',\n  'rect',\n  'stop',\n  'svg',\n  'text',\n  'tspan'\n])\n","// Based on https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute\nmodule.exports = new Map([\n  ['accentHeight', 'accent-height'],\n  ['alignmentBaseline', 'alignment-baseline'],\n  ['arabicForm', 'arabic-form'],\n  ['baselineShift', 'baseline-shift'],\n  ['capHeight', 'cap-height'],\n  ['className', 'class'],\n  ['clipPath', 'clip-path'],\n  ['clipRule', 'clip-rule'],\n  ['colorInterpolation', 'color-interpolation'],\n  ['colorInterpolationFilters', 'color-interpolation-filters'],\n  ['colorProfile', 'color-profile'],\n  ['colorRendering', 'color-rendering'],\n  ['dominantBaseline', 'dominant-baseline'],\n  ['enableBackground', 'enable-background'],\n  ['fillOpacity', 'fill-opacity'],\n  ['fillRule', 'fill-rule'],\n  ['floodColor', 'flood-color'],\n  ['floodOpacity', 'flood-opacity'],\n  ['fontFamily', 'font-family'],\n  ['fontSize', 'font-size'],\n  ['fontSizeAdjust', 'font-size-adjust'],\n  ['fontStretch', 'font-stretch'],\n  ['fontStyle', 'font-style'],\n  ['fontVariant', 'font-variant'],\n  ['fontWeight', 'font-weight'],\n  ['glyphName', 'glyph-name'],\n  ['glyphOrientationHorizontal', 'glyph-orientation-horizontal'],\n  ['glyphOrientationVertical', 'glyph-orientation-vertical'],\n  ['horizAdvX', 'horiz-adv-x'],\n  ['horizOriginX', 'horiz-origin-x'],\n  ['letterSpacing', 'letter-spacing'],\n  ['lightingColor', 'lighting-color'],\n  ['markerEnd', 'marker-end'],\n  ['markerMid', 'marker-mid'],\n  ['markerStart', 'marker-start'],\n  ['overlinePosition', 'overline-position'],\n  ['overlineThickness', 'overline-thickness'],\n  ['panose1', 'panose-1'],\n  ['paintOrder', 'paint-order'],\n  ['pointerEvents', 'pointer-events'],\n  ['renderingIntent', 'rendering-intent'],\n  ['shapeRendering', 'shape-rendering'],\n  ['stopColor', 'stop-color'],\n  ['stopOpacity', 'stop-opacity'],\n  ['strikethroughPosition', 'strikethrough-position'],\n  ['strikethroughThickness', 'strikethrough-thickness'],\n  ['strokeDasharray', 'stroke-dasharray'],\n  ['strokeDashoffset', 'stroke-dashoffset'],\n  ['strokeLinecap', 'stroke-linecap'],\n  ['strokeLinejoin', 'stroke-linejoin'],\n  ['strokeMiterlimit', 'stroke-miterlimit'],\n  ['strokeOpacity', 'stroke-opacity'],\n  ['strokeWidth', 'stroke-width'],\n  ['textAnchor', 'text-anchor'],\n  ['textDecoration', 'text-decoration'],\n  ['textRendering', 'text-rendering'],\n  ['underlinePosition', 'underline-position'],\n  ['underlineThickness', 'underline-thickness'],\n  ['unicodeBidi', 'unicode-bidi'],\n  ['unicodeRange', 'unicode-range'],\n  ['unitsPerEm', 'units-per-em'],\n  ['vAlphabetic', 'v-alphabetic'],\n  ['vHanging', 'v-hanging'],\n  ['vIdeographic', 'v-ideographic'],\n  ['vMathematical', 'v-mathematical'],\n  ['vertAdvY', 'vert-adv-y'],\n  ['vertOriginX', 'vert-origin-x'],\n  ['vertOriginY', 'vert-origin-y'],\n  ['wordSpacing', 'word-spacing'],\n  ['writingMode', 'writing-mode'],\n  ['xHeight', 'x-height'],\n])\n","const EVENT_LISTENER_PROPS = require('./event-listener-props')\nconst SVG_TAGS = require('./svg-tags')\nconst SVG_ATTRIBUTE_TRANSLATIONS = require('./svg-attribute-translations')\nconst EMPTY = ''\n\nmodule.exports = function (domNode, oldVirtualNode, newVirtualNode, options) {\n  const oldProps = oldVirtualNode && oldVirtualNode.props\n  const newProps = newVirtualNode.props\n\n  let refs, listenerContext\n  if (options) {\n    refs = options.refs\n    listenerContext = options.listenerContext\n  }\n  updateProps(domNode, oldVirtualNode, oldProps, newVirtualNode, newProps)\n  if (refs) updateRef(domNode, oldProps && oldProps.ref, newProps && newProps.ref, refs)\n  updateEventListeners(domNode, oldVirtualNode, newVirtualNode, listenerContext)\n}\n\n// Using var to avoid \"Unsupported phi use of variable\" deoptimization in Chrome 56\nfunction updateProps (domNode, oldVirtualNode, oldProps, newVirtualNode, newProps) {\n  if (oldProps) {\n    for (var name in oldProps) {\n      if (name === 'ref' || name === 'on') continue\n      if (name in EVENT_LISTENER_PROPS) continue\n      if (!newProps || !(name in newProps)) {\n        if (name === 'dataset') {\n          updateProps(domNode.dataset, null, oldProps && oldProps.dataset, null, null)\n        } else if (name !== 'innerHTML' && oldVirtualNode && SVG_TAGS.has(oldVirtualNode.tag)) {\n          domNode.removeAttribute(SVG_ATTRIBUTE_TRANSLATIONS.get(name) || name)\n        } else {\n          // Clear property for objects that don't support deletion (e.g. style\n          // or className). If we used null instead of an empty string, the DOM\n          // could sometimes stringify the value and mistakenly assign 'null'.\n          domNode[name] = EMPTY\n          delete domNode[name]\n        }\n      }\n    }\n  }\n\n  if (newProps) {\n    for (var name in newProps) {\n      if (name === 'ref' || name === 'on') continue\n      if (name in EVENT_LISTENER_PROPS) continue\n      var oldValue = oldProps && oldProps[name]\n      var newValue = newProps[name]\n      if (name === 'dataset') {\n        updateNestedProps(domNode.dataset, oldValue, newValue, false)\n      } else if (name === 'style' && typeof newValue !== 'string') {\n        if (typeof oldValue === 'string') {\n          domNode.style = ''\n          oldValue = null\n        }\n        updateNestedProps(domNode.style, oldValue, newValue, true)\n      } else if (name === 'attributes') {\n        updateAttributes(domNode, oldValue, newValue)\n      } else {\n        if (newValue !== oldValue) {\n          if (name !== 'innerHTML' && newVirtualNode && SVG_TAGS.has(newVirtualNode.tag)) {\n            domNode.setAttribute(SVG_ATTRIBUTE_TRANSLATIONS.get(name) || name, newValue)\n          } else if (newVirtualNode && newVirtualNode.tag === 'input'\n            && name === 'value' && domNode[name] === newValue) {\n            // Do not update `value` of an `input` unless it differs.\n            // Every change will reset the cursor position.\n          } else {\n            domNode[name] = newValue\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction updateNestedProps (domProps, oldProps, newProps, isStyleObject) {\n  if (oldProps) {\n    for (var name in oldProps) {\n      if (!newProps || !(name in newProps)) {\n        if (isStyleObject) {\n          domProps[name] = EMPTY\n        } else {\n          delete domProps[name]\n        }\n      }\n    }\n  }\n\n  if (newProps) {\n    for (var name in newProps) {\n      const oldValue = oldProps && oldProps[name]\n      const newValue = newProps[name]\n      if (newValue !== oldValue) {\n        domProps[name] = newValue\n      }\n    }\n  }\n}\n\nfunction updateAttributes (domNode, oldAttributes, newAttributes) {\n  if (oldAttributes) {\n    for (var name in oldAttributes) {\n      if (!newAttributes || !(name in newAttributes)) {\n        domNode.removeAttribute(name)\n      }\n    }\n  }\n\n  if (newAttributes) {\n    for (var name in newAttributes) {\n      const oldValue = oldAttributes && oldAttributes[name]\n      const newValue = newAttributes[name]\n      if (newValue !== oldValue) {\n        domNode.setAttribute(name, newValue)\n      }\n    }\n  }\n}\n\nfunction updateRef (domNode, oldRefName, newRefName, refs) {\n  if (newRefName !== oldRefName) {\n    if (oldRefName && refs[oldRefName] === domNode) delete refs[oldRefName]\n    if (newRefName) refs[newRefName] = domNode\n  }\n}\n\nfunction updateEventListeners (domNode, oldVirtualNode, newVirtualNode, listenerContext) {\n  const oldListeners = oldVirtualNode && oldVirtualNode.props && oldVirtualNode.props.on\n  const newListeners = newVirtualNode.props && newVirtualNode.props.on\n\n  for (const eventName in oldListeners) {\n    if (!(newListeners && eventName in newListeners)) {\n      let listenerToRemove\n      if (oldVirtualNode && oldVirtualNode.boundListeners && oldVirtualNode.boundListeners[eventName]) {\n        listenerToRemove = oldVirtualNode.boundListeners[eventName]\n      } else {\n        listenerToRemove = oldListeners[eventName]\n      }\n      domNode.removeEventListener(eventName, listenerToRemove)\n    }\n  }\n\n  for (const eventName in newListeners) {\n    const oldListener = oldListeners && oldListeners[eventName]\n    const newListener = newListeners[eventName]\n\n    if (newListener !== oldListener) {\n      if (oldListener) {\n        let listenerToRemove\n        if (oldVirtualNode && oldVirtualNode.boundListeners && oldVirtualNode.boundListeners[eventName]) {\n          listenerToRemove = oldVirtualNode.boundListeners[eventName]\n        } else {\n          listenerToRemove = oldListener\n        }\n        domNode.removeEventListener(eventName, listenerToRemove)\n      }\n      if (newListener) {\n        let listenerToAdd\n        if (listenerContext) {\n          listenerToAdd = newListener.bind(listenerContext)\n          if (!newVirtualNode.boundListeners) newVirtualNode.boundListeners = {}\n          newVirtualNode.boundListeners[eventName] = listenerToAdd\n        } else {\n          listenerToAdd = newListener\n        }\n        domNode.addEventListener(eventName, listenerToAdd)\n      }\n    }\n  }\n}\n","const updateProps = require('./update-props')\nconst SVG_TAGS = require('./svg-tags')\n\nfunction render (virtualNode, options) {\n  let domNode\n  if (virtualNode.text != null) {\n    domNode = document.createTextNode(virtualNode.text)\n  } else {\n    const {tag, children} = virtualNode\n    let {props} = virtualNode\n\n    if (typeof tag === 'function') {\n      let ref\n      if (props && props.ref) {\n        ref = props.ref\n      }\n      const component = new tag(props || {}, children)\n      virtualNode.component = component\n      domNode = component.element\n      if (options && options.refs && ref) {\n        options.refs[ref] = component\n      }\n    } else if (SVG_TAGS.has(tag)) {\n      domNode = document.createElementNS(\"http://www.w3.org/2000/svg\", tag);\n      if (children) addChildren(domNode, children, options)\n      if (props) updateProps(domNode, null, virtualNode, options)\n    } else {\n      domNode = document.createElement(tag)\n      if (children) addChildren(domNode, children, options)\n      if (props) updateProps(domNode, null, virtualNode, options)\n    }\n  }\n  virtualNode.domNode = domNode\n  return domNode\n}\n\nfunction addChildren (parent, children, options) {\n  for (let i = 0; i < children.length; i++) {\n    parent.appendChild(render(children[i], options))\n  }\n}\n\nmodule.exports = render\n","const render = require('./render')\nconst updateProps = require('./update-props')\n\nfunction patch (oldVirtualNode, newVirtualNode, options) {\n  const oldNode = oldVirtualNode.domNode\n\n  if (newVirtualNode === oldVirtualNode) return oldNode\n\n  if (virtualNodesAreEqual(oldVirtualNode, newVirtualNode)) {\n    let newNode\n    if (newVirtualNode.text != null) {\n      oldNode.nodeValue = newVirtualNode.text\n      newNode = oldNode\n    } else {\n      if (typeof newVirtualNode.tag === 'function') {\n        newNode = updateComponent(oldVirtualNode, newVirtualNode, options)\n      } else {\n        updateChildren(oldNode, oldVirtualNode.children, newVirtualNode.children, options)\n        updateProps(oldNode, oldVirtualNode, newVirtualNode, options)\n        newNode = oldNode\n      }\n    }\n    newVirtualNode.domNode = newNode\n    if (newNode !== oldNode && oldNode.parentNode) {\n      oldNode.parentNode.replaceChild(newNode, oldNode)\n    }\n    return newNode\n  } else {\n    const parentNode = oldNode.parentNode\n    const nextSibling = oldNode.nextSibling\n    removeVirtualNode(oldVirtualNode, options && options.refs)\n    const newNode = render(newVirtualNode, options)\n    if (parentNode) parentNode.insertBefore(newNode, nextSibling)\n    newVirtualNode.domNode = newNode\n    return newNode\n  }\n}\n\nfunction updateComponent (oldVirtualNode, newVirtualNode, options) {\n  const {component, props: oldProps} = oldVirtualNode\n  let {props: newProps, children: newChildren} = newVirtualNode\n  newVirtualNode.component = component\n  if (options && options.refs) {\n    const refs = options.refs\n    const oldRefName = oldProps && oldProps.ref\n    const newRefName = newProps && newProps.ref\n    if (newRefName !== oldRefName) {\n      if (oldRefName && refs[oldRefName] === component) delete refs[oldRefName]\n      if (newRefName) refs[newRefName] = component\n    }\n  }\n  component.update(newProps || {}, newChildren)\n  return component.element\n}\n\nlet mapPool = [new Map(), new Map(), new Map(), new Map()]\n\nfunction updateChildren (parentElement, oldChildren, newChildren, options) {\n  var oldStartIndex = 0\n  var oldEndIndex = oldChildren.length - 1\n  var oldStartChild = oldChildren[0]\n  var oldEndChild = oldChildren[oldEndIndex]\n\n  var newStartIndex = 0\n  var newEndIndex = newChildren.length - 1\n  var newStartChild = newChildren[0]\n  var newEndChild = newChildren[newEndIndex]\n\n  var oldIndicesByKey\n\n  while (oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\n    if (!oldStartChild) {\n      oldStartChild = oldChildren[++oldStartIndex]\n    } else if (!oldEndChild) {\n      oldEndChild = oldChildren[--oldEndIndex]\n    } else if (virtualNodesAreEqual(oldStartChild, newStartChild)) {\n      patch(oldStartChild, newStartChild, options)\n      oldStartChild = oldChildren[++oldStartIndex]\n      newStartChild = newChildren[++newStartIndex]\n    } else if (virtualNodesAreEqual(oldEndChild, newEndChild)) {\n      patch(oldEndChild, newEndChild, options)\n      oldEndChild = oldChildren[--oldEndIndex]\n      newEndChild = newChildren[--newEndIndex]\n    } else if (virtualNodesAreEqual(oldStartChild, newEndChild)) {\n      patch(oldStartChild, newEndChild, options)\n      parentElement.insertBefore(oldStartChild.domNode, oldEndChild.domNode.nextSibling)\n      oldStartChild = oldChildren[++oldStartIndex]\n      newEndChild = newChildren[--newEndIndex]\n    } else if (virtualNodesAreEqual(oldEndChild, newStartChild)) {\n      patch(oldEndChild, newStartChild, options)\n      parentElement.insertBefore(oldEndChild.domNode, oldStartChild.domNode);\n      oldEndChild = oldChildren[--oldEndIndex]\n      newStartChild = newChildren[++newStartIndex]\n    } else {\n      if (!oldIndicesByKey) {\n        if (mapPool.length > 0) {\n          oldIndicesByKey = mapPool.pop()\n          oldIndicesByKey.clear()\n        } else {\n          oldIndicesByKey = new Map()\n        }\n        mapOldKeysToIndices(oldIndicesByKey, oldChildren, oldStartIndex, oldEndIndex)\n      }\n\n      var key = getKey(newStartChild)\n      var oldIndex = key ? oldIndicesByKey.get(key) : null\n      if (oldIndex == null) {\n        parentElement.insertBefore(render(newStartChild, options), oldStartChild.domNode)\n        newStartChild = newChildren[++newStartIndex]\n      } else {\n        var oldChildToMove = oldChildren[oldIndex]\n        patch(oldChildToMove, newStartChild, options)\n        oldChildren[oldIndex] = undefined\n        parentElement.insertBefore(oldChildToMove.domNode, oldStartChild.domNode)\n        newStartChild = newChildren[++newStartIndex]\n      }\n    }\n  }\n\n  if (oldStartIndex > oldEndIndex) {\n    var subsequentElement = newChildren[newEndIndex + 1] ? newChildren[newEndIndex + 1].domNode : null\n    for (let i = newStartIndex; i <= newEndIndex; i++) {\n      parentElement.insertBefore(render(newChildren[i], options), subsequentElement)\n    }\n  } else if (newStartIndex > newEndIndex) {\n    for (let i = oldStartIndex; i <= oldEndIndex; i++) {\n      var child = oldChildren[i]\n      if (child) removeVirtualNode(child, options && options.refs)\n    }\n  }\n\n  if (oldIndicesByKey) mapPool.push(oldIndicesByKey)\n}\n\nfunction removeVirtualNode (virtualNode, refs, removeDOMNode = true) {\n  const {domNode, props, children, component} = virtualNode\n  const ref = props && props.ref\n  if (component) {\n    if (refs && ref && refs[ref] === component) delete refs[ref]\n    if (component.destroy) component.destroy()\n  } else {\n    if (refs && ref && refs[ref] === domNode) delete refs[ref]\n    if (children) {\n      for (let i = 0; i < children.length; i++) {\n        removeVirtualNode(children[i], refs, false)\n      }\n    }\n  }\n\n  if (removeDOMNode) domNode.remove()\n}\n\nfunction virtualNodesAreEqual (oldVirtualNode, newVirtualNode) {\n  return (\n    getKey(oldVirtualNode) === getKey(newVirtualNode)\n      && oldVirtualNode.tag === newVirtualNode.tag\n  )\n}\n\nfunction getKey (virtualNode) {\n  return virtualNode.props ? virtualNode.props.key : undefined\n}\n\nfunction mapOldKeysToIndices (oldIndicesByKey, children, startIndex, endIndex) {\n  for (let i = startIndex; i <= endIndex; i++) {\n    const key = getKey(children[i])\n    if (key) oldIndicesByKey.set(key, i)\n  }\n  return oldIndicesByKey\n}\n\nmodule.exports = patch\n","// If the scheduler is not customized via `etch.setScheduler`, an instance of\n// this class will be used to schedule updates to the document. The\n// `updateDocument` method accepts functions to be run at some point in the\n// future, then runs them on the next animation frame.\nmodule.exports = class DefaultScheduler {\n  constructor () {\n    this.updateRequests = []\n    this.readRequests = []\n    this.pendingAnimationFrame = null\n    this.performUpdates = this.performUpdates.bind(this)\n    this.performingUpdates = false\n  }\n\n  // Enqueues functions that write to the DOM to be performed on the next\n  // animation frame. Functions passed to this method should *never* read from\n  // the DOM, because that could cause synchronous reflows.\n  updateDocument (fn) {\n    this.updateRequests.push(fn)\n    if (!this.pendingAnimationFrame) {\n      this.pendingAnimationFrame = window.requestAnimationFrame(this.performUpdates)\n    }\n  }\n\n  readDocument (fn) {\n    this.readRequests.push(fn)\n    if (!this.pendingAnimationFrame) {\n      this.pendingAnimationFrame = window.requestAnimationFrame(this.performUpdates)\n    }\n  }\n\n  // Returns a promise that will resolve at the end of the next update cycle,\n  // after all the functions passed to `updateDocument` and `updateDocumentSync`\n  // have been run.\n  getNextUpdatePromise () {\n    if (!this.nextUpdatePromise) {\n      this.nextUpdatePromise = new Promise(resolve => {\n        this.resolveNextUpdatePromise = resolve\n      })\n    }\n    return this.nextUpdatePromise\n  }\n\n  // Performs all the pending document updates. If running these update\n  // functions causes *more* updates to be enqueued, they are run synchronously\n  // in this update cycle without waiting for another frame.\n  performUpdates () {\n    while (this.updateRequests.length > 0) {\n      this.updateRequests.shift()()\n    }\n\n    // We don't clear the pending frame until all update requests are processed.\n    // This ensures updates requested within other updates are processed in the\n    // current frame.\n    this.pendingAnimationFrame = null\n\n    // Now that updates are processed, we can perform all pending document reads\n    // without the risk of interleaving them with writes and causing layout\n    // thrashing.\n    while (this.readRequests.length > 0) {\n      this.readRequests.shift()()\n    }\n\n    if (this.nextUpdatePromise) {\n      let resolveNextUpdatePromise = this.resolveNextUpdatePromise\n      this.nextUpdatePromise = null\n      this.resolveNextUpdatePromise = null\n      resolveNextUpdatePromise()\n    }\n  }\n}\n","// This file implements getter and setter functions for a scheduler to be used\n// by this library when updating the DOM. The scheduler's job is to ensure that\n// DOM interaction is performed efficiently. When using `etch` in Atom, you\n// should tell `etch` to use Atom's scheduler by calling\n// `setScheduler(atom.views)`.\n//\n// Schedulers should support the following interface:\n// * `updateDocument(fn)` This method is asynchronous. It enqueues functions to\n// be executed later.\n// * `getNextUpdatePromise()` This function should return a promise that\n// resolves after all pending document update functions have been invoked.\n//\n// Schedulers could support the following optional methods, which are supported\n// by Atom's scheduler.\n//\n// * `readDocument` This method can be invoked by clients other than `etch` when\n// it is necessary to read from the DOM. Functions enqueued via this method\n// should not be run until all document update functions have been executed.\n// Batching updates and reads in this way will prevent forced synchronous\n// reflows.\n// * `pollDocument` This method is similar to `readDocument`, but it runs the\n// associated functions repeatedly. Again, they should be scheduled in such a\n// way so as to avoid synchronous reflows.\n\nconst DefaultScheduler = require('./default-scheduler')\n\nlet scheduler = null\n\nmodule.exports.setScheduler = function setScheduler (customScheduler) {\n  scheduler = customScheduler\n}\n\nmodule.exports.getScheduler = function getScheduler () {\n  if (!scheduler) {\n    scheduler = new DefaultScheduler()\n  }\n  return scheduler\n}\n","const render = require('./render')\nconst patch = require('./patch')\nconst {getScheduler} = require('./scheduler-assignment')\n\nconst componentsWithPendingUpdates = new WeakSet()\nlet syncUpdatesInProgressCounter = 0\nlet syncDestructionsInProgressCounter = 0\n\nfunction isValidVirtualNode (virtualNode) {\n  return virtualNode != null && virtualNode !== false\n}\n\n// This function associates a component object with a DOM element by calling\n// the components `render` method, assigning an `.element` property on the\n// object and also returning the element.\n//\n// It also assigns a `virtualNode` property based on the return value of the\n// `render` method. This will be used later by `performElementUpdate` to diff\n// the new results of `render` with the previous results when updating the\n// component's element.\n//\n// Finally, this function also associates the component with a `refs` object,\n// which is populated with references to elements based on `ref` properties on\n// nodes of the `virtual-dom` tree. Before calling into `virtual-dom` to create\n// the DOM tree, it pushes this `refs` object to a shared stack so it can be\n// accessed by hooks during the creation of individual elements.\nfunction initialize(component) {\n  if (typeof component.update !== 'function') {\n    throw new Error('Etch components must implement `update(props, children)`.')\n  }\n\n  let virtualNode = component.render()\n  if (!isValidVirtualNode(virtualNode)) {\n    let namePart = component.constructor && component.constructor.name ? ' in ' + component.constructor.name : ''\n    throw new Error('invalid falsy value ' + virtualNode + ' returned from render()' + namePart)\n  }\n\n  component.refs = {}\n  component.virtualNode = virtualNode\n  component.element = render(component.virtualNode, {\n    refs: component.refs, listenerContext: component\n  })\n}\n\n// This function receives a component that has already been associated with an\n// element via a previous call to `initialize` and updates this element by\n// calling `render` on the component.\n//\n// When called in normal circumstances, it uses the scheduler to defer this\n// update until the next animation frame, and will only perform one update of a\n// given component in a given frame. This means you can call `update`\n// repeatedly in a given tick without causing redundant updates.\n//\n// If this function called during another synchronous update (for example, as a\n// result of a call to `update` on a child component), the update is performed\n// synchronously.\n//\n// Returns a promise that will resolve when the requested update has been\n// completed.\nfunction update (component, replaceNode=true) {\n  if (syncUpdatesInProgressCounter > 0) {\n    updateSync(component, replaceNode)\n    return Promise.resolve()\n  }\n\n  let scheduler = getScheduler()\n\n  if (!componentsWithPendingUpdates.has(component)) {\n    componentsWithPendingUpdates.add(component)\n    scheduler.updateDocument(function () {\n      componentsWithPendingUpdates.delete(component)\n      updateSync(component, replaceNode)\n    })\n  }\n\n  return scheduler.getNextUpdatePromise()\n}\n\n// Synchronsly updates the DOM element associated with a component object. .\n// This method assumes the presence of `.element` and `.virtualNode`\n// properties on the component, which are assigned in the `initialize`\n// function.\n//\n// It calls `render` on the component to obtain the desired state of the DOM,\n// then `diff`s it with the previous state and `patch`es the element based on\n// the resulting diff. During the patch operation, it pushes the component's\n// `refs` object to a shared stack so that references to DOM elements can be\n// updated.\n//\n// If `update` is called during the invocation of `updateSync`,\n// the requests are processed synchronously as well. We track whether this is\n// the case by incrementing and decrementing `syncUpdatesInProgressCounter`\n// around the call.\n//\n// For now, etch does not allow the root tag of the `render` method to change\n// between invocations, because we want to preserve a one-to-one relationship\n// between component objects and DOM elements for simplicity.\nfunction updateSync (component, replaceNode=true) {\n  if (!isValidVirtualNode(component.virtualNode)) {\n    throw new Error(`${component.constructor ? component.constructor.name + ' instance' : component} is not associated with a valid virtualNode. Perhaps this component was never initialized?`)\n  }\n\n  if (component.element == null) {\n    throw new Error(`${component.constructor ? component.constructor.name + ' instance' : component} is not associated with a DOM element. Perhaps this component was never initialized?`)\n  }\n\n  let newVirtualNode = component.render()\n  if (!isValidVirtualNode(newVirtualNode)) {\n    const namePart = component.constructor && component.constructor.name ? ' in ' + component.constructor.name : ''\n    throw new Error('invalid falsy value ' + newVirtualNode + ' returned from render()' + namePart)\n  }\n\n  syncUpdatesInProgressCounter++\n  let oldVirtualNode = component.virtualNode\n  let oldDomNode = component.element\n  let newDomNode = patch(oldVirtualNode, newVirtualNode, {\n    refs: component.refs,\n    listenerContext: component\n  })\n  component.virtualNode = newVirtualNode\n  if (newDomNode !== oldDomNode && !replaceNode) {\n    throw new Error('The root node type changed on update, but the update was performed with the replaceNode option set to false')\n  } else {\n    component.element = newDomNode\n  }\n\n  // We can safely perform additional writes after a DOM update synchronously,\n  // but any reads need to be deferred until all writes are completed to avoid\n  // DOM thrashing. Requested reads occur at the end of the the current frame\n  // if this method was invoked via the scheduler. Otherwise, if `updateSync`\n  // was invoked outside of the scheduler, the default scheduler will defer\n  // reads until the next animation frame.\n  if (typeof component.writeAfterUpdate === 'function') {\n    component.writeAfterUpdate()\n  }\n  if (typeof component.readAfterUpdate === 'function') {\n    getScheduler().readDocument(function () {\n      component.readAfterUpdate()\n    })\n  }\n\n  syncUpdatesInProgressCounter--\n}\n\n// Removes the component's associated element and calls `destroy` on any child\n// components. Normally, this function is asynchronous and will perform the\n// destruction on the next animation frame. If called as the result of another\n// update or destruction, it calls `destroy` on child components synchronously.\n// If called as the result of destroying a component higher in the DOM, the\n// element is not removed to avoid redundant DOM manipulation. Returns a promise\n// that resolves when the destruction is completed.\nfunction destroy (component, removeNode=true) {\n  if (syncUpdatesInProgressCounter > 0 || syncDestructionsInProgressCounter > 0) {\n    destroySync(component, removeNode)\n    return Promise.resolve()\n  }\n\n  let scheduler = getScheduler()\n  scheduler.updateDocument(function () {\n    destroySync(component, removeNode)\n  })\n  return scheduler.getNextUpdatePromise()\n}\n\n// A synchronous version of `destroy`.\n//\n// Note that we track whether `destroy` calls are in progress and only remove\n// the element if we are not a nested call.\nfunction destroySync (component, removeNode=true) {\n  syncDestructionsInProgressCounter++\n  destroyChildComponents(component.virtualNode)\n  if (syncDestructionsInProgressCounter === 1 && removeNode) component.element.remove()\n  syncDestructionsInProgressCounter--\n}\n\nfunction destroyChildComponents(virtualNode) {\n  if (virtualNode.component && typeof virtualNode.component.destroy === 'function') {\n    virtualNode.component.destroy()\n  } else if (virtualNode.children) {\n    virtualNode.children.forEach(destroyChildComponents)\n  }\n}\n\nmodule.exports = {\n  initialize,\n  update, updateSync,\n  destroy, destroySync\n}\n","const dom = require('./dom')\nconst render = require('./render')\nconst {initialize, update, updateSync, destroy, destroySync} = require('./component-helpers')\nconst {setScheduler, getScheduler} = require('./scheduler-assignment')\n\nmodule.exports = {\n  dom, render,\n  initialize, update, updateSync, destroy, destroySync,\n  setScheduler, getScheduler\n}\n","import {Panel} from \"atom\"\nimport SelectListView from \"atom-select-list\"\nimport * as etch from \"etch\"\nimport {handlePromise} from \"../../../utils\"\n\nexport interface SelectListViewOptions<T> {\n  items:\n    | ReadonlyArray<T>\n    | Promise<ReadonlyArray<T>>\n    | ((filterText: string) => ReadonlyArray<T>)\n    | ((filterText: string) => Promise<ReadonlyArray<T>>)\n  itemTemplate: (item: T, context: SelectListView<T>) => JSX.Element\n  itemFilterKey: keyof T\n  didChangeSelection?: (item?: T) => void\n}\n\nexport async function selectListView<T>({\n  items,\n  itemTemplate,\n  itemFilterKey,\n  didChangeSelection,\n}: SelectListViewOptions<T>): Promise<T | undefined> {\n  let panel: Panel<SelectListView<T>> | undefined\n  const currentFocus = document.activeElement as HTMLElement | void\n  try {\n    return await new Promise<T | undefined>((resolve) => {\n      let didChangeQuery\n      let loadingMessage: string | undefined = \"Loading...\"\n      let emptyMessage\n      let resolved = false\n      const update = (props: object) => {\n        if (resolved) return\n        handlePromise(select.update(props))\n      }\n      if (typeof items === \"function\") {\n        didChangeQuery = async (query: string) => {\n          const timeout = setTimeout(() => update({loadingMessage: \"Loading...\"}), 300)\n          const is = await items(query)\n          clearTimeout(timeout)\n          update({\n            items: is,\n            emptyMessage: \"Nothing matches the search value\",\n            loadingMessage: undefined,\n          })\n        }\n        loadingMessage = undefined\n        emptyMessage = \"Please enter a search value\"\n      }\n      const select: SelectListView<T> = new SelectListView({\n        items: [] as T[],\n        elementForItem: (item: T) => etch.render(itemTemplate(item, select)) as HTMLElement,\n        filterKeyForItem: (item: T) => `${item[itemFilterKey]}`,\n        didChangeSelection,\n        didCancelSelection: () => {\n          resolved = true\n          resolve()\n        },\n        didConfirmSelection: (item: T) => {\n          resolved = true\n          resolve(item)\n        },\n        loadingMessage,\n        didChangeQuery,\n        emptyMessage,\n        itemsClassList: [\"atom-typescript\"],\n      })\n      if (typeof items !== \"function\") {\n        handlePromise(\n          Promise.resolve(items).then((is) => {\n            update({items: is, loadingMessage: undefined})\n          }),\n        )\n      }\n      panel = atom.workspace.addModalPanel({\n        item: select,\n        visible: true,\n      })\n      select.focus()\n    })\n  } finally {\n    if (panel) panel.destroy()\n    if (currentFocus) currentFocus.focus()\n  }\n}\n","import * as Atom from \"atom\"\nimport {GetClientFunction} from \"../../../client\"\nimport {ApplyEdits} from \"../../pluginManager\"\nimport {TBuildStatus, TProgress} from \"../components/statusPanel\"\nimport {OpenParams} from \"../editorPositionHistoryManager\"\n\nexport interface Dependencies {\n  getClient: GetClientFunction\n  applyEdits: ApplyEdits\n  clearErrors: () => void\n  killAllServers: () => void\n  reportProgress: (progress: TProgress) => void\n  reportBuildStatus: (status: TBuildStatus | undefined) => void\n  toggleSemanticViewController: () => void\n  toggleFileSymbolsView: (ed: Atom.TextEditor) => void\n  toggleProjectSymbolsView: (ed: Atom.TextEditor) => void\n  histGoForward: (ed: Atom.TextEditor, openParams: OpenParams) => Promise<object>\n  histGoBack: () => Promise<object | undefined>\n  histShowHistory: () => Promise<void>\n  showTooltipAt: (ed: Atom.TextEditor) => void\n  showSigHelpAt: (ed: Atom.TextEditor) => void\n  hideSigHelpAt: (ed: Atom.TextEditor) => boolean\n  rotateSigHelp: (ed: Atom.TextEditor, shift: number) => boolean\n}\n\nexport type AllowedSelectors = keyof Dispatch\n\nexport interface Dispatch {\n  \"atom-text-editor\": (editor: Atom.TextEditor, abort: () => void) => void | Promise<void>\n  \"atom-workspace\": () => void | Promise<void>\n}\n\nexport type CommandDescription = {\n  [Selector in AllowedSelectors]: (deps: Dependencies) => CommandData[Selector]\n}\n\nexport type CommandData = {\n  [Selector in AllowedSelectors]: {\n    didDispatch: Dispatch[Selector]\n    description: string\n    displayName?: string\n  }\n}\n\nexport type CommandDescriptionWithSelector = {\n  [Selector in AllowedSelectors]: {\n    selector: Selector\n    command: string\n    desc: CommandDescription[Selector]\n  }\n}\n\n// To allow using dependency injection, but avoid having to type a lot of boilerplate, we have the\n// individual command files register themselves in the below map. When the package is initializing,\n// the constructors are passed the deps and return the actual commands handlers.\nconst commands: Array<CommandDescriptionWithSelector[AllowedSelectors]> = []\n\nexport function addCommand<Selector extends AllowedSelectors>(\n  selector: Selector,\n  command: string,\n  desc: CommandDescription[Selector],\n) {\n  commands.push(({selector, command, desc} as unknown) as CommandDescriptionWithSelector[Selector])\n}\n\nexport function getCommands() {\n  return commands\n}\n","import {TextEditor} from \"atom\"\nimport * as etch from \"etch\"\nimport * as fs from \"fs\"\nimport {TsView} from \"../components/tsView\"\nimport {getFilePathPosition, highlight} from \"../utils\"\nimport {HighlightComponent} from \"../views/highlightComponent\"\nimport {selectListView} from \"../views/simpleSelectionView\"\nimport {addCommand, Dependencies} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:find-references\", (deps) => ({\n  description: \"Find where symbol under text cursor is referenced\",\n  async didDispatch(editor) {\n    const location = getFilePathPosition(editor)\n    if (!location) return\n\n    const client = await deps.getClient(location.file)\n    const result = await client.execute(\"references\", location)\n    await handleFindReferencesResult(result, editor, deps.histGoForward)\n  },\n}))\n\nexport async function handleFindReferencesResult(\n  result: protocol.ReferencesResponse,\n  editor: TextEditor,\n  histGoForward: Dependencies[\"histGoForward\"],\n): Promise<void> {\n  const refs = Promise.all(\n    result.body!.refs.map(async (ref) => {\n      const fileContents = (\n        await new Promise<string>((resolve, reject) =>\n          fs.readFile(ref.file, (error, data) => {\n            if (error) reject(error)\n            else resolve(data.toString(\"utf-8\"))\n          }),\n        )\n      ).split(/\\r?\\n/g)\n      const context =\n        ref.contextStart !== undefined && ref.contextEnd !== undefined\n          ? fileContents.slice(ref.contextStart.line - 1, ref.contextEnd.line)\n          : fileContents\n      const fileHlText = await highlight(context.join(\"\\n\"), \"source.tsx\")\n      // tslint:disable-next-line: strict-boolean-expressions\n      const lineText = fileHlText[ref.start.line - (ref.contextStart?.line || 1)]\n      return {...ref, hlText: lineText}\n    }),\n  )\n\n  const res = await selectListView({\n    items: refs,\n    itemTemplate: (item, ctx) => {\n      return (\n        <li>\n          <HighlightComponent\n            label={atom.project.relativize(item.file)}\n            query={ctx.getFilterQuery()}\n          />\n          <div className=\"pull-right\">line: {item.start.line}</div>\n          <TsView highlightedText={item.hlText} />\n        </li>\n      )\n    },\n    itemFilterKey: \"file\",\n  })\n  if (res) await histGoForward(editor, res)\n}\n","import {TextEditor} from \"atom\"\nimport * as etch from \"etch\"\nimport {getFilePathPosition} from \"../utils\"\nimport {HighlightComponent} from \"../views/highlightComponent\"\nimport {selectListView} from \"../views/simpleSelectionView\"\nimport {addCommand, Dependencies} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:go-to-declaration\", (deps) => ({\n  description: \"Go to declaration of symbol under text cursor\",\n  async didDispatch(editor) {\n    const location = getFilePathPosition(editor)\n    if (!location) return\n\n    const client = await deps.getClient(location.file)\n    const result = await client.execute(\"definition\", location)\n    await handleDefinitionResult(result, editor, deps.histGoForward)\n  },\n}))\n\nexport async function handleDefinitionResult(\n  result: protocol.DefinitionResponse,\n  editor: TextEditor,\n  histGoForward: Dependencies[\"histGoForward\"],\n): Promise<void> {\n  if (!result.body) {\n    return\n  } else if (result.body.length > 1) {\n    const res = await selectListView({\n      items: result.body,\n      itemTemplate: (item, ctx) => {\n        return (\n          <li>\n            <HighlightComponent label={item.file} query={ctx.getFilterQuery()} />\n            <div className=\"pull-right\">line: {item.start.line}</div>\n          </li>\n        )\n      },\n      itemFilterKey: \"file\",\n    })\n    if (res) await histGoForward(editor, res)\n  } else if (result.body.length > 0) {\n    await histGoForward(editor, result.body[0])\n  }\n}\n","import {OutlineProvider, OutlineTree, OutlineTreeKind} from \"atom-ide-base\"\nimport {NavigationTree, ScriptElementKind} from \"typescript/lib/protocol\"\nimport {GetClientFunction} from \"../../client\"\nimport {spanToRange, typeScriptScopes} from \"../atom/utils\"\n\nexport function getOutlineProvider(getClient: GetClientFunction): OutlineProvider {\n  return {\n    name: \"Atom-TypeScript\",\n    grammarScopes: typeScriptScopes(),\n    priority: 100,\n    updateOnEdit: true,\n    async getOutline(editor) {\n      const filePath = editor.getPath()\n      if (filePath === undefined) return\n      const client = await getClient(filePath)\n      const navTreeResult = await client.execute(\"navtree\", {file: filePath})\n      const navTree = navTreeResult.body\n      if (!navTree) return\n      return {outlineTrees: [navTreeToOutline(navTree)]}\n    },\n  }\n}\n\nfunction navTreeToOutline(navTree: NavigationTree): OutlineTree {\n  const ranges = navTree.spans.map(spanToRange)\n  const range = ranges.reduce((prev, cur) => cur.union(prev))\n  return {\n    kind: kindMap[navTree.kind],\n    plainText: navTree.text,\n    startPosition: range.start,\n    endPosition: range.end,\n    landingPosition: navTree.nameSpan ? spanToRange(navTree.nameSpan).start : undefined,\n    children: navTree.childItems ? navTree.childItems.map(navTreeToOutline).sort(compareNodes) : [],\n  }\n}\n\nfunction compareNodes(a: OutlineTree, b: OutlineTree): number {\n  const apos = a.landingPosition ? a.landingPosition : a.startPosition\n  const bpos = b.landingPosition ? b.landingPosition : b.startPosition\n  return apos.compare(bpos)\n}\n\nconst kindMap: {[key in ScriptElementKind]: OutlineTreeKind | undefined} = {\n  // | \"file\"\n  directory: \"file\",\n  // | \"module\"\n  module: \"module\",\n  \"external module name\": \"module\",\n  // | \"namespace\"\n  // | \"package\"\n  // | \"class\"\n  class: \"class\",\n  \"local class\": \"class\",\n  // | \"method\"\n  method: \"method\",\n  // | \"property\"\n  property: \"property\",\n  getter: \"property\",\n  setter: \"property\",\n  // | \"field\"\n  \"JSX attribute\": \"field\",\n  // | \"constructor\"\n  constructor: \"constructor\",\n  // | \"enum\"\n  enum: \"enum\",\n  // | \"interface\"\n  interface: \"interface\",\n  type: \"interface\",\n  // | \"function\"\n  function: \"function\",\n  \"local function\": \"function\",\n  // | \"variable\"\n  label: \"variable\",\n  alias: \"variable\",\n  var: \"variable\",\n  let: \"variable\",\n  \"local var\": \"variable\",\n  parameter: \"variable\",\n  // | \"constant\"\n  \"enum member\": \"constant\",\n  const: \"constant\",\n  // | \"string\"\n  string: \"string\",\n  // | \"number\"\n  // | \"boolean\"\n  // | \"array\"\n  // ???\n  \"\": undefined,\n  warning: undefined,\n  keyword: undefined,\n  script: undefined,\n  call: undefined,\n  index: undefined,\n  construct: undefined,\n  \"type parameter\": undefined,\n  \"primitive type\": undefined,\n}\n","import {CompositeDisposable, Point, TextEditor} from \"atom\"\nimport {SignatureHelp, SignatureHelpProvider} from \"atom-ide-base\"\nimport {GetClientFunction} from \"../../client\"\nimport {signatureHelpItemToSignature, typeScriptScopes} from \"../atom/utils\"\n\nexport class TSSigHelpProvider implements SignatureHelpProvider {\n  public triggerCharacters = new Set<string>([])\n  public grammarScopes = typeScriptScopes()\n  public priority = 100\n  private disposables = new CompositeDisposable()\n\n  constructor(private getClient: GetClientFunction) {\n    const triggerCharsDefault = new Set([\"<\", \"(\", \",\"])\n    const triggerCharsDisabled = new Set<string>([])\n    this.disposables.add(\n      atom.config.observe(\"atom-typescript.sigHelpDisplayOnChange\", (newVal) => {\n        this.triggerCharacters = newVal ? triggerCharsDefault : triggerCharsDisabled\n      }),\n    )\n  }\n\n  public dispose() {\n    this.disposables.dispose()\n  }\n\n  public async getSignatureHelp(\n    editor: TextEditor,\n    pos: Point,\n  ): Promise<SignatureHelp | undefined> {\n    try {\n      const filePath = editor.getPath()\n      if (filePath === undefined) return\n      const client = await this.getClient(filePath)\n      const result = await client.execute(\"signatureHelp\", {\n        file: filePath,\n        line: pos.row + 1,\n        offset: pos.column + 1,\n      })\n      const data = result.body!\n      const signatures = data.items.map(signatureHelpItemToSignature)\n      return {\n        signatures,\n        activeParameter: data.argumentIndex,\n        activeSignature: data.selectedItemIndex,\n      }\n    } catch (e) {\n      return\n    }\n  }\n}\n","import * as etch from \"etch\"\nimport {CodeAction} from \"typescript/lib/protocol\"\n\nexport function codeActionTemplate(codeAction: CodeAction) {\n  return <li>{codeAction.description}</li>\n}\n","// more: https://github.com/atom-community/autocomplete-plus/wiki/Provider-API\nimport * as Atom from \"atom\"\nimport * as ACP from \"atom/autocomplete-plus\"\nimport * as fuzzaldrin from \"fuzzaldrin\"\nimport {\n  CompletionEntryDetails,\n  CompletionEntryIdentifier,\n  CompletionsTriggerCharacter,\n} from \"typescript/lib/protocol\"\nimport {GetClientFunction, TSClient} from \"../../client\"\nimport {handlePromise} from \"../../utils\"\nimport {ApplyEdits} from \"../pluginManager\"\nimport {codeActionTemplate} from \"./codeActionTemplate\"\nimport {FileLocationQuery, spanToRange, typeScriptScopes} from \"./utils\"\nimport {selectListView} from \"./views/simpleSelectionView\"\n\ntype SuggestionWithDetails = ACP.TextSuggestion & {\n  replacementRange?: Atom.Range\n  isMemberCompletion?: boolean\n  identifier?: CompletionEntryIdentifier | string\n  hasAction?: boolean\n}\n\ninterface Details {\n  details: CompletionEntryDetails\n  rightLabel: string\n  description?: string\n}\n\nexport class AutocompleteProvider implements ACP.AutocompleteProvider {\n  public selector = typeScriptScopes()\n    .map((x) => (x.includes(\".\") ? `.${x}` : x))\n    .join(\", \")\n\n  public disableForSelector = \".comment\"\n\n  public inclusionPriority = 3\n  public suggestionPriority = atom.config.get(\"atom-typescript\").autocompletionSuggestionPriority\n  public excludeLowerPriority = false\n\n  private lastSuggestions?: {\n    // Client used to get the suggestions\n    client: TSClient\n\n    // File and position for the suggestions\n    location: FileLocationQuery\n\n    // Prefix used\n    prefix: string\n\n    // The completions that were returned for the position\n    suggestions: SuggestionWithDetails[]\n    details: Map<string, Details>\n  }\n\n  constructor(private getClient: GetClientFunction, private applyEdits: ApplyEdits) {}\n\n  public async getSuggestions(opts: ACP.SuggestionsRequestedEvent): Promise<ACP.AnySuggestion[]> {\n    const location = getLocationQuery(opts)\n    const prefix = getPrefix(opts)\n\n    if (!location) return []\n\n    // Don't auto-show autocomplete if prefix is empty unless last character is '.'\n    const triggerCharacter = getTrigger(\n      getLastNonWhitespaceChar(opts.editor.getBuffer(), opts.bufferPosition),\n    )\n    if (!prefix && !opts.activatedManually && !triggerCharacter) return []\n\n    // Don't show autocomplete if we're in a string.template and not in a template expression\n    if (\n      containsScope(opts.scopeDescriptor.getScopesArray(), \"string.template.\") &&\n      !containsScope(opts.scopeDescriptor.getScopesArray(), \"template.expression.\")\n    ) {\n      return []\n    }\n\n    try {\n      let suggestions = await this.getSuggestionsWithCache({\n        prefix,\n        location,\n        triggerCharacter,\n        activatedManually: opts.activatedManually,\n      })\n\n      suggestions = fuzzaldrin.filter(suggestions, prefix, {\n        key: \"displayText\",\n      })\n\n      return suggestions.map((suggestion) => ({\n        replacementPrefix: suggestion.replacementRange\n          ? opts.editor.getTextInBufferRange(suggestion.replacementRange)\n          : prefix,\n        location,\n        ...this.getDetailsFromCache(suggestion),\n        ...addCallableParens(opts, suggestion),\n      }))\n    } catch (error) {\n      return []\n    }\n  }\n\n  public async getSuggestionDetailsOnSelect(suggestion: ACP.AnySuggestion) {\n    if (\"text\" in suggestion && !(\"rightLabel\" in suggestion)) {\n      return this.getAdditionalDetails(suggestion)\n    } else {\n      return null\n    }\n  }\n\n  public onDidInsertSuggestion(evt: ACP.SuggestionInsertedEvent) {\n    const s = evt.suggestion as SuggestionWithDetails\n    if (!s.hasAction) return\n    if (!this.lastSuggestions) return\n    const client = this.lastSuggestions.client\n    let details = this.getDetailsFromCache(s)\n    handlePromise(\n      (async () => {\n        if (!details) details = await this.getAdditionalDetails(s)\n        if (!details?.details.codeActions) return\n        let action\n        if (details.details.codeActions.length === 1) {\n          action = details.details.codeActions[0]\n        } else {\n          action = await selectListView({\n            items: details.details.codeActions,\n            itemTemplate: codeActionTemplate,\n            itemFilterKey: \"description\",\n          })\n        }\n        if (!action) return\n        await this.applyEdits(action.changes)\n        if (!action.commands) return\n        await Promise.all(\n          action.commands.map((cmd) =>\n            client.execute(\"applyCodeActionCommand\", {\n              command: cmd,\n            }),\n          ),\n        )\n      })(),\n    )\n  }\n\n  private async getAdditionalDetails(suggestion: SuggestionWithDetails) {\n    if (suggestion.identifier === undefined) return null\n    if (!this.lastSuggestions) return null\n    const reply = await this.lastSuggestions.client.execute(\"completionEntryDetails\", {\n      entryNames: [suggestion.identifier],\n      ...this.lastSuggestions.location,\n    })\n    if (!reply.body) return null\n    const [details] = reply.body\n    // apparently, details can be undefined\n    // tslint:disable-next-line: strict-boolean-expressions\n    if (!details) return null\n    let parts = details.displayParts\n    if (\n      parts.length >= 3 &&\n      parts[0].text === \"(\" &&\n      parts[1].text === suggestion.leftLabel &&\n      parts[2].text === \")\"\n    ) {\n      parts = parts.slice(3)\n    }\n    let rightLabel = parts.map((d) => d.text).join(\"\")\n    const actionDesc =\n      suggestion.hasAction && details.codeActions?.length === 1\n        ? `${details.codeActions[0].description}\\n\\n`\n        : \"\"\n    if (actionDesc) rightLabel = actionDesc\n    const description =\n      actionDesc +\n      details.displayParts.map((d) => d.text).join(\"\") +\n      (details.documentation ? \"\\n\\n\" + details.documentation.map((d) => d.text).join(\" \") : \"\")\n    this.lastSuggestions.details.set(suggestion.displayText!, {details, rightLabel, description})\n    return {\n      ...suggestion,\n      details,\n      rightLabel,\n      description,\n    }\n  }\n\n  private getDetailsFromCache(suggestion: SuggestionWithDetails) {\n    if (!this.lastSuggestions) return null\n    const d = this.lastSuggestions.details.get(suggestion.displayText!)\n    if (!d) return null\n    return d\n  }\n\n  // Try to reuse the last completions we got from tsserver if they're for the same position.\n  private async getSuggestionsWithCache({\n    prefix,\n    location,\n    triggerCharacter,\n    activatedManually,\n  }: {\n    prefix: string\n    location: FileLocationQuery\n    triggerCharacter?: CompletionsTriggerCharacter\n    activatedManually: boolean\n  }): Promise<SuggestionWithDetails[]> {\n    if (this.lastSuggestions && !activatedManually) {\n      const lastLoc = this.lastSuggestions.location\n      const lastCol = getNormalizedCol(this.lastSuggestions.prefix, lastLoc.offset)\n      const thisCol = getNormalizedCol(prefix, location.offset)\n\n      if (lastLoc.file === location.file && lastLoc.line === location.line && lastCol === thisCol) {\n        if (this.lastSuggestions.suggestions.length !== 0) {\n          return this.lastSuggestions.suggestions\n        }\n      }\n    }\n\n    const client = await this.getClient(location.file)\n    const suggestions = await getSuggestionsInternal({\n      client,\n      location,\n      triggerCharacter: activatedManually ? undefined : triggerCharacter,\n    })\n\n    this.lastSuggestions = {\n      client,\n      location,\n      prefix,\n      suggestions,\n      details: new Map(),\n    }\n\n    return suggestions\n  }\n}\n\nasync function getSuggestionsInternal({\n  client,\n  location,\n  triggerCharacter,\n}: {\n  client: TSClient\n  location: FileLocationQuery\n  triggerCharacter?: CompletionsTriggerCharacter\n}) {\n  if (parseInt(client.version.split(\".\")[0], 10) >= 3) {\n    // use completionInfo\n    const completions = await client.execute(\"completionInfo\", {\n      includeExternalModuleExports: false,\n      includeInsertTextCompletions: true,\n      triggerCharacter,\n      ...location,\n    })\n    return completions.body!.entries.map(\n      completionEntryToSuggestion.bind(null, completions.body?.isMemberCompletion),\n    )\n  } else {\n    // use deprecated completions\n    const completions = await client.execute(\"completions\", {\n      includeExternalModuleExports: false,\n      includeInsertTextCompletions: true,\n      ...location,\n    })\n\n    return completions.body!.map(completionEntryToSuggestion.bind(null, undefined))\n  }\n}\n\n// this should more or less match ES6 specification for valid identifiers\nconst identifierMatch = /(?:(?![\\u{10000}-\\u{10FFFF}])[\\$_\\p{Lu}\\p{Ll}\\p{Lt}\\p{Lm}\\p{Lo}\\p{Nl}])(?:(?![\\u{10000}-\\u{10FFFF}])[\\$_\\p{Lu}\\p{Ll}\\p{Lt}\\p{Lm}\\p{Lo}\\p{Nl}\\u200C\\u200D\\p{Mn}\\p{Mc}\\p{Nd}\\p{Pc}])*$/u\n\n// Decide what needs to be replaced in the editor buffer when inserting the completion\nfunction getPrefix(opts: ACP.SuggestionsRequestedEvent): string {\n  // see https://github.com/TypeStrong/atom-typescript/issues/1528\n  // for the motivating example.\n  const line = opts.editor\n    .getBuffer()\n    .getTextInRange([[opts.bufferPosition.row, 0], opts.bufferPosition])\n  const idMatch = line.match(identifierMatch)\n  if (idMatch) return idMatch[0]\n  else return \"\"\n}\n\n// When the user types each character in \".hello\", we want to normalize the column such that it's\n// the same for every invocation of the getSuggestions. In this case, it would be right after \".\"\nfunction getNormalizedCol(prefix: string, col: number): number {\n  const length = prefix === \".\" ? 0 : prefix.length\n  return col - length\n}\n\nfunction getLocationQuery(opts: ACP.SuggestionsRequestedEvent): FileLocationQuery | undefined {\n  const path = opts.editor.getPath()\n  if (path === undefined) {\n    return undefined\n  }\n  return {\n    file: path,\n    line: opts.bufferPosition.row + 1,\n    offset: opts.bufferPosition.column + 1,\n  }\n}\n\nfunction getLastNonWhitespaceChar(buffer: Atom.TextBuffer, pos: Atom.Point): string | undefined {\n  let lastChar: string | undefined\n  const range = new Atom.Range([0, 0], pos)\n  buffer.backwardsScanInRange(\n    /\\S/,\n    range,\n    ({matchText, stop}: {matchText: string; stop: () => void}) => {\n      lastChar = matchText\n      stop()\n    },\n  )\n  return lastChar\n}\n\nfunction containsScope(scopes: ReadonlyArray<string>, matchScope: string): boolean {\n  for (const scope of scopes) {\n    if (scope.includes(matchScope)) {\n      return true\n    }\n  }\n\n  return false\n}\n\nfunction completionEntryToSuggestion(\n  isMemberCompletion: boolean | undefined,\n  entry: protocol.CompletionEntry,\n): SuggestionWithDetails {\n  return {\n    displayText: entry.name,\n    text: entry.insertText !== undefined ? entry.insertText : entry.name,\n    leftLabel: entry.kind,\n    replacementRange: entry.replacementSpan ? spanToRange(entry.replacementSpan) : undefined,\n    type: kindMap[entry.kind],\n    isMemberCompletion,\n    identifier: entry.source !== undefined ? {name: entry.name, source: entry.source} : entry.name,\n    hasAction: entry.hasAction,\n  }\n}\n\nfunction parens(opts: ACP.SuggestionsRequestedEvent) {\n  const buffer = opts.editor.getBuffer()\n  const pt = opts.bufferPosition\n  const lookahead = buffer.getTextInRange([pt, [pt.row, buffer.lineLengthForRow(pt.row)]])\n  return !!lookahead.match(/\\s*\\(/)\n}\n\nfunction addCallableParens(\n  opts: ACP.SuggestionsRequestedEvent,\n  s: SuggestionWithDetails,\n): ACP.TextSuggestion | ACP.SnippetSuggestion {\n  if (\n    atom.config.get(\"atom-typescript.autocompleteParens\") &&\n    [\"function\", \"method\"].includes(s.leftLabel!) &&\n    !parens(opts)\n  ) {\n    return {...s, snippet: `${s.text}($1)`, text: undefined}\n  } else return s\n}\n\n/** From :\n * https://github.com/atom-community/autocomplete-plus/pull/334#issuecomment-85697409\n */\ntype ACPCompletionType =\n  | \"variable\"\n  | \"constant\"\n  | \"property\"\n  | \"value\"\n  | \"method\"\n  | \"function\"\n  | \"class\"\n  | \"type\"\n  | \"keyword\"\n  | \"tag\"\n  | \"import\"\n  | \"require\"\n  | \"snippet\"\n\nconst kindMap: {[key in protocol.ScriptElementKind]: ACPCompletionType | undefined} = {\n  directory: \"require\",\n  module: \"import\",\n  \"external module name\": \"import\",\n  class: \"class\",\n  \"local class\": \"class\",\n  method: \"method\",\n  property: \"property\",\n  getter: \"property\",\n  setter: \"property\",\n  \"JSX attribute\": \"property\",\n  constructor: \"method\",\n  enum: \"type\",\n  interface: \"type\",\n  type: \"type\",\n  \"type parameter\": \"type\",\n  \"primitive type\": \"type\",\n  function: \"function\",\n  \"local function\": \"function\",\n  label: \"variable\",\n  alias: \"import\",\n  var: \"variable\",\n  let: \"variable\",\n  \"local var\": \"variable\",\n  parameter: \"variable\",\n  \"enum member\": \"constant\",\n  const: \"constant\",\n  string: \"value\",\n  keyword: \"keyword\",\n  \"\": undefined,\n  warning: undefined,\n  script: undefined,\n  call: undefined,\n  index: undefined,\n  construct: undefined,\n}\n\n// This may look strange, but it guarantees the list is consistent with the type\nconst triggerCharactersMap: {[K in CompletionsTriggerCharacter]: null} = {\n  \".\": null,\n  '\"': null,\n  \"'\": null,\n  \"`\": null,\n  \"/\": null,\n  \"@\": null,\n  \"<\": null,\n  \"#\": null,\n}\nconst triggerCharacters = new Set<CompletionsTriggerCharacter>(Object.keys(triggerCharactersMap))\nfunction getTrigger(prefix: string | undefined): CompletionsTriggerCharacter | undefined {\n  if (prefix === undefined) return undefined\n  if (!prefix) return undefined\n  const c = prefix.slice(-1)\n  if (triggerCharacters.has(c as CompletionsTriggerCharacter)) {\n    return c as CompletionsTriggerCharacter\n  }\n  return undefined\n}\n","import * as etch from \"etch\"\nimport protocol from \"typescript/lib/protocol\"\nimport {TSClient} from \"../../../client\"\nimport {getFilePathPosition} from \"../utils\"\nimport {HighlightComponent} from \"../views/highlightComponent\"\nimport {selectListView} from \"../views/simpleSelectionView\"\nimport {addCommand, Dependencies} from \"./registry\"\n\nexport interface RefactorAction {\n  refactorName: string\n  refactorDescription: string\n  refactorRange: protocol.FileLocationOrRangeRequestArgs\n  actionName: string\n  actionDescription: string\n  inlineable: boolean\n}\n\naddCommand(\"atom-text-editor\", \"typescript:refactor-selection\", (deps) => ({\n  description: \"Get a list of applicable refactors to selected code\",\n  async didDispatch(editor) {\n    const location = getFilePathPosition(editor)\n    if (!location) return\n\n    const selection = editor.getSelectedBufferRange()\n    const client = await deps.getClient(location.file)\n\n    const fileRange: protocol.FileLocationOrRangeRequestArgs = selection.isEmpty()\n      ? location\n      : {\n          file: location.file,\n          startLine: selection.start.row + 1,\n          startOffset: selection.start.column + 1,\n          endLine: selection.end.row + 1,\n          endOffset: selection.end.column + 1,\n        }\n\n    const actions = await getApplicableRefactorsActions(client, fileRange)\n\n    if (actions.length === 0) {\n      atom.notifications.addInfo(\"AtomTS: No applicable refactors for the selection\")\n      return\n    }\n\n    const selectedAction = await selectListView({\n      items: actions,\n      itemTemplate: (item, ctx) => {\n        return (\n          <li>\n            <HighlightComponent\n              label={`${item.refactorDescription}: ${item.actionDescription}`}\n              query={ctx.getFilterQuery()}\n            />\n          </li>\n        )\n      },\n      itemFilterKey: \"actionDescription\",\n    })\n\n    if (selectedAction === undefined) return\n    await applyRefactors(selectedAction, client, deps)\n  },\n}))\n\nexport async function getApplicableRefactorsActions(\n  client: TSClient,\n  pointOrRange: protocol.FileLocationOrRangeRequestArgs,\n) {\n  const responseApplicable = await getApplicabeRefactors(client, pointOrRange)\n  if (!responseApplicable) return []\n  if (responseApplicable.body === undefined || responseApplicable.body.length === 0) {\n    return []\n  }\n\n  const actions: RefactorAction[] = []\n  for (const refactor of responseApplicable.body) {\n    for (const action of refactor.actions) {\n      actions.push({\n        refactorName: refactor.name,\n        refactorDescription: refactor.description,\n        refactorRange: pointOrRange,\n        actionName: action.name,\n        actionDescription: action.description,\n        inlineable: refactor.inlineable !== undefined ? refactor.inlineable : true,\n      })\n    }\n  }\n\n  return actions\n}\n\nasync function getApplicabeRefactors(\n  client: TSClient,\n  pointOrRange: protocol.FileLocationOrRangeRequestArgs,\n) {\n  try {\n    return await client.execute(\"getApplicableRefactors\", {\n      triggerReason: \"invoked\",\n      ...pointOrRange,\n    })\n  } catch {\n    return undefined\n  }\n}\n\nexport async function applyRefactors(\n  selectedAction: RefactorAction,\n  client: TSClient,\n  deps: Pick<Dependencies, \"applyEdits\">,\n) {\n  const responseEdits = await client.execute(\"getEditsForRefactor\", {\n    ...selectedAction.refactorRange,\n    refactor: selectedAction.refactorName,\n    action: selectedAction.actionName,\n  })\n\n  if (responseEdits.body === undefined) return\n  const {edits, renameFilename, renameLocation} = responseEdits.body\n\n  await deps.applyEdits(edits)\n\n  if (renameFilename === undefined || renameLocation === undefined) return\n\n  const editor = await atom.workspace.open(renameFilename, {\n    searchAllPanes: true,\n    initialLine: renameLocation.line - 1,\n    initialColumn: renameLocation.offset - 1,\n  })\n  await atom.commands.dispatch(atom.views.getView(editor), \"typescript:rename-refactor\")\n}\n","import * as Atom from \"atom\"\nimport {ClientResolver, TSClient} from \"../../../client\"\nimport {ErrorPusher} from \"../../errorPusher\"\nimport {ApplyEdits} from \"../../pluginManager\"\nimport {\n  applyRefactors,\n  getApplicableRefactorsActions,\n  RefactorAction,\n} from \"../commands/refactorCode\"\nimport {pointToLocation, spanToRange} from \"../utils\"\n\nexport class CodefixProvider {\n  private supportedFixes: WeakMap<TSClient, Set<number>> = new WeakMap()\n\n  constructor(\n    private clientResolver: ClientResolver,\n    private errorPusher: ErrorPusher,\n    private applyEdits: ApplyEdits,\n  ) {}\n\n  public async getFixableRanges(textEditor: Atom.TextEditor, range: Atom.Range) {\n    const filePath = textEditor.getPath()\n    if (filePath === undefined) return []\n    const errors = this.errorPusher.getErrorsInRange(filePath, range)\n    const client = await this.clientResolver.get(filePath)\n    const supportedCodes = await this.getSupportedFixes(client)\n\n    const ranges = Array.from(errors)\n      .filter((error) => error.code !== undefined && supportedCodes.has(error.code))\n      .map((error) => spanToRange(error))\n\n    return ranges\n  }\n\n  public async runCodeFix(\n    textEditor: Atom.TextEditor,\n    bufferPosition: Atom.Point,\n  ): Promise<Array<protocol.CodeAction | RefactorAction>> {\n    const filePath = textEditor.getPath()\n\n    if (filePath === undefined) return []\n\n    const client = await this.clientResolver.get(filePath)\n    const supportedCodes = await this.getSupportedFixes(client)\n\n    const requests = Array.from(this.errorPusher.getErrorsAt(filePath, bufferPosition))\n      .filter((error) => error.code !== undefined && supportedCodes.has(error.code))\n      .map((error) =>\n        client.execute(\"getCodeFixes\", {\n          file: filePath,\n          startLine: error.start.line,\n          startOffset: error.start.offset,\n          endLine: error.end.line,\n          endOffset: error.end.offset,\n          errorCodes: [error.code!],\n        }),\n      )\n\n    const fixes = await Promise.all(requests)\n    const results: Array<protocol.CodeAction | RefactorAction> = []\n\n    for (const result of fixes) {\n      if (result.body) {\n        for (const fix of result.body) {\n          results.push(fix)\n        }\n      }\n    }\n\n    const refactors = await getApplicableRefactorsActions(client, {\n      file: filePath,\n      ...pointToLocation(bufferPosition),\n    })\n\n    results.push(...refactors)\n\n    return results\n  }\n\n  public async applyFix(fix: protocol.CodeAction | RefactorAction) {\n    if (\"changes\" in fix) return this.applyEdits(fix.changes)\n    else {\n      const client = await this.clientResolver.get(fix.refactorRange.file)\n      return applyRefactors(fix, client, {\n        applyEdits: this.applyEdits,\n      })\n    }\n  }\n\n  public dispose() {\n    // NOOP\n  }\n\n  private async getSupportedFixes(client: TSClient) {\n    let codes = this.supportedFixes.get(client)\n    if (codes) {\n      return codes\n    }\n\n    const result = await client.execute(\"getSupportedCodeFixes\")\n\n    if (!result.body) {\n      throw new Error(\"No code fixes are supported\")\n    }\n\n    codes = new Set(result.body.map((code) => parseInt(code, 10)))\n    this.supportedFixes.set(client, codes)\n    return codes\n  }\n}\n","import {BufferedNodeProcess} from \"atom\"\nimport {resolveBinary} from \"../../../client\"\nimport {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:initialize-config\", () => ({\n  description: \"Create tsconfig.json in the project related to currently-active text edtior\",\n  async didDispatch(editor, abort) {\n    const projectDirs = atom.project.getDirectories()\n    if (projectDirs.length === 0) return abort()\n\n    const currentPath = editor.getPath()\n    if (currentPath === undefined) return\n\n    const pathToTsc = (await resolveBinary(currentPath, \"tsc\")).pathToBin\n\n    for (const projectDir of projectDirs) {\n      if (projectDir.contains(currentPath)) {\n        await initConfig(pathToTsc, projectDir.getPath())\n        atom.notifications.addSuccess(\n          `Successfully created tsconfig.json in ${projectDir.getPath()}`,\n        )\n      }\n    }\n  },\n}))\n\nasync function initConfig(tsc: string, projectRoot: string): Promise<void> {\n  let disp: {dispose: () => void} | undefined\n  try {\n    return await new Promise<void>((resolve, reject) => {\n      try {\n        const bnp = new BufferedNodeProcess({\n          command: tsc,\n          args: [\"--init\"],\n          options: {cwd: projectRoot},\n          exit: (code) => {\n            if (code === 0) resolve()\n            else reject(new Error(`Tsc ended with nonzero exit code ${code}`))\n          },\n        })\n        disp = bnp.onWillThrowError(reject)\n      } catch (e) {\n        reject(e)\n      }\n    })\n  } finally {\n    if (disp) disp.dispose()\n  }\n}\n","import {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:build\", (deps) => ({\n  description: \"Compile all files in project related to current active text editor\",\n  async didDispatch(editor) {\n    const file = editor.getPath()\n    if (file === undefined) return\n    const client = await deps.getClient(file)\n\n    deps.reportBuildStatus(undefined)\n\n    const projectInfo = await client.execute(\"projectInfo\", {\n      file,\n      needFileNameList: true,\n    })\n\n    const files = new Set(projectInfo.body!.fileNames)\n    files.delete(projectInfo.body!.configFileName)\n    let filesSoFar = 0\n    const promises = [...files.values()].map((f) =>\n      _finally(client.execute(\"compileOnSaveEmitFile\", {file: f, forced: true}), () => {\n        filesSoFar += 1\n        deps.reportProgress({max: files.size, value: filesSoFar})\n      }),\n    )\n\n    try {\n      const results = await Promise.all(promises)\n      if (results.some((result) => result.body === false)) {\n        throw new Error(\"Emit failed\")\n      }\n      deps.reportBuildStatus({success: true})\n    } catch (error) {\n      const err = error as Error\n      console.error(err)\n      deps.reportBuildStatus({success: false, message: err.message})\n    }\n  },\n}))\n\nfunction _finally<T>(promise: Promise<T>, callback: (result: T) => void): Promise<T> {\n  promise.then(callback, callback)\n  return promise\n}\n","import * as path from \"path\"\nimport {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:check-all-files\", (deps) => ({\n  description: \"Typecheck all files in project related to current active text editor\",\n  async didDispatch(editor) {\n    const file = editor.getPath()\n    if (file === undefined) return\n    const client = await deps.getClient(file)\n\n    const projectInfo = await client.execute(\"projectInfo\", {\n      file,\n      needFileNameList: true,\n    })\n\n    const files = new Set(\n      projectInfo.body!.fileNames?.filter(\n        (fn) =>\n          // filter out obvious potholes\n          !fn.endsWith(\"tsconfig.json\") && !fn.includes(`${path.sep}node_modules${path.sep}`),\n      ),\n    )\n    const max = files.size\n\n    // There's no real way to know when all of the errors have been received and not every file from\n    // the files set is going to receive a a diagnostic event (typically some d.ts files). To counter\n    // that, we cancel the listener and close the progress bar after no diagnostics have been received\n    // for some amount of time.\n    // That is, if we can't rely on multistep\n    if (client.multistepSupported) {\n      const disp = client.on(\"syntaxDiag\", (evt) => {\n        if (\"file\" in evt) files.delete(evt.file)\n        deps.reportProgress({max, value: max - files.size})\n      })\n\n      deps.reportProgress({max, value: 0})\n      await client.execute(\"geterrForProject\", {file, delay: 0})\n      disp.dispose()\n    } else {\n      let cancelTimeout: number | undefined\n\n      const disp = client.on(\"syntaxDiag\", (evt) => {\n        if (cancelTimeout !== undefined) window.clearTimeout(cancelTimeout)\n        cancelTimeout = window.setTimeout(() => {\n          files.clear()\n          disp.dispose()\n          deps.reportProgress({max, value: max})\n        }, 2000)\n\n        if (\"file\" in evt) files.delete(evt.file)\n        if (files.size === 0) {\n          disp.dispose()\n          window.clearTimeout(cancelTimeout)\n        }\n        deps.reportProgress({max, value: max - files.size})\n      })\n\n      deps.reportProgress({max, value: 0})\n      await client.execute(\"geterrForProject\", {file, delay: 0})\n    }\n  },\n}))\n","import {addCommand} from \"./registry\"\n\naddCommand(\"atom-workspace\", \"typescript:clear-errors\", (deps) => ({\n  description: \"Clear error messages\",\n  didDispatch() {\n    deps.clearErrors()\n  },\n}))\n","import {TextEditor} from \"atom\"\nimport {CodeEdit, LocationRangeQuery, rangeToLocationRange, spanToRange} from \"../utils\"\nimport {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:format-code\", (deps) => ({\n  description: \"Format code in currently active text editor\",\n  async didDispatch(editor) {\n    const filePath = editor.getPath()\n    if (filePath === undefined) return\n\n    const ranges: LocationRangeQuery[] = []\n\n    for (const selection of editor.getSelectedBufferRanges()) {\n      if (!selection.isEmpty()) {\n        ranges.push(rangeToLocationRange(selection))\n      }\n    }\n\n    // Format the whole document if there are no ranges added\n    if (ranges.length === 0) {\n      const end = editor.getBuffer().getEndPosition()\n      ranges.push({\n        line: 1,\n        offset: 1,\n        endLine: end.row + 1,\n        endOffset: end.column + 1,\n      })\n    }\n\n    const client = await deps.getClient(filePath)\n    const edits: CodeEdit[] = []\n\n    // Collect all edits together so we can update everything in a single transaction\n    for (const range of ranges) {\n      const result = await client.execute(\"format\", {...range, file: filePath})\n      if (result.body) {\n        edits.push(...result.body)\n      }\n    }\n\n    if (edits.length > 0) {\n      editor.transact(() => {\n        formatCode(editor, edits)\n      })\n    }\n  },\n}))\n\nfunction formatCode(editor: TextEditor, edits: CodeEdit[]) {\n  // The code edits need to be applied in reverse order\n  for (let i = edits.length - 1; i >= 0; i--) {\n    editor.setTextInBufferRange(spanToRange(edits[i]), edits[i].newText)\n  }\n}\n","import {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:organize-imports\", (deps) => ({\n  description: \"Organize module imports\",\n  async didDispatch(editor) {\n    const filePath = editor.getPath()\n    if (filePath === undefined) return\n\n    const client = await deps.getClient(filePath)\n    const result = await client.execute(\"organizeImports\", {\n      scope: {type: \"file\", args: {file: filePath}},\n    })\n    if (result.body.length > 0) await deps.applyEdits(result.body)\n  },\n}))\n","import {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:reload-projects\", (deps) => ({\n  description: \"Reload projects\",\n  async didDispatch(editor) {\n    const path = editor.getPath()\n    if (path === undefined) return\n    const client = await deps.getClient(path)\n    await client.execute(\"reloadProjects\")\n  },\n}))\n","//     Underscore.js 1.9.1\n//     http://underscorejs.org\n//     (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global ||\n            this ||\n            {};\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for their old module API. If we're in\n  // the browser, add `_` as a global object.\n  // (`nodeType` is checked to ensure that `module`\n  // and `exports` are not HTML elements.)\n  if (typeof exports != 'undefined' && !exports.nodeType) {\n    if (typeof module != 'undefined' && !module.nodeType && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.9.1';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because were not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  var builtinIteratee;\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result  either `identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (_.iteratee !== builtinIteratee) return _.iteratee(value, context);\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value) && !_.isArray(value)) return _.matcher(value);\n    return _.property(value);\n  };\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only argCount argument.\n  _.iteratee = builtinIteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the functions\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6s \"rest parameter\".\n  var restArguments = function(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var shallowProperty = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  var has = function(obj, path) {\n    return obj != null && hasOwnProperty.call(obj, path);\n  }\n\n  var deepGet = function(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = shallowProperty('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  var createReduce = function(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  };\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? _.findIndex : _.findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (_.isFunction(path)) {\n      func = path;\n    } else if (_.isArray(path)) {\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return _.map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection.\n  _.shuffle = function(obj) {\n    return _.sample(obj, Infinity);\n  };\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    var sample = isArrayLike(obj) ? _.clone(obj) : _.values(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = _.random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (_.isString(obj)) {\n      // Keep surrogate pair characters together\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, Boolean);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    output = output || [];\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        // Flatten current level of array or arguments object.\n        if (shallow) {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        } else {\n          flatten(value, shallow, strict, output);\n          idx = output.length;\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = restArguments(function(array, otherArrays) {\n    return _.difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = restArguments(function(arrays) {\n    return _.uniq(flatten(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = restArguments(function(array, rest) {\n    rest = flatten(rest, true, true);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  });\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = restArguments(_.unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of _.pairs.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions.\n  var createPredicateIndexFinder = function(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  };\n\n  // Returns the first index on an array-like that passes a predicate test.\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions.\n  var createIndexFinder = function(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  _.chunk = function(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments.\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = restArguments(function(func, context, args) {\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  _.partial = restArguments(function(func, boundArgs) {\n    var placeholder = _.partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  _.partial.placeholder = _;\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = restArguments(function(obj, keys) {\n    keys = flatten(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = _.bind(obj[key], obj);\n    }\n  });\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n\n    var later = function(context, args) {\n      timeout = null;\n      if (args) result = func.apply(context, args);\n    };\n\n    var debounced = restArguments(function(args) {\n      if (timeout) clearTimeout(timeout);\n      if (immediate) {\n        var callNow = !timeout;\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(this, args);\n      } else {\n        timeout = _.delay(later, wait, this, args);\n      }\n\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = null;\n    };\n\n    return debounced;\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  _.restArguments = restArguments;\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  var collectNonEnumProps = function(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  };\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object.\n  // In contrast to _.map it returns an object.\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = _.keys(obj),\n        length = keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of _.object.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`.\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test.\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Internal pick helper function to determine if `obj` has key `key`.\n  var keyInObj = function(value, key, obj) {\n    return key in obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = _.allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the blacklisted properties.\n  _.omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = _.map(flatten(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  });\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq, deepEq;\n  eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  deepEq = function(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error', 'Symbol', 'Map', 'WeakMap', 'Set', 'WeakSet'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return !_.isSymbol(obj) && isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`?\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && isNaN(obj);\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, path) {\n    if (!_.isArray(path)) {\n      return has(obj, path);\n    }\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (obj == null || !hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n      obj = obj[key];\n    }\n    return !!length;\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  // Creates a function that, when passed an object, will traverse that objects\n  // properties down the given `path`, specified as an array of keys or indexes.\n  _.property = function(path) {\n    if (!_.isArray(path)) {\n      return shallowProperty(path);\n    }\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  };\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    if (obj == null) {\n      return function(){};\n    }\n    return function(path) {\n      return !_.isArray(path) ? obj[path] : deepGet(obj, path);\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  _.result = function(obj, path, fallback) {\n    if (!_.isArray(path)) path = [path];\n    var length = path.length;\n    if (!length) {\n      return _.isFunction(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = _.isFunction(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var chainResult = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_, args));\n      };\n    });\n    return _;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return chainResult(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define == 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}());\n","(function() {\n  var isEqual, isPlainObject, macModifierKeyMap, nonMacModifierKeyMap, plus, shiftKeyMap, splitKeyPath, _,\n    __slice = [].slice;\n\n  _ = require('underscore');\n\n  macModifierKeyMap = {\n    cmd: '\\u2318',\n    ctrl: '\\u2303',\n    alt: '\\u2325',\n    option: '\\u2325',\n    shift: '\\u21e7',\n    enter: '\\u23ce',\n    left: '\\u2190',\n    right: '\\u2192',\n    up: '\\u2191',\n    down: '\\u2193'\n  };\n\n  nonMacModifierKeyMap = {\n    cmd: 'Cmd',\n    ctrl: 'Ctrl',\n    alt: 'Alt',\n    option: 'Alt',\n    shift: 'Shift',\n    enter: 'Enter',\n    left: 'Left',\n    right: 'Right',\n    up: 'Up',\n    down: 'Down'\n  };\n\n  shiftKeyMap = {\n    '~': '`',\n    '_': '-',\n    '+': '=',\n    '|': '\\\\',\n    '{': '[',\n    '}': ']',\n    ':': ';',\n    '\"': '\\'',\n    '<': ',',\n    '>': '.',\n    '?': '/'\n  };\n\n  splitKeyPath = function(keyPath) {\n    var char, i, keyPathArray, startIndex, _i, _len;\n    startIndex = 0;\n    keyPathArray = [];\n    if (keyPath == null) {\n      return keyPathArray;\n    }\n    for (i = _i = 0, _len = keyPath.length; _i < _len; i = ++_i) {\n      char = keyPath[i];\n      if (char === '.' && (i === 0 || keyPath[i - 1] !== '\\\\')) {\n        keyPathArray.push(keyPath.substring(startIndex, i));\n        startIndex = i + 1;\n      }\n    }\n    keyPathArray.push(keyPath.substr(startIndex, keyPath.length));\n    return keyPathArray;\n  };\n\n  isPlainObject = function(value) {\n    return _.isObject(value) && !_.isArray(value);\n  };\n\n  plus = {\n    adviseBefore: function(object, methodName, advice) {\n      var original;\n      original = object[methodName];\n      return object[methodName] = function() {\n        var args;\n        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n        if (advice.apply(this, args) !== false) {\n          return original.apply(this, args);\n        }\n      };\n    },\n    camelize: function(string) {\n      if (string) {\n        return string.replace(/[_-]+(\\w)/g, function(m) {\n          return m[1].toUpperCase();\n        });\n      } else {\n        return '';\n      }\n    },\n    capitalize: function(word) {\n      if (!word) {\n        return '';\n      }\n      if (word.toLowerCase() === 'github') {\n        return 'GitHub';\n      } else {\n        return word[0].toUpperCase() + word.slice(1);\n      }\n    },\n    compactObject: function(object) {\n      var key, newObject, value;\n      newObject = {};\n      for (key in object) {\n        value = object[key];\n        if (value != null) {\n          newObject[key] = value;\n        }\n      }\n      return newObject;\n    },\n    dasherize: function(string) {\n      if (!string) {\n        return '';\n      }\n      string = string[0].toLowerCase() + string.slice(1);\n      return string.replace(/([A-Z])|(_)/g, function(m, letter) {\n        if (letter) {\n          return \"-\" + letter.toLowerCase();\n        } else {\n          return \"-\";\n        }\n      });\n    },\n    deepClone: function(object) {\n      if (_.isArray(object)) {\n        return object.map(function(value) {\n          return plus.deepClone(value);\n        });\n      } else if (_.isObject(object) && !_.isFunction(object)) {\n        return plus.mapObject(object, (function(_this) {\n          return function(key, value) {\n            return [key, plus.deepClone(value)];\n          };\n        })(this));\n      } else {\n        return object;\n      }\n    },\n    deepExtend: function(target) {\n      var i, key, object, result, _i, _len, _ref;\n      result = target;\n      i = 0;\n      while (++i < arguments.length) {\n        object = arguments[i];\n        if (isPlainObject(result) && isPlainObject(object)) {\n          _ref = Object.keys(object);\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            key = _ref[_i];\n            result[key] = plus.deepExtend(result[key], object[key]);\n          }\n        } else {\n          result = plus.deepClone(object);\n        }\n      }\n      return result;\n    },\n    deepContains: function(array, target) {\n      var object, _i, _len;\n      if (array == null) {\n        return false;\n      }\n      for (_i = 0, _len = array.length; _i < _len; _i++) {\n        object = array[_i];\n        if (_.isEqual(object, target)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    endsWith: function(string, suffix) {\n      if (suffix == null) {\n        suffix = '';\n      }\n      if (string) {\n        return string.indexOf(suffix, string.length - suffix.length) !== -1;\n      } else {\n        return false;\n      }\n    },\n    escapeAttribute: function(string) {\n      if (string) {\n        return string.replace(/\"/g, '&quot;').replace(/\\n/g, '').replace(/\\\\/g, '-');\n      } else {\n        return '';\n      }\n    },\n    escapeRegExp: function(string) {\n      if (string) {\n        return string.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n      } else {\n        return '';\n      }\n    },\n    humanizeEventName: function(eventName, eventDoc) {\n      var event, namespace, namespaceDoc, _ref;\n      _ref = eventName.split(':'), namespace = _ref[0], event = _ref[1];\n      if (event == null) {\n        return plus.undasherize(namespace);\n      }\n      namespaceDoc = plus.undasherize(namespace);\n      if (eventDoc == null) {\n        eventDoc = plus.undasherize(event);\n      }\n      return \"\" + namespaceDoc + \": \" + eventDoc;\n    },\n    humanizeKey: function(key, platform) {\n      var modifierKeyMap;\n      if (platform == null) {\n        platform = process.platform;\n      }\n      if (!key) {\n        return key;\n      }\n      modifierKeyMap = platform === 'darwin' ? macModifierKeyMap : nonMacModifierKeyMap;\n      if (modifierKeyMap[key]) {\n        return modifierKeyMap[key];\n      } else if (key.length === 1 && (shiftKeyMap[key] != null)) {\n        return [modifierKeyMap.shift, shiftKeyMap[key]];\n      } else if (key.length === 1 && key === key.toUpperCase() && key.toUpperCase() !== key.toLowerCase()) {\n        return [modifierKeyMap.shift, key.toUpperCase()];\n      } else if (key.length === 1 || /f[0-9]{1,2}/.test(key)) {\n        return key.toUpperCase();\n      } else {\n        if (platform === 'darwin') {\n          return key;\n        } else {\n          return plus.capitalize(key);\n        }\n      }\n    },\n    humanizeKeystroke: function(keystroke, platform) {\n      var humanizedKeystrokes, index, key, keys, keystrokes, splitKeystroke, _i, _j, _len, _len1;\n      if (platform == null) {\n        platform = process.platform;\n      }\n      if (!keystroke) {\n        return keystroke;\n      }\n      keystrokes = keystroke.split(' ');\n      humanizedKeystrokes = [];\n      for (_i = 0, _len = keystrokes.length; _i < _len; _i++) {\n        keystroke = keystrokes[_i];\n        keys = [];\n        splitKeystroke = keystroke.split('-');\n        for (index = _j = 0, _len1 = splitKeystroke.length; _j < _len1; index = ++_j) {\n          key = splitKeystroke[index];\n          if (key === '' && splitKeystroke[index - 1] === '') {\n            key = '-';\n          }\n          if (key) {\n            keys.push(plus.humanizeKey(key, platform));\n          }\n        }\n        keys = _.uniq(_.flatten(keys));\n        if (platform === 'darwin') {\n          keys = keys.join('');\n        } else {\n          keys = keys.join('+');\n        }\n        humanizedKeystrokes.push(keys);\n      }\n      return humanizedKeystrokes.join(' ');\n    },\n    isSubset: function(potentialSubset, potentialSuperset) {\n      return _.every(potentialSubset, function(element) {\n        return _.include(potentialSuperset, element);\n      });\n    },\n    losslessInvert: function(hash) {\n      var inverted, key, value;\n      inverted = {};\n      for (key in hash) {\n        value = hash[key];\n        if (inverted[value] == null) {\n          inverted[value] = [];\n        }\n        inverted[value].push(key);\n      }\n      return inverted;\n    },\n    mapObject: function(object, iterator) {\n      var key, newObject, value, _i, _len, _ref, _ref1;\n      newObject = {};\n      _ref = Object.keys(object);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        key = _ref[_i];\n        _ref1 = iterator(key, object[key]), key = _ref1[0], value = _ref1[1];\n        newObject[key] = value;\n      }\n      return newObject;\n    },\n    multiplyString: function(string, n) {\n      var finalString, i;\n      finalString = \"\";\n      i = 0;\n      while (i < n) {\n        finalString += string;\n        i++;\n      }\n      return finalString;\n    },\n    pluralize: function(count, singular, plural) {\n      if (count == null) {\n        count = 0;\n      }\n      if (plural == null) {\n        plural = singular + 's';\n      }\n      if (count === 1) {\n        return \"\" + count + \" \" + singular;\n      } else {\n        return \"\" + count + \" \" + plural;\n      }\n    },\n    remove: function(array, element) {\n      var index;\n      index = array.indexOf(element);\n      if (index >= 0) {\n        array.splice(index, 1);\n      }\n      return array;\n    },\n    setValueForKeyPath: function(object, keyPath, value) {\n      var key, keys;\n      keys = splitKeyPath(keyPath);\n      while (keys.length > 1) {\n        key = keys.shift();\n        if (object[key] == null) {\n          object[key] = {};\n        }\n        object = object[key];\n      }\n      if (value != null) {\n        return object[keys.shift()] = value;\n      } else {\n        return delete object[keys.shift()];\n      }\n    },\n    hasKeyPath: function(object, keyPath) {\n      var key, keys, _i, _len;\n      keys = splitKeyPath(keyPath);\n      for (_i = 0, _len = keys.length; _i < _len; _i++) {\n        key = keys[_i];\n        if (!object.hasOwnProperty(key)) {\n          return false;\n        }\n        object = object[key];\n      }\n      return true;\n    },\n    spliceWithArray: function(originalArray, start, length, insertedArray, chunkSize) {\n      var chunkStart, _i, _ref, _results;\n      if (chunkSize == null) {\n        chunkSize = 100000;\n      }\n      if (insertedArray.length < chunkSize) {\n        return originalArray.splice.apply(originalArray, [start, length].concat(__slice.call(insertedArray)));\n      } else {\n        originalArray.splice(start, length);\n        _results = [];\n        for (chunkStart = _i = 0, _ref = insertedArray.length; chunkSize > 0 ? _i <= _ref : _i >= _ref; chunkStart = _i += chunkSize) {\n          _results.push(originalArray.splice.apply(originalArray, [start + chunkStart, 0].concat(__slice.call(insertedArray.slice(chunkStart, chunkStart + chunkSize)))));\n        }\n        return _results;\n      }\n    },\n    sum: function(array) {\n      var elt, sum, _i, _len;\n      sum = 0;\n      for (_i = 0, _len = array.length; _i < _len; _i++) {\n        elt = array[_i];\n        sum += elt;\n      }\n      return sum;\n    },\n    uncamelcase: function(string) {\n      var result;\n      if (!string) {\n        return '';\n      }\n      result = string.replace(/([A-Z])|_+/g, function(match, letter) {\n        if (letter == null) {\n          letter = '';\n        }\n        return \" \" + letter;\n      });\n      return plus.capitalize(result.trim());\n    },\n    undasherize: function(string) {\n      if (string) {\n        return string.split('-').map(plus.capitalize).join(' ');\n      } else {\n        return '';\n      }\n    },\n    underscore: function(string) {\n      if (!string) {\n        return '';\n      }\n      string = string[0].toLowerCase() + string.slice(1);\n      return string.replace(/([A-Z])|-+/g, function(match, letter) {\n        if (letter == null) {\n          letter = '';\n        }\n        return \"_\" + (letter.toLowerCase());\n      });\n    },\n    valueForKeyPath: function(object, keyPath) {\n      var key, keys, _i, _len;\n      keys = splitKeyPath(keyPath);\n      for (_i = 0, _len = keys.length; _i < _len; _i++) {\n        key = keys[_i];\n        object = object[key];\n        if (object == null) {\n          return;\n        }\n      }\n      return object;\n    },\n    isEqual: function(a, b, aStack, bStack) {\n      if (_.isArray(aStack) && _.isArray(bStack)) {\n        return isEqual(a, b, aStack, bStack);\n      } else {\n        return isEqual(a, b);\n      }\n    },\n    isEqualForProperties: function() {\n      var a, b, properties, property, _i, _len;\n      a = arguments[0], b = arguments[1], properties = 3 <= arguments.length ? __slice.call(arguments, 2) : [];\n      for (_i = 0, _len = properties.length; _i < _len; _i++) {\n        property = properties[_i];\n        if (!_.isEqual(a[property], b[property])) {\n          return false;\n        }\n      }\n      return true;\n    }\n  };\n\n  isEqual = function(a, b, aStack, bStack) {\n    var aCtor, aCtorValid, aElement, aKeyCount, aValue, bCtor, bCtorValid, bKeyCount, bValue, equal, i, key, stackIndex, _i, _len;\n    if (aStack == null) {\n      aStack = [];\n    }\n    if (bStack == null) {\n      bStack = [];\n    }\n    if (a === b) {\n      return _.isEqual(a, b);\n    }\n    if (_.isFunction(a) || _.isFunction(b)) {\n      return _.isEqual(a, b);\n    }\n    stackIndex = aStack.length;\n    while (stackIndex--) {\n      if (aStack[stackIndex] === a) {\n        return bStack[stackIndex] === b;\n      }\n    }\n    aStack.push(a);\n    bStack.push(b);\n    equal = false;\n    if (_.isFunction(a != null ? a.isEqual : void 0)) {\n      equal = a.isEqual(b, aStack, bStack);\n    } else if (_.isFunction(b != null ? b.isEqual : void 0)) {\n      equal = b.isEqual(a, bStack, aStack);\n    } else if (_.isArray(a) && _.isArray(b) && a.length === b.length) {\n      equal = true;\n      for (i = _i = 0, _len = a.length; _i < _len; i = ++_i) {\n        aElement = a[i];\n        if (!isEqual(aElement, b[i], aStack, bStack)) {\n          equal = false;\n          break;\n        }\n      }\n    } else if (_.isRegExp(a) && _.isRegExp(b)) {\n      equal = _.isEqual(a, b);\n    } else if (_.isElement(a) && _.isElement(b)) {\n      equal = a === b;\n    } else if (_.isObject(a) && _.isObject(b)) {\n      aCtor = a.constructor;\n      bCtor = b.constructor;\n      aCtorValid = _.isFunction(aCtor) && aCtor instanceof aCtor;\n      bCtorValid = _.isFunction(bCtor) && bCtor instanceof bCtor;\n      if (aCtor !== bCtor && !(aCtorValid && bCtorValid)) {\n        equal = false;\n      } else {\n        aKeyCount = 0;\n        equal = true;\n        for (key in a) {\n          aValue = a[key];\n          if (!_.has(a, key)) {\n            continue;\n          }\n          aKeyCount++;\n          if (!(_.has(b, key) && isEqual(aValue, b[key], aStack, bStack))) {\n            equal = false;\n            break;\n          }\n        }\n        if (equal) {\n          bKeyCount = 0;\n          for (key in b) {\n            bValue = b[key];\n            if (_.has(b, key)) {\n              bKeyCount++;\n            }\n          }\n          equal = aKeyCount === bKeyCount;\n        }\n      }\n    } else {\n      equal = _.isEqual(a, b);\n    }\n    aStack.pop();\n    bStack.pop();\n    return equal;\n  };\n\n  module.exports = _.extend({}, _, plus);\n\n}).call(this);\n","/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n    function identity(v) {\n        return v;\n    }\n    function toBool(v) {\n        return !!v;\n    }\n    function notId(v) {\n        return !v;\n    }\n\n    // global on the server, window in the browser\n    var previous_async;\n\n    // Establish the root object, `window` (`self`) in the browser, `global`\n    // on the server, or `this` in some virtual machines. We use `self`\n    // instead of `window` for `WebWorker` support.\n    var root = typeof self === 'object' && self.self === self && self ||\n            typeof global === 'object' && global.global === global && global ||\n            this;\n\n    if (root != null) {\n        previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        return function() {\n            if (fn === null) throw new Error(\"Callback was already called.\");\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    function _once(fn) {\n        return function() {\n            if (fn === null) return;\n            fn.apply(this, arguments);\n            fn = null;\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    // Ported from underscore.js isObject\n    var _isObject = function(obj) {\n        var type = typeof obj;\n        return type === 'function' || type === 'object' && !!obj;\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _arrayEach(arr, iterator) {\n        var index = -1,\n            length = arr.length;\n\n        while (++index < length) {\n            iterator(arr[index], index, arr);\n        }\n    }\n\n    function _map(arr, iterator) {\n        var index = -1,\n            length = arr.length,\n            result = Array(length);\n\n        while (++index < length) {\n            result[index] = iterator(arr[index], index, arr);\n        }\n        return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    function _indexOf(arr, item) {\n        for (var i = 0; i < arr.length; i++) {\n            if (arr[i] === item) return i;\n        }\n        return -1;\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)\n    // This accumulates the arguments passed into an array, after a given index.\n    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).\n    function _restParam(func, startIndex) {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function() {\n            var length = Math.max(arguments.length - startIndex, 0);\n            var rest = Array(length);\n            for (var index = 0; index < length; index++) {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex) {\n                case 0: return func.call(this, rest);\n                case 1: return func.call(this, arguments[0], rest);\n            }\n            // Currently unused but handle cases outside of the switch statement:\n            // var args = Array(startIndex + 1);\n            // for (index = 0; index < startIndex; index++) {\n            //     args[index] = arguments[index];\n            // }\n            // args[startIndex] = rest;\n            // return func.apply(this, args);\n        };\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate = typeof setImmediate === 'function' && setImmediate;\n\n    var _delay = _setImmediate ? function(fn) {\n        // not a direct alias for IE10 compatibility\n        _setImmediate(fn);\n    } : function(fn) {\n        setTimeout(fn, 0);\n    };\n\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n        async.nextTick = process.nextTick;\n    } else {\n        async.nextTick = _delay;\n    }\n    async.setImmediate = _setImmediate ? _delay : async.nextTick;\n\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n\n        var iter = _keyIterator(object);\n        var key, completed = 0;\n\n        while ((key = iter()) != null) {\n            completed += 1;\n            iterator(object[key], key, only_once(done));\n        }\n\n        if (completed === 0) callback(null);\n\n        function done(err) {\n            completed--;\n            if (err) {\n                callback(err);\n            }\n            // Check key is null in case iterator isn't exhausted\n            // and done resolved synchronously.\n            else if (key === null && completed <= 0) {\n                callback(null);\n            }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.setImmediate(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(fn) {\n        return function (obj, limit, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        arr = arr || [];\n        var results = _isArrayLike(arr) ? [] : {};\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = doParallelLimit(_asyncMap);\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, identity).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    async.transform = function (arr, memo, iterator, callback) {\n        if (arguments.length === 3) {\n            callback = iterator;\n            iterator = memo;\n            memo = _isArray(arr) ? [] : {};\n        }\n\n        async.eachOf(arr, function(v, k, cb) {\n            iterator(memo, v, k, cb);\n        }, function(err) {\n            callback(err, memo);\n        });\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectLimit =\n    async.filterLimit = doParallelLimit(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        _filter(eachfn, arr, function(value, cb) {\n            iterator(value, function(v) {\n                cb(!v);\n            });\n        }, callback);\n    }\n    async.reject = doParallel(_reject);\n    async.rejectLimit = doParallelLimit(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _createTester(eachfn, check, getResult) {\n        return function(arr, limit, iterator, cb) {\n            function done() {\n                if (cb) cb(getResult(false, void 0));\n            }\n            function iteratee(x, _, callback) {\n                if (!cb) return callback();\n                iterator(x, function (v) {\n                    if (cb && check(v)) {\n                        cb(getResult(true, x));\n                        cb = iterator = false;\n                    }\n                    callback();\n                });\n            }\n            if (arguments.length > 3) {\n                eachfn(arr, limit, iteratee, done);\n            } else {\n                cb = iterator;\n                iterator = limit;\n                eachfn(arr, iteratee, done);\n            }\n        };\n    }\n\n    async.any =\n    async.some = _createTester(async.eachOf, toBool, identity);\n\n    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);\n\n    async.all =\n    async.every = _createTester(async.eachOf, notId, notId);\n\n    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);\n\n    function _findGetResult(v, x) {\n        return x;\n    }\n    async.detect = _createTester(async.eachOf, identity, _findGetResult);\n    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);\n    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, concurrency, callback) {\n        if (typeof arguments[1] === 'function') {\n            // concurrency is optional, shift the args.\n            callback = concurrency;\n            concurrency = null;\n        }\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n        if (!concurrency) {\n            concurrency = remainingTasks;\n        }\n\n        var results = {};\n        var runningTasks = 0;\n\n        var hasError = false;\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            var idx = _indexOf(listeners, fn);\n            if (idx >= 0) listeners.splice(idx, 1);\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            if (hasError) return;\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            var taskCallback = _restParam(function(err, args) {\n                runningTasks--;\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _forEachOf(results, function(val, rkey) {\n                        safeResults[rkey] = val;\n                    });\n                    safeResults[k] = args;\n                    hasError = true;\n\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            });\n            var requires = task.slice(0, task.length - 1);\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));\n                }\n                if (_isArray(dep) && _indexOf(dep, k) >= 0) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return runningTasks < concurrency && _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                runningTasks++;\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    runningTasks++;\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var DEFAULT_INTERVAL = 0;\n\n        var attempts = [];\n\n        var opts = {\n            times: DEFAULT_TIMES,\n            interval: DEFAULT_INTERVAL\n        };\n\n        function parseTimes(acc, t){\n            if(typeof t === 'number'){\n                acc.times = parseInt(t, 10) || DEFAULT_TIMES;\n            } else if(typeof t === 'object'){\n                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;\n                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;\n            } else {\n                throw new Error('Unsupported argument type for \\'times\\': ' + typeof t);\n            }\n        }\n\n        var length = arguments.length;\n        if (length < 1 || length > 3) {\n            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');\n        } else if (length <= 2 && typeof times === 'function') {\n            callback = task;\n            task = times;\n        }\n        if (typeof times !== 'function') {\n            parseTimes(opts, times);\n        }\n        opts.callback = callback;\n        opts.task = task;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            function retryInterval(interval){\n                return function(seriesCallback){\n                    setTimeout(function(){\n                        seriesCallback(null);\n                    }, interval);\n                };\n            }\n\n            while (opts.times) {\n\n                var finalAttempt = !(opts.times-=1);\n                attempts.push(retryAttempt(opts.task, finalAttempt));\n                if(!finalAttempt && opts.interval > 0){\n                    attempts.push(retryInterval(opts.interval));\n                }\n            }\n\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || opts.callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return opts.callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n            var err = new Error('First argument to waterfall must be an array of functions');\n            return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return _restParam(function (err, args) {\n                if (err) {\n                    callback.apply(null, [err].concat(args));\n                }\n                else {\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            });\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(_restParam(function (err, args) {\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            }));\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function(tasks, callback) {\n        _parallel(async.eachOfSeries, tasks, callback);\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = _restParam(function (fn, args) {\n        return _restParam(function (callArgs) {\n            return fn.apply(\n                null, args.concat(callArgs)\n            );\n        });\n    });\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        callback = callback || noop;\n        if (test()) {\n            var next = _restParam(function(err, args) {\n                if (err) {\n                    callback(err);\n                } else if (test.apply(this, args)) {\n                    iterator(next);\n                } else {\n                    callback.apply(null, [null].concat(args));\n                }\n            });\n            iterator(next);\n        } else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        var calls = 0;\n        return async.whilst(function() {\n            return ++calls <= 1 || test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.until = function (test, iterator, callback) {\n        return async.whilst(function() {\n            return !test.apply(this, arguments);\n        }, iterator, callback);\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        return async.doWhilst(iterator, function() {\n            return !test.apply(this, arguments);\n        }, callback);\n    };\n\n    async.during = function (test, iterator, callback) {\n        callback = callback || noop;\n\n        var next = _restParam(function(err, args) {\n            if (err) {\n                callback(err);\n            } else {\n                args.push(check);\n                test.apply(this, args);\n            }\n        });\n\n        var check = function(err, truth) {\n            if (err) {\n                callback(err);\n            } else if (truth) {\n                iterator(next);\n            } else {\n                callback(null);\n            }\n        };\n\n        test(check);\n    };\n\n    async.doDuring = function (iterator, test, callback) {\n        var calls = 0;\n        async.during(function(next) {\n            if (calls++ < 1) {\n                next(null, true);\n            } else {\n                test.apply(this, arguments);\n            }\n        }, iterator, callback);\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                    q.tasks.unshift(item);\n                } else {\n                    q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n\n                var removed = false;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    _arrayEach(workersList, function (worker, index) {\n                        if (worker === task && !removed) {\n                            workersList.splice(index, 1);\n                            removed = true;\n                        }\n                    });\n\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var workersList = [];\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            payload: payload,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                while(!q.paused && workers < q.concurrency && q.tasks.length){\n\n                    var tasks = q.payload ?\n                        q.tasks.splice(0, q.payload) :\n                        q.tasks.splice(0, q.tasks.length);\n\n                    var data = _map(tasks, function (task) {\n                        return task.data;\n                    });\n\n                    if (q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    workersList.push(tasks[0]);\n                    var cb = only_once(_next(q, tasks));\n                    worker(data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            workersList: function () {\n                return workersList;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n            var beg = -1,\n                end = sequence.length - 1;\n            while (beg < end) {\n                var mid = beg + ((end - beg + 1) >>> 1);\n                if (compare(item, sequence[mid]) >= 0) {\n                    beg = mid;\n                } else {\n                    end = mid - 1;\n                }\n            }\n            return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return _restParam(function (fn, args) {\n            fn.apply(null, args.concat([_restParam(function (err, args) {\n                if (typeof console === 'object') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            })]));\n        });\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        var has = Object.prototype.hasOwnProperty;\n        hasher = hasher || identity;\n        var memoized = _restParam(function memoized(args) {\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (has.call(memo, key)) {   \n                async.setImmediate(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (has.call(queues, key)) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([_restParam(function (args) {\n                    memo[key] = args;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                        q[i].apply(null, args);\n                    }\n                })]));\n            }\n        });\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n        return function () {\n            return (fn.unmemoized || fn).apply(null, arguments);\n        };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return _restParam(function (args) {\n            var that = this;\n\n            var callback = args[args.length - 1];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {\n                    cb(err, nextargs);\n                })]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        });\n    };\n\n    async.compose = function (/* functions... */) {\n        return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn) {\n        return _restParam(function(fns, args) {\n            var go = _restParam(function(args) {\n                var that = this;\n                var callback = args.pop();\n                return eachfn(fns, function (fn, _, cb) {\n                    fn.apply(that, args.concat([cb]));\n                },\n                callback);\n            });\n            if (args.length) {\n                return go.apply(this, args);\n            }\n            else {\n                return go;\n            }\n        });\n    }\n\n    async.applyEach = _applyEach(async.eachOf);\n    async.applyEachSeries = _applyEach(async.eachOfSeries);\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        });\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    async.constant = _restParam(function(values) {\n        var args = [null].concat(values);\n        return function (callback) {\n            return callback.apply(this, args);\n        };\n    });\n\n    async.wrapSync =\n    async.asyncify = function asyncify(func) {\n        return _restParam(function (args) {\n            var callback = args.pop();\n            var result;\n            try {\n                result = func.apply(this, args);\n            } catch (e) {\n                return callback(e);\n            }\n            // if result is Promise object\n            if (_isObject(result) && typeof result.then === \"function\") {\n                result.then(function(value) {\n                    callback(null, value);\n                })[\"catch\"](function(err) {\n                    callback(err.message ? err : new Error(err));\n                });\n            } else {\n                callback(null, result);\n            }\n        });\n    };\n\n    // Node.js\n    if (typeof module === 'object' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","var path = require('path');\nvar fs = require('fs');\nvar _0777 = parseInt('0777', 8);\n\nmodule.exports = mkdirP.mkdirp = mkdirP.mkdirP = mkdirP;\n\nfunction mkdirP (p, opts, f, made) {\n    if (typeof opts === 'function') {\n        f = opts;\n        opts = {};\n    }\n    else if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777 & (~process.umask());\n    }\n    if (!made) made = null;\n    \n    var cb = f || function () {};\n    p = path.resolve(p);\n    \n    xfs.mkdir(p, mode, function (er) {\n        if (!er) {\n            made = made || p;\n            return cb(null, made);\n        }\n        switch (er.code) {\n            case 'ENOENT':\n                mkdirP(path.dirname(p), opts, function (er, made) {\n                    if (er) cb(er, made);\n                    else mkdirP(p, opts, cb, made);\n                });\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                xfs.stat(p, function (er2, stat) {\n                    // if the stat fails, then that's super weird.\n                    // let the original error be the failure reason.\n                    if (er2 || !stat.isDirectory()) cb(er, made)\n                    else cb(null, made);\n                });\n                break;\n        }\n    });\n}\n\nmkdirP.sync = function sync (p, opts, made) {\n    if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777 & (~process.umask());\n    }\n    if (!made) made = null;\n\n    p = path.resolve(p);\n\n    try {\n        xfs.mkdirSync(p, mode);\n        made = made || p;\n    }\n    catch (err0) {\n        switch (err0.code) {\n            case 'ENOENT' :\n                made = sync(path.dirname(p), opts, made);\n                sync(p, opts, made);\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                var stat;\n                try {\n                    stat = xfs.statSync(p);\n                }\n                catch (err1) {\n                    throw err0;\n                }\n                if (!stat.isDirectory()) throw err0;\n                break;\n        }\n    }\n\n    return made;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar pathModule = require('path');\nvar isWindows = process.platform === 'win32';\nvar fs = require('fs');\n\n// JavaScript implementation of realpath, ported from node pre-v6\n\nvar DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);\n\nfunction rethrow() {\n  // Only enable in debug mode. A backtrace uses ~1000 bytes of heap space and\n  // is fairly slow to generate.\n  var callback;\n  if (DEBUG) {\n    var backtrace = new Error;\n    callback = debugCallback;\n  } else\n    callback = missingCallback;\n\n  return callback;\n\n  function debugCallback(err) {\n    if (err) {\n      backtrace.message = err.message;\n      err = backtrace;\n      missingCallback(err);\n    }\n  }\n\n  function missingCallback(err) {\n    if (err) {\n      if (process.throwDeprecation)\n        throw err;  // Forgot a callback but don't know where? Use NODE_DEBUG=fs\n      else if (!process.noDeprecation) {\n        var msg = 'fs: missing callback ' + (err.stack || err.message);\n        if (process.traceDeprecation)\n          console.trace(msg);\n        else\n          console.error(msg);\n      }\n    }\n  }\n}\n\nfunction maybeCallback(cb) {\n  return typeof cb === 'function' ? cb : rethrow();\n}\n\nvar normalize = pathModule.normalize;\n\n// Regexp that finds the next partion of a (partial) path\n// result is [base_with_slash, base], e.g. ['somedir/', 'somedir']\nif (isWindows) {\n  var nextPartRe = /(.*?)(?:[\\/\\\\]+|$)/g;\n} else {\n  var nextPartRe = /(.*?)(?:[\\/]+|$)/g;\n}\n\n// Regex to find the device root, including trailing slash. E.g. 'c:\\\\'.\nif (isWindows) {\n  var splitRootRe = /^(?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?[\\\\\\/]*/;\n} else {\n  var splitRootRe = /^[\\/]*/;\n}\n\nexports.realpathSync = function realpathSync(p, cache) {\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return cache[p];\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstatSync(base);\n      knownHard[base] = true;\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  // NB: p.length changes.\n  while (pos < p.length) {\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      continue;\n    }\n\n    var resolvedLink;\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // some known symbolic link.  no need to stat again.\n      resolvedLink = cache[base];\n    } else {\n      var stat = fs.lstatSync(base);\n      if (!stat.isSymbolicLink()) {\n        knownHard[base] = true;\n        if (cache) cache[base] = base;\n        continue;\n      }\n\n      // read the link if it wasn't read before\n      // dev/ino always return 0 on windows, so skip the check.\n      var linkTarget = null;\n      if (!isWindows) {\n        var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n        if (seenLinks.hasOwnProperty(id)) {\n          linkTarget = seenLinks[id];\n        }\n      }\n      if (linkTarget === null) {\n        fs.statSync(base);\n        linkTarget = fs.readlinkSync(base);\n      }\n      resolvedLink = pathModule.resolve(previous, linkTarget);\n      // track this, if given a cache.\n      if (cache) cache[base] = resolvedLink;\n      if (!isWindows) seenLinks[id] = linkTarget;\n    }\n\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n\n  if (cache) cache[original] = p;\n\n  return p;\n};\n\n\nexports.realpath = function realpath(p, cache, cb) {\n  if (typeof cb !== 'function') {\n    cb = maybeCallback(cache);\n    cache = null;\n  }\n\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return process.nextTick(cb.bind(null, null, cache[p]));\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstat(base, function(err) {\n        if (err) return cb(err);\n        knownHard[base] = true;\n        LOOP();\n      });\n    } else {\n      process.nextTick(LOOP);\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  function LOOP() {\n    // stop if scanned past end of path\n    if (pos >= p.length) {\n      if (cache) cache[original] = p;\n      return cb(null, p);\n    }\n\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      return process.nextTick(LOOP);\n    }\n\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // known symbolic link.  no need to stat again.\n      return gotResolvedLink(cache[base]);\n    }\n\n    return fs.lstat(base, gotStat);\n  }\n\n  function gotStat(err, stat) {\n    if (err) return cb(err);\n\n    // if not a symlink, skip to the next path part\n    if (!stat.isSymbolicLink()) {\n      knownHard[base] = true;\n      if (cache) cache[base] = base;\n      return process.nextTick(LOOP);\n    }\n\n    // stat & read the link if not read before\n    // call gotTarget as soon as the link target is known\n    // dev/ino always return 0 on windows, so skip the check.\n    if (!isWindows) {\n      var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n      if (seenLinks.hasOwnProperty(id)) {\n        return gotTarget(null, seenLinks[id], base);\n      }\n    }\n    fs.stat(base, function(err) {\n      if (err) return cb(err);\n\n      fs.readlink(base, function(err, target) {\n        if (!isWindows) seenLinks[id] = target;\n        gotTarget(err, target);\n      });\n    });\n  }\n\n  function gotTarget(err, target, base) {\n    if (err) return cb(err);\n\n    var resolvedLink = pathModule.resolve(previous, target);\n    if (cache) cache[base] = resolvedLink;\n    gotResolvedLink(resolvedLink);\n  }\n\n  function gotResolvedLink(resolvedLink) {\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n};\n","module.exports = realpath\nrealpath.realpath = realpath\nrealpath.sync = realpathSync\nrealpath.realpathSync = realpathSync\nrealpath.monkeypatch = monkeypatch\nrealpath.unmonkeypatch = unmonkeypatch\n\nvar fs = require('fs')\nvar origRealpath = fs.realpath\nvar origRealpathSync = fs.realpathSync\n\nvar version = process.version\nvar ok = /^v[0-5]\\./.test(version)\nvar old = require('./old.js')\n\nfunction newError (er) {\n  return er && er.syscall === 'realpath' && (\n    er.code === 'ELOOP' ||\n    er.code === 'ENOMEM' ||\n    er.code === 'ENAMETOOLONG'\n  )\n}\n\nfunction realpath (p, cache, cb) {\n  if (ok) {\n    return origRealpath(p, cache, cb)\n  }\n\n  if (typeof cache === 'function') {\n    cb = cache\n    cache = null\n  }\n  origRealpath(p, cache, function (er, result) {\n    if (newError(er)) {\n      old.realpath(p, cache, cb)\n    } else {\n      cb(er, result)\n    }\n  })\n}\n\nfunction realpathSync (p, cache) {\n  if (ok) {\n    return origRealpathSync(p, cache)\n  }\n\n  try {\n    return origRealpathSync(p, cache)\n  } catch (er) {\n    if (newError(er)) {\n      return old.realpathSync(p, cache)\n    } else {\n      throw er\n    }\n  }\n}\n\nfunction monkeypatch () {\n  fs.realpath = realpath\n  fs.realpathSync = realpathSync\n}\n\nfunction unmonkeypatch () {\n  fs.realpath = origRealpath\n  fs.realpathSync = origRealpathSync\n}\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","'use strict';\n\nfunction posix(path) {\n\treturn path.charAt(0) === '/';\n}\n\nfunction win32(path) {\n\t// https://github.com/nodejs/node/blob/b3fcc245fb25539909ef1d5eaa01dbf92e168633/lib/path.js#L56\n\tvar splitDeviceRe = /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\tvar result = splitDeviceRe.exec(path);\n\tvar device = result[1] || '';\n\tvar isUnc = Boolean(device && device.charAt(1) !== ':');\n\n\t// UNC paths are always absolute\n\treturn Boolean(result[2] || isUnc);\n}\n\nmodule.exports = process.platform === 'win32' ? win32 : posix;\nmodule.exports.posix = posix;\nmodule.exports.win32 = win32;\n","exports.alphasort = alphasort\nexports.alphasorti = alphasorti\nexports.setopts = setopts\nexports.ownProp = ownProp\nexports.makeAbs = makeAbs\nexports.finish = finish\nexports.mark = mark\nexports.isIgnored = isIgnored\nexports.childrenIgnored = childrenIgnored\n\nfunction ownProp (obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field)\n}\n\nvar path = require(\"path\")\nvar minimatch = require(\"minimatch\")\nvar isAbsolute = require(\"path-is-absolute\")\nvar Minimatch = minimatch.Minimatch\n\nfunction alphasorti (a, b) {\n  return a.toLowerCase().localeCompare(b.toLowerCase())\n}\n\nfunction alphasort (a, b) {\n  return a.localeCompare(b)\n}\n\nfunction setupIgnores (self, options) {\n  self.ignore = options.ignore || []\n\n  if (!Array.isArray(self.ignore))\n    self.ignore = [self.ignore]\n\n  if (self.ignore.length) {\n    self.ignore = self.ignore.map(ignoreMap)\n  }\n}\n\n// ignore patterns are always in dot:true mode.\nfunction ignoreMap (pattern) {\n  var gmatcher = null\n  if (pattern.slice(-3) === '/**') {\n    var gpattern = pattern.replace(/(\\/\\*\\*)+$/, '')\n    gmatcher = new Minimatch(gpattern, { dot: true })\n  }\n\n  return {\n    matcher: new Minimatch(pattern, { dot: true }),\n    gmatcher: gmatcher\n  }\n}\n\nfunction setopts (self, pattern, options) {\n  if (!options)\n    options = {}\n\n  // base-matching: just use globstar for that.\n  if (options.matchBase && -1 === pattern.indexOf(\"/\")) {\n    if (options.noglobstar) {\n      throw new Error(\"base matching requires globstar\")\n    }\n    pattern = \"**/\" + pattern\n  }\n\n  self.silent = !!options.silent\n  self.pattern = pattern\n  self.strict = options.strict !== false\n  self.realpath = !!options.realpath\n  self.realpathCache = options.realpathCache || Object.create(null)\n  self.follow = !!options.follow\n  self.dot = !!options.dot\n  self.mark = !!options.mark\n  self.nodir = !!options.nodir\n  if (self.nodir)\n    self.mark = true\n  self.sync = !!options.sync\n  self.nounique = !!options.nounique\n  self.nonull = !!options.nonull\n  self.nosort = !!options.nosort\n  self.nocase = !!options.nocase\n  self.stat = !!options.stat\n  self.noprocess = !!options.noprocess\n  self.absolute = !!options.absolute\n\n  self.maxLength = options.maxLength || Infinity\n  self.cache = options.cache || Object.create(null)\n  self.statCache = options.statCache || Object.create(null)\n  self.symlinks = options.symlinks || Object.create(null)\n\n  setupIgnores(self, options)\n\n  self.changedCwd = false\n  var cwd = process.cwd()\n  if (!ownProp(options, \"cwd\"))\n    self.cwd = cwd\n  else {\n    self.cwd = path.resolve(options.cwd)\n    self.changedCwd = self.cwd !== cwd\n  }\n\n  self.root = options.root || path.resolve(self.cwd, \"/\")\n  self.root = path.resolve(self.root)\n  if (process.platform === \"win32\")\n    self.root = self.root.replace(/\\\\/g, \"/\")\n\n  // TODO: is an absolute `cwd` supposed to be resolved against `root`?\n  // e.g. { cwd: '/test', root: __dirname } === path.join(__dirname, '/test')\n  self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd)\n  if (process.platform === \"win32\")\n    self.cwdAbs = self.cwdAbs.replace(/\\\\/g, \"/\")\n  self.nomount = !!options.nomount\n\n  // disable comments and negation in Minimatch.\n  // Note that they are not supported in Glob itself anyway.\n  options.nonegate = true\n  options.nocomment = true\n\n  self.minimatch = new Minimatch(pattern, options)\n  self.options = self.minimatch.options\n}\n\nfunction finish (self) {\n  var nou = self.nounique\n  var all = nou ? [] : Object.create(null)\n\n  for (var i = 0, l = self.matches.length; i < l; i ++) {\n    var matches = self.matches[i]\n    if (!matches || Object.keys(matches).length === 0) {\n      if (self.nonull) {\n        // do like the shell, and spit out the literal glob\n        var literal = self.minimatch.globSet[i]\n        if (nou)\n          all.push(literal)\n        else\n          all[literal] = true\n      }\n    } else {\n      // had matches\n      var m = Object.keys(matches)\n      if (nou)\n        all.push.apply(all, m)\n      else\n        m.forEach(function (m) {\n          all[m] = true\n        })\n    }\n  }\n\n  if (!nou)\n    all = Object.keys(all)\n\n  if (!self.nosort)\n    all = all.sort(self.nocase ? alphasorti : alphasort)\n\n  // at *some* point we statted all of these\n  if (self.mark) {\n    for (var i = 0; i < all.length; i++) {\n      all[i] = self._mark(all[i])\n    }\n    if (self.nodir) {\n      all = all.filter(function (e) {\n        var notDir = !(/\\/$/.test(e))\n        var c = self.cache[e] || self.cache[makeAbs(self, e)]\n        if (notDir && c)\n          notDir = c !== 'DIR' && !Array.isArray(c)\n        return notDir\n      })\n    }\n  }\n\n  if (self.ignore.length)\n    all = all.filter(function(m) {\n      return !isIgnored(self, m)\n    })\n\n  self.found = all\n}\n\nfunction mark (self, p) {\n  var abs = makeAbs(self, p)\n  var c = self.cache[abs]\n  var m = p\n  if (c) {\n    var isDir = c === 'DIR' || Array.isArray(c)\n    var slash = p.slice(-1) === '/'\n\n    if (isDir && !slash)\n      m += '/'\n    else if (!isDir && slash)\n      m = m.slice(0, -1)\n\n    if (m !== p) {\n      var mabs = makeAbs(self, m)\n      self.statCache[mabs] = self.statCache[abs]\n      self.cache[mabs] = self.cache[abs]\n    }\n  }\n\n  return m\n}\n\n// lotta situps...\nfunction makeAbs (self, f) {\n  var abs = f\n  if (f.charAt(0) === '/') {\n    abs = path.join(self.root, f)\n  } else if (isAbsolute(f) || f === '') {\n    abs = f\n  } else if (self.changedCwd) {\n    abs = path.resolve(self.cwd, f)\n  } else {\n    abs = path.resolve(f)\n  }\n\n  if (process.platform === 'win32')\n    abs = abs.replace(/\\\\/g, '/')\n\n  return abs\n}\n\n\n// Return true, if pattern ends with globstar '**', for the accompanying parent directory.\n// Ex:- If node_modules/** is the pattern, add 'node_modules' to ignore list along with it's contents\nfunction isIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return item.matcher.match(path) || !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n\nfunction childrenIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n","module.exports = globSync\nglobSync.GlobSync = GlobSync\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar Glob = require('./glob.js').Glob\nvar util = require('util')\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar common = require('./common.js')\nvar alphasort = common.alphasort\nvar alphasorti = common.alphasorti\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nfunction globSync (pattern, options) {\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  return new GlobSync(pattern, options).found\n}\n\nfunction GlobSync (pattern, options) {\n  if (!pattern)\n    throw new Error('must provide pattern')\n\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  if (!(this instanceof GlobSync))\n    return new GlobSync(pattern, options)\n\n  setopts(this, pattern, options)\n\n  if (this.noprocess)\n    return this\n\n  var n = this.minimatch.set.length\n  this.matches = new Array(n)\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false)\n  }\n  this._finish()\n}\n\nGlobSync.prototype._finish = function () {\n  assert(this instanceof GlobSync)\n  if (this.realpath) {\n    var self = this\n    this.matches.forEach(function (matchset, index) {\n      var set = self.matches[index] = Object.create(null)\n      for (var p in matchset) {\n        try {\n          p = self._makeAbs(p)\n          var real = rp.realpathSync(p, self.realpathCache)\n          set[real] = true\n        } catch (er) {\n          if (er.syscall === 'stat')\n            set[self._makeAbs(p)] = true\n          else\n            throw er\n        }\n      }\n    })\n  }\n  common.finish(this)\n}\n\n\nGlobSync.prototype._process = function (pattern, index, inGlobStar) {\n  assert(this instanceof GlobSync)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // See if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip processing\n  if (childrenIgnored(this, read))\n    return\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar)\n}\n\n\nGlobSync.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar) {\n  var entries = this._readdir(abs, inGlobStar)\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix.slice(-1) !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix)\n      newPattern = [prefix, e]\n    else\n      newPattern = [e]\n    this._process(newPattern.concat(remain), index, inGlobStar)\n  }\n}\n\n\nGlobSync.prototype._emitMatch = function (index, e) {\n  if (isIgnored(this, e))\n    return\n\n  var abs = this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute) {\n    e = abs\n  }\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  if (this.stat)\n    this._stat(e)\n}\n\n\nGlobSync.prototype._readdirInGlobStar = function (abs) {\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false)\n\n  var entries\n  var lstat\n  var stat\n  try {\n    lstat = fs.lstatSync(abs)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      // lstat failed, doesn't exist\n      return null\n    }\n  }\n\n  var isSym = lstat && lstat.isSymbolicLink()\n  this.symlinks[abs] = isSym\n\n  // If it's not a symlink or a dir, then it's definitely a regular file.\n  // don't bother doing a readdir in that case.\n  if (!isSym && lstat && !lstat.isDirectory())\n    this.cache[abs] = 'FILE'\n  else\n    entries = this._readdir(abs, false)\n\n  return entries\n}\n\nGlobSync.prototype._readdir = function (abs, inGlobStar) {\n  var entries\n\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return null\n\n    if (Array.isArray(c))\n      return c\n  }\n\n  try {\n    return this._readdirEntries(abs, fs.readdirSync(abs))\n  } catch (er) {\n    this._readdirError(abs, er)\n    return null\n  }\n}\n\nGlobSync.prototype._readdirEntries = function (abs, entries) {\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n\n  // mark and cache dir-ness\n  return entries\n}\n\nGlobSync.prototype._readdirError = function (f, er) {\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        throw error\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict)\n        throw er\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n}\n\nGlobSync.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar) {\n\n  var entries = this._readdir(abs, inGlobStar)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false)\n\n  var len = entries.length\n  var isSym = this.symlinks[abs]\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true)\n  }\n}\n\nGlobSync.prototype._processSimple = function (prefix, index) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var exists = this._stat(prefix)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlobSync.prototype._stat = function (f) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return false\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return c\n\n    if (needDir && c === 'FILE')\n      return false\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (!stat) {\n    var lstat\n    try {\n      lstat = fs.lstatSync(abs)\n    } catch (er) {\n      if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n        this.statCache[abs] = false\n        return false\n      }\n    }\n\n    if (lstat && lstat.isSymbolicLink()) {\n      try {\n        stat = fs.statSync(abs)\n      } catch (er) {\n        stat = lstat\n      }\n    } else {\n      stat = lstat\n    }\n  }\n\n  this.statCache[abs] = stat\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return false\n\n  return c\n}\n\nGlobSync.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlobSync.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","var wrappy = require('wrappy')\nvar reqs = Object.create(null)\nvar once = require('once')\n\nmodule.exports = wrappy(inflight)\n\nfunction inflight (key, cb) {\n  if (reqs[key]) {\n    reqs[key].push(cb)\n    return null\n  } else {\n    reqs[key] = [cb]\n    return makeres(key)\n  }\n}\n\nfunction makeres (key) {\n  return once(function RES () {\n    var cbs = reqs[key]\n    var len = cbs.length\n    var args = slice(arguments)\n\n    // XXX It's somewhat ambiguous whether a new callback added in this\n    // pass should be queued for later execution if something in the\n    // list of callbacks throws, or if it should just be discarded.\n    // However, it's such an edge case that it hardly matters, and either\n    // choice is likely as surprising as the other.\n    // As it happens, we do go ahead and schedule it for later execution.\n    try {\n      for (var i = 0; i < len; i++) {\n        cbs[i].apply(null, args)\n      }\n    } finally {\n      if (cbs.length > len) {\n        // added more in the interim.\n        // de-zalgo, just in case, but don't call again.\n        cbs.splice(0, len)\n        process.nextTick(function () {\n          RES.apply(null, args)\n        })\n      } else {\n        delete reqs[key]\n      }\n    }\n  })\n}\n\nfunction slice (args) {\n  var length = args.length\n  var array = []\n\n  for (var i = 0; i < length; i++) array[i] = args[i]\n  return array\n}\n","// Approach:\n//\n// 1. Get the minimatch set\n// 2. For each pattern in the set, PROCESS(pattern, false)\n// 3. Store matches per-set, then uniq them\n//\n// PROCESS(pattern, inGlobStar)\n// Get the first [n] items from pattern that are all strings\n// Join these together.  This is PREFIX.\n//   If there is no more remaining, then stat(PREFIX) and\n//   add to matches if it succeeds.  END.\n//\n// If inGlobStar and PREFIX is symlink and points to dir\n//   set ENTRIES = []\n// else readdir(PREFIX) as ENTRIES\n//   If fail, END\n//\n// with ENTRIES\n//   If pattern[n] is GLOBSTAR\n//     // handle the case where the globstar match is empty\n//     // by pruning it out, and testing the resulting pattern\n//     PROCESS(pattern[0..n] + pattern[n+1 .. $], false)\n//     // handle other cases.\n//     for ENTRY in ENTRIES (not dotfiles)\n//       // attach globstar + tail onto the entry\n//       // Mark that this entry is a globstar match\n//       PROCESS(pattern[0..n] + ENTRY + pattern[n .. $], true)\n//\n//   else // not globstar\n//     for ENTRY in ENTRIES (not dotfiles, unless pattern[n] is dot)\n//       Test ENTRY against pattern[n]\n//       If fails, continue\n//       If passes, PROCESS(pattern[0..n] + item + pattern[n+1 .. $])\n//\n// Caveat:\n//   Cache all stats and readdirs results to minimize syscall.  Since all\n//   we ever care about is existence and directory-ness, we can just keep\n//   `true` for files, and [children,...] for directories, or `false` for\n//   things that don't exist.\n\nmodule.exports = glob\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar inherits = require('inherits')\nvar EE = require('events').EventEmitter\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar globSync = require('./sync.js')\nvar common = require('./common.js')\nvar alphasort = common.alphasort\nvar alphasorti = common.alphasorti\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar inflight = require('inflight')\nvar util = require('util')\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nvar once = require('once')\n\nfunction glob (pattern, options, cb) {\n  if (typeof options === 'function') cb = options, options = {}\n  if (!options) options = {}\n\n  if (options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return globSync(pattern, options)\n  }\n\n  return new Glob(pattern, options, cb)\n}\n\nglob.sync = globSync\nvar GlobSync = glob.GlobSync = globSync.GlobSync\n\n// old api surface\nglob.glob = glob\n\nfunction extend (origin, add) {\n  if (add === null || typeof add !== 'object') {\n    return origin\n  }\n\n  var keys = Object.keys(add)\n  var i = keys.length\n  while (i--) {\n    origin[keys[i]] = add[keys[i]]\n  }\n  return origin\n}\n\nglob.hasMagic = function (pattern, options_) {\n  var options = extend({}, options_)\n  options.noprocess = true\n\n  var g = new Glob(pattern, options)\n  var set = g.minimatch.set\n\n  if (!pattern)\n    return false\n\n  if (set.length > 1)\n    return true\n\n  for (var j = 0; j < set[0].length; j++) {\n    if (typeof set[0][j] !== 'string')\n      return true\n  }\n\n  return false\n}\n\nglob.Glob = Glob\ninherits(Glob, EE)\nfunction Glob (pattern, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = null\n  }\n\n  if (options && options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return new GlobSync(pattern, options)\n  }\n\n  if (!(this instanceof Glob))\n    return new Glob(pattern, options, cb)\n\n  setopts(this, pattern, options)\n  this._didRealPath = false\n\n  // process each pattern in the minimatch set\n  var n = this.minimatch.set.length\n\n  // The matches are stored as {<filename>: true,...} so that\n  // duplicates are automagically pruned.\n  // Later, we do an Object.keys() on these.\n  // Keep them as a list so we can fill in when nonull is set.\n  this.matches = new Array(n)\n\n  if (typeof cb === 'function') {\n    cb = once(cb)\n    this.on('error', cb)\n    this.on('end', function (matches) {\n      cb(null, matches)\n    })\n  }\n\n  var self = this\n  this._processing = 0\n\n  this._emitQueue = []\n  this._processQueue = []\n  this.paused = false\n\n  if (this.noprocess)\n    return this\n\n  if (n === 0)\n    return done()\n\n  var sync = true\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false, done)\n  }\n  sync = false\n\n  function done () {\n    --self._processing\n    if (self._processing <= 0) {\n      if (sync) {\n        process.nextTick(function () {\n          self._finish()\n        })\n      } else {\n        self._finish()\n      }\n    }\n  }\n}\n\nGlob.prototype._finish = function () {\n  assert(this instanceof Glob)\n  if (this.aborted)\n    return\n\n  if (this.realpath && !this._didRealpath)\n    return this._realpath()\n\n  common.finish(this)\n  this.emit('end', this.found)\n}\n\nGlob.prototype._realpath = function () {\n  if (this._didRealpath)\n    return\n\n  this._didRealpath = true\n\n  var n = this.matches.length\n  if (n === 0)\n    return this._finish()\n\n  var self = this\n  for (var i = 0; i < this.matches.length; i++)\n    this._realpathSet(i, next)\n\n  function next () {\n    if (--n === 0)\n      self._finish()\n  }\n}\n\nGlob.prototype._realpathSet = function (index, cb) {\n  var matchset = this.matches[index]\n  if (!matchset)\n    return cb()\n\n  var found = Object.keys(matchset)\n  var self = this\n  var n = found.length\n\n  if (n === 0)\n    return cb()\n\n  var set = this.matches[index] = Object.create(null)\n  found.forEach(function (p, i) {\n    // If there's a problem with the stat, then it means that\n    // one or more of the links in the realpath couldn't be\n    // resolved.  just return the abs value in that case.\n    p = self._makeAbs(p)\n    rp.realpath(p, self.realpathCache, function (er, real) {\n      if (!er)\n        set[real] = true\n      else if (er.syscall === 'stat')\n        set[p] = true\n      else\n        self.emit('error', er) // srsly wtf right here\n\n      if (--n === 0) {\n        self.matches[index] = set\n        cb()\n      }\n    })\n  })\n}\n\nGlob.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlob.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n\nGlob.prototype.abort = function () {\n  this.aborted = true\n  this.emit('abort')\n}\n\nGlob.prototype.pause = function () {\n  if (!this.paused) {\n    this.paused = true\n    this.emit('pause')\n  }\n}\n\nGlob.prototype.resume = function () {\n  if (this.paused) {\n    this.emit('resume')\n    this.paused = false\n    if (this._emitQueue.length) {\n      var eq = this._emitQueue.slice(0)\n      this._emitQueue.length = 0\n      for (var i = 0; i < eq.length; i ++) {\n        var e = eq[i]\n        this._emitMatch(e[0], e[1])\n      }\n    }\n    if (this._processQueue.length) {\n      var pq = this._processQueue.slice(0)\n      this._processQueue.length = 0\n      for (var i = 0; i < pq.length; i ++) {\n        var p = pq[i]\n        this._processing--\n        this._process(p[0], p[1], p[2], p[3])\n      }\n    }\n  }\n}\n\nGlob.prototype._process = function (pattern, index, inGlobStar, cb) {\n  assert(this instanceof Glob)\n  assert(typeof cb === 'function')\n\n  if (this.aborted)\n    return\n\n  this._processing++\n  if (this.paused) {\n    this._processQueue.push([pattern, index, inGlobStar, cb])\n    return\n  }\n\n  //console.error('PROCESS %d', this._processing, pattern)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // see if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index, cb)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip _processing\n  if (childrenIgnored(this, read))\n    return cb()\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cb)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cb)\n}\n\nGlob.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    return self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\nGlob.prototype._processReaddir2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return cb()\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  //console.error('prd2', prefix, entries, remain[0]._glob, matchedEntries)\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return cb()\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return cb()\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix) {\n      if (prefix !== '/')\n        e = prefix + '/' + e\n      else\n        e = prefix + e\n    }\n    this._process([e].concat(remain), index, inGlobStar, cb)\n  }\n  cb()\n}\n\nGlob.prototype._emitMatch = function (index, e) {\n  if (this.aborted)\n    return\n\n  if (isIgnored(this, e))\n    return\n\n  if (this.paused) {\n    this._emitQueue.push([index, e])\n    return\n  }\n\n  var abs = isAbsolute(e) ? e : this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute)\n    e = abs\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  var st = this.statCache[abs]\n  if (st)\n    this.emit('stat', e, st)\n\n  this.emit('match', e)\n}\n\nGlob.prototype._readdirInGlobStar = function (abs, cb) {\n  if (this.aborted)\n    return\n\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false, cb)\n\n  var lstatkey = 'lstat\\0' + abs\n  var self = this\n  var lstatcb = inflight(lstatkey, lstatcb_)\n\n  if (lstatcb)\n    fs.lstat(abs, lstatcb)\n\n  function lstatcb_ (er, lstat) {\n    if (er && er.code === 'ENOENT')\n      return cb()\n\n    var isSym = lstat && lstat.isSymbolicLink()\n    self.symlinks[abs] = isSym\n\n    // If it's not a symlink or a dir, then it's definitely a regular file.\n    // don't bother doing a readdir in that case.\n    if (!isSym && lstat && !lstat.isDirectory()) {\n      self.cache[abs] = 'FILE'\n      cb()\n    } else\n      self._readdir(abs, false, cb)\n  }\n}\n\nGlob.prototype._readdir = function (abs, inGlobStar, cb) {\n  if (this.aborted)\n    return\n\n  cb = inflight('readdir\\0'+abs+'\\0'+inGlobStar, cb)\n  if (!cb)\n    return\n\n  //console.error('RD %j %j', +inGlobStar, abs)\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs, cb)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return cb()\n\n    if (Array.isArray(c))\n      return cb(null, c)\n  }\n\n  var self = this\n  fs.readdir(abs, readdirCb(this, abs, cb))\n}\n\nfunction readdirCb (self, abs, cb) {\n  return function (er, entries) {\n    if (er)\n      self._readdirError(abs, er, cb)\n    else\n      self._readdirEntries(abs, entries, cb)\n  }\n}\n\nGlob.prototype._readdirEntries = function (abs, entries, cb) {\n  if (this.aborted)\n    return\n\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n  return cb(null, entries)\n}\n\nGlob.prototype._readdirError = function (f, er, cb) {\n  if (this.aborted)\n    return\n\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        this.emit('error', error)\n        this.abort()\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict) {\n        this.emit('error', er)\n        // If the error is handled, then we abort\n        // if not, we threw out of here\n        this.abort()\n      }\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n\n  return cb()\n}\n\nGlob.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\n\nGlob.prototype._processGlobStar2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n  //console.error('pgs2', prefix, remain[0], entries)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return cb()\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false, cb)\n\n  var isSym = this.symlinks[abs]\n  var len = entries.length\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return cb()\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true, cb)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true, cb)\n  }\n\n  cb()\n}\n\nGlob.prototype._processSimple = function (prefix, index, cb) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var self = this\n  this._stat(prefix, function (er, exists) {\n    self._processSimple2(prefix, index, er, exists, cb)\n  })\n}\nGlob.prototype._processSimple2 = function (prefix, index, er, exists, cb) {\n\n  //console.error('ps2', prefix, exists)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return cb()\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n  cb()\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlob.prototype._stat = function (f, cb) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return cb()\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return cb(null, c)\n\n    if (needDir && c === 'FILE')\n      return cb()\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (stat !== undefined) {\n    if (stat === false)\n      return cb(null, stat)\n    else {\n      var type = stat.isDirectory() ? 'DIR' : 'FILE'\n      if (needDir && type === 'FILE')\n        return cb()\n      else\n        return cb(null, type, stat)\n    }\n  }\n\n  var self = this\n  var statcb = inflight('stat\\0' + abs, lstatcb_)\n  if (statcb)\n    fs.lstat(abs, statcb)\n\n  function lstatcb_ (er, lstat) {\n    if (lstat && lstat.isSymbolicLink()) {\n      // If it's a symlink, then treat it as the target, unless\n      // the target does not exist, then treat it as a file.\n      return fs.stat(abs, function (er, stat) {\n        if (er)\n          self._stat2(f, abs, null, lstat, cb)\n        else\n          self._stat2(f, abs, er, stat, cb)\n      })\n    } else {\n      self._stat2(f, abs, er, lstat, cb)\n    }\n  }\n}\n\nGlob.prototype._stat2 = function (f, abs, er, stat, cb) {\n  if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n    this.statCache[abs] = false\n    return cb()\n  }\n\n  var needDir = f.slice(-1) === '/'\n  this.statCache[abs] = stat\n\n  if (abs.slice(-1) === '/' && stat && !stat.isDirectory())\n    return cb(null, false, stat)\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return cb()\n\n  return cb(null, c, stat)\n}\n","module.exports = rimraf\nrimraf.sync = rimrafSync\n\nvar assert = require(\"assert\")\nvar path = require(\"path\")\nvar fs = require(\"fs\")\nvar glob = require(\"glob\")\nvar _0666 = parseInt('666', 8)\n\nvar defaultGlobOpts = {\n  nosort: true,\n  silent: true\n}\n\n// for EMFILE handling\nvar timeout = 0\n\nvar isWindows = (process.platform === \"win32\")\n\nfunction defaults (options) {\n  var methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(function(m) {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n  options.emfileWait = options.emfileWait || 1000\n  if (options.glob === false) {\n    options.disableGlob = true\n  }\n  options.disableGlob = options.disableGlob || false\n  options.glob = options.glob || defaultGlobOpts\n}\n\nfunction rimraf (p, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert.equal(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  var busyTries = 0\n  var errState = null\n  var n = 0\n\n  if (options.disableGlob || !glob.hasMagic(p))\n    return afterGlob(null, [p])\n\n  options.lstat(p, function (er, stat) {\n    if (!er)\n      return afterGlob(null, [p])\n\n    glob(p, options.glob, afterGlob)\n  })\n\n  function next (er) {\n    errState = errState || er\n    if (--n === 0)\n      cb(errState)\n  }\n\n  function afterGlob (er, results) {\n    if (er)\n      return cb(er)\n\n    n = results.length\n    if (n === 0)\n      return cb()\n\n    results.forEach(function (p) {\n      rimraf_(p, options, function CB (er) {\n        if (er) {\n          if ((er.code === \"EBUSY\" || er.code === \"ENOTEMPTY\" || er.code === \"EPERM\") &&\n              busyTries < options.maxBusyTries) {\n            busyTries ++\n            var time = busyTries * 100\n            // try again, with the same exact callback as this one.\n            return setTimeout(function () {\n              rimraf_(p, options, CB)\n            }, time)\n          }\n\n          // this one won't happen if graceful-fs is used.\n          if (er.code === \"EMFILE\" && timeout < options.emfileWait) {\n            return setTimeout(function () {\n              rimraf_(p, options, CB)\n            }, timeout ++)\n          }\n\n          // already gone\n          if (er.code === \"ENOENT\") er = null\n        }\n\n        timeout = 0\n        next(er)\n      })\n    })\n  }\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nfunction rimraf_ (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, function (er, st) {\n    if (er && er.code === \"ENOENT\")\n      return cb(null)\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === \"EPERM\" && isWindows)\n      fixWinEPERM(p, options, er, cb)\n\n    if (st && st.isDirectory())\n      return rmdir(p, options, er, cb)\n\n    options.unlink(p, function (er) {\n      if (er) {\n        if (er.code === \"ENOENT\")\n          return cb(null)\n        if (er.code === \"EPERM\")\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        if (er.code === \"EISDIR\")\n          return rmdir(p, options, er, cb)\n      }\n      return cb(er)\n    })\n  })\n}\n\nfunction fixWinEPERM (p, options, er, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n  if (er)\n    assert(er instanceof Error)\n\n  options.chmod(p, _0666, function (er2) {\n    if (er2)\n      cb(er2.code === \"ENOENT\" ? null : er)\n    else\n      options.stat(p, function(er3, stats) {\n        if (er3)\n          cb(er3.code === \"ENOENT\" ? null : er)\n        else if (stats.isDirectory())\n          rmdir(p, options, er, cb)\n        else\n          options.unlink(p, cb)\n      })\n  })\n}\n\nfunction fixWinEPERMSync (p, options, er) {\n  assert(p)\n  assert(options)\n  if (er)\n    assert(er instanceof Error)\n\n  try {\n    options.chmodSync(p, _0666)\n  } catch (er2) {\n    if (er2.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  try {\n    var stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  if (stats.isDirectory())\n    rmdirSync(p, options, er)\n  else\n    options.unlinkSync(p)\n}\n\nfunction rmdir (p, options, originalEr, cb) {\n  assert(p)\n  assert(options)\n  if (originalEr)\n    assert(originalEr instanceof Error)\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, function (er) {\n    if (er && (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\"))\n      rmkids(p, options, cb)\n    else if (er && er.code === \"ENOTDIR\")\n      cb(originalEr)\n    else\n      cb(er)\n  })\n}\n\nfunction rmkids(p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, function (er, files) {\n    if (er)\n      return cb(er)\n    var n = files.length\n    if (n === 0)\n      return options.rmdir(p, cb)\n    var errState\n    files.forEach(function (f) {\n      rimraf(path.join(p, f), options, function (er) {\n        if (errState)\n          return\n        if (er)\n          return cb(errState = er)\n        if (--n === 0)\n          options.rmdir(p, cb)\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nfunction rimrafSync (p, options) {\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  var results\n\n  if (options.disableGlob || !glob.hasMagic(p)) {\n    results = [p]\n  } else {\n    try {\n      options.lstatSync(p)\n      results = [p]\n    } catch (er) {\n      results = glob.sync(p, options.glob)\n    }\n  }\n\n  if (!results.length)\n    return\n\n  for (var i = 0; i < results.length; i++) {\n    var p = results[i]\n\n    try {\n      var st = options.lstatSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n\n      // Windows can EPERM on stat.  Life is suffering.\n      if (er.code === \"EPERM\" && isWindows)\n        fixWinEPERMSync(p, options, er)\n    }\n\n    try {\n      // sunos lets the root user unlink directories, which is... weird.\n      if (st && st.isDirectory())\n        rmdirSync(p, options, null)\n      else\n        options.unlinkSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n      if (er.code === \"EPERM\")\n        return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n      if (er.code !== \"EISDIR\")\n        throw er\n\n      rmdirSync(p, options, er)\n    }\n  }\n}\n\nfunction rmdirSync (p, options, originalEr) {\n  assert(p)\n  assert(options)\n  if (originalEr)\n    assert(originalEr instanceof Error)\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === \"ENOENT\")\n      return\n    if (er.code === \"ENOTDIR\")\n      throw originalEr\n    if (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\")\n      rmkidsSync(p, options)\n  }\n}\n\nfunction rmkidsSync (p, options) {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(function (f) {\n    rimrafSync(path.join(p, f), options)\n  })\n\n  // We only end up here once we got ENOTEMPTY at least once, and\n  // at this point, we are guaranteed to have removed all the kids.\n  // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n  // try really hard to delete stuff on windows, because it has a\n  // PROFOUNDLY annoying habit of not closing handles promptly when\n  // files are deleted, resulting in spurious ENOTEMPTY errors.\n  var retries = isWindows ? 100 : 1\n  var i = 0\n  do {\n    var threw = true\n    try {\n      var ret = options.rmdirSync(p, options)\n      threw = false\n      return ret\n    } finally {\n      if (++i < retries && threw)\n        continue\n    }\n  } while (true)\n}\n","(function() {\n  var BINARY_EXTENSIONS, COMPRESSED_EXTENSIONS, IMAGE_EXTENSIONS, MARKDOWN_EXTENSIONS, Module, async, checkIfElectron2OrLower, fs, fsPlus, isElectron2OrLower, isMoveTargetValid, isMoveTargetValidSync, isPathValid, lstatSyncNoException, mkdirp, path, rimraf, statSyncNoException, _,\n    __slice = [].slice;\n\n  fs = require('fs');\n\n  Module = require('module');\n\n  path = require('path');\n\n  _ = require('underscore-plus');\n\n  async = require('async');\n\n  mkdirp = require('mkdirp');\n\n  rimraf = require('rimraf');\n\n  fsPlus = {\n    __esModule: false,\n    getHomeDirectory: function() {\n      if (process.platform === 'win32' && !process.env.HOME) {\n        return process.env.USERPROFILE;\n      } else {\n        return process.env.HOME;\n      }\n    },\n    absolute: function(relativePath) {\n      var e;\n      if (relativePath == null) {\n        return null;\n      }\n      relativePath = fsPlus.resolveHome(relativePath);\n      try {\n        return fs.realpathSync(relativePath);\n      } catch (_error) {\n        e = _error;\n        return relativePath;\n      }\n    },\n    normalize: function(pathToNormalize) {\n      if (pathToNormalize == null) {\n        return null;\n      }\n      return fsPlus.resolveHome(path.normalize(pathToNormalize.toString()));\n    },\n    resolveHome: function(relativePath) {\n      if (relativePath === '~') {\n        return fsPlus.getHomeDirectory();\n      } else if (relativePath.indexOf(\"~\" + path.sep) === 0) {\n        return \"\" + (fsPlus.getHomeDirectory()) + (relativePath.substring(1));\n      }\n      return relativePath;\n    },\n    tildify: function(pathToTildify) {\n      var homeDir, normalized;\n      if (process.platform === 'win32') {\n        return pathToTildify;\n      }\n      normalized = fsPlus.normalize(pathToTildify);\n      homeDir = fsPlus.getHomeDirectory();\n      if (homeDir == null) {\n        return pathToTildify;\n      }\n      if (normalized === homeDir) {\n        return '~';\n      }\n      if (!normalized.startsWith(path.join(homeDir, path.sep))) {\n        return pathToTildify;\n      }\n      return path.join('~', path.sep, normalized.substring(homeDir.length + 1));\n    },\n    getAppDataDirectory: function() {\n      switch (process.platform) {\n        case 'darwin':\n          return fsPlus.absolute(path.join('~', 'Library', 'Application Support'));\n        case 'linux':\n          return '/var/lib';\n        case 'win32':\n          return process.env.APPDATA;\n        default:\n          return null;\n      }\n    },\n    isAbsolute: function(pathToCheck) {\n      if (pathToCheck == null) {\n        pathToCheck = '';\n      }\n      if (process.platform === 'win32') {\n        if (pathToCheck[1] === ':') {\n          return true;\n        }\n        if (pathToCheck[0] === '\\\\' && pathToCheck[1] === '\\\\') {\n          return true;\n        }\n      } else {\n        return pathToCheck[0] === '/';\n      }\n      return false;\n    },\n    existsSync: function(pathToCheck) {\n      return isPathValid(pathToCheck) && (statSyncNoException(pathToCheck) !== false);\n    },\n    isDirectorySync: function(directoryPath) {\n      var stat;\n      if (!isPathValid(directoryPath)) {\n        return false;\n      }\n      if (stat = statSyncNoException(directoryPath)) {\n        return stat.isDirectory();\n      } else {\n        return false;\n      }\n    },\n    isDirectory: function(directoryPath, done) {\n      if (!isPathValid(directoryPath)) {\n        return done(false);\n      }\n      return fs.stat(directoryPath, function(error, stat) {\n        if (error != null) {\n          return done(false);\n        } else {\n          return done(stat.isDirectory());\n        }\n      });\n    },\n    isFileSync: function(filePath) {\n      var stat;\n      if (!isPathValid(filePath)) {\n        return false;\n      }\n      if (stat = statSyncNoException(filePath)) {\n        return stat.isFile();\n      } else {\n        return false;\n      }\n    },\n    isSymbolicLinkSync: function(symlinkPath) {\n      var stat;\n      if (!isPathValid(symlinkPath)) {\n        return false;\n      }\n      if (stat = lstatSyncNoException(symlinkPath)) {\n        return stat.isSymbolicLink();\n      } else {\n        return false;\n      }\n    },\n    isSymbolicLink: function(symlinkPath, callback) {\n      if (isPathValid(symlinkPath)) {\n        return fs.lstat(symlinkPath, function(error, stat) {\n          return typeof callback === \"function\" ? callback((stat != null) && stat.isSymbolicLink()) : void 0;\n        });\n      } else {\n        return process.nextTick(function() {\n          return typeof callback === \"function\" ? callback(false) : void 0;\n        });\n      }\n    },\n    isExecutableSync: function(pathToCheck) {\n      var stat;\n      if (!isPathValid(pathToCheck)) {\n        return false;\n      }\n      if (stat = statSyncNoException(pathToCheck)) {\n        return (stat.mode & 0x1ff & 1) !== 0;\n      } else {\n        return false;\n      }\n    },\n    getSizeSync: function(pathToCheck) {\n      var _ref;\n      if (isPathValid(pathToCheck)) {\n        return (_ref = statSyncNoException(pathToCheck).size) != null ? _ref : -1;\n      } else {\n        return -1;\n      }\n    },\n    listSync: function(rootPath, extensions) {\n      var paths;\n      if (!fsPlus.isDirectorySync(rootPath)) {\n        return [];\n      }\n      paths = fs.readdirSync(rootPath);\n      if (extensions) {\n        paths = fsPlus.filterExtensions(paths, extensions);\n      }\n      paths = paths.sort(function(a, b) {\n        return a.toLowerCase().localeCompare(b.toLowerCase());\n      });\n      paths = paths.map(function(childPath) {\n        return path.join(rootPath, childPath);\n      });\n      return paths;\n    },\n    list: function() {\n      var done, extensions, rest, rootPath;\n      rootPath = arguments[0], rest = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      if (rest.length > 1) {\n        extensions = rest.shift();\n      }\n      done = rest.shift();\n      return fs.readdir(rootPath, function(error, paths) {\n        if (error != null) {\n          return done(error);\n        } else {\n          if (extensions) {\n            paths = fsPlus.filterExtensions(paths, extensions);\n          }\n          paths = paths.sort(function(a, b) {\n            return a.toLowerCase().localeCompare(b.toLowerCase());\n          });\n          paths = paths.map(function(childPath) {\n            return path.join(rootPath, childPath);\n          });\n          return done(null, paths);\n        }\n      });\n    },\n    filterExtensions: function(paths, extensions) {\n      extensions = extensions.map(function(ext) {\n        if (ext === '') {\n          return ext;\n        } else {\n          return '.' + ext.replace(/^\\./, '');\n        }\n      });\n      return paths.filter(function(pathToCheck) {\n        return _.include(extensions, path.extname(pathToCheck));\n      });\n    },\n    listTreeSync: function(rootPath) {\n      var onPath, paths;\n      paths = [];\n      onPath = function(childPath) {\n        paths.push(childPath);\n        return true;\n      };\n      fsPlus.traverseTreeSync(rootPath, onPath, onPath);\n      return paths;\n    },\n    move: function(source, target, callback) {\n      return isMoveTargetValid(source, target, function(isMoveTargetValidErr, isTargetValid) {\n        var error, targetParentPath;\n        if (isMoveTargetValidErr) {\n          callback(isMoveTargetValidErr);\n          return;\n        }\n        if (!isTargetValid) {\n          error = new Error(\"'\" + target + \"' already exists.\");\n          error.code = 'EEXIST';\n          callback(error);\n          return;\n        }\n        targetParentPath = path.dirname(target);\n        return fs.exists(targetParentPath, function(targetParentExists) {\n          if (targetParentExists) {\n            fs.rename(source, target, callback);\n            return;\n          }\n          return fsPlus.makeTree(targetParentPath, function(makeTreeErr) {\n            if (makeTreeErr) {\n              callback(makeTreeErr);\n              return;\n            }\n            return fs.rename(source, target, callback);\n          });\n        });\n      });\n    },\n    moveSync: function(source, target) {\n      var error, targetParentPath;\n      if (!isMoveTargetValidSync(source, target)) {\n        error = new Error(\"'\" + target + \"' already exists.\");\n        error.code = 'EEXIST';\n        throw error;\n      }\n      targetParentPath = path.dirname(target);\n      if (!fs.existsSync(targetParentPath)) {\n        fsPlus.makeTreeSync(targetParentPath);\n      }\n      return fs.renameSync(source, target);\n    },\n    removeSync: function(pathToRemove) {\n      return rimraf.sync(pathToRemove);\n    },\n    remove: function(pathToRemove, callback) {\n      return rimraf(pathToRemove, callback);\n    },\n    writeFileSync: function(filePath, content, options) {\n      mkdirp.sync(path.dirname(filePath));\n      return fs.writeFileSync(filePath, content, options);\n    },\n    writeFile: function(filePath, content, options, callback) {\n      callback = _.last(arguments);\n      return mkdirp(path.dirname(filePath), function(error) {\n        if (error != null) {\n          return typeof callback === \"function\" ? callback(error) : void 0;\n        } else {\n          return fs.writeFile(filePath, content, options, callback);\n        }\n      });\n    },\n    copy: function(sourcePath, destinationPath, done) {\n      return mkdirp(path.dirname(destinationPath), function(error) {\n        var destinationStream, sourceStream;\n        if (error != null) {\n          if (typeof done === \"function\") {\n            done(error);\n          }\n          return;\n        }\n        sourceStream = fs.createReadStream(sourcePath);\n        sourceStream.on('error', function(error) {\n          if (typeof done === \"function\") {\n            done(error);\n          }\n          return done = null;\n        });\n        destinationStream = fs.createWriteStream(destinationPath);\n        destinationStream.on('error', function(error) {\n          if (typeof done === \"function\") {\n            done(error);\n          }\n          return done = null;\n        });\n        destinationStream.on('close', function() {\n          if (typeof done === \"function\") {\n            done();\n          }\n          return done = null;\n        });\n        return sourceStream.pipe(destinationStream);\n      });\n    },\n    copySync: function(sourcePath, destinationPath) {\n      var destinationFilePath, source, sourceFilePath, sources, _i, _len, _results;\n      sources = fs.readdirSync(sourcePath);\n      mkdirp.sync(destinationPath);\n      _results = [];\n      for (_i = 0, _len = sources.length; _i < _len; _i++) {\n        source = sources[_i];\n        sourceFilePath = path.join(sourcePath, source);\n        destinationFilePath = path.join(destinationPath, source);\n        if (fsPlus.isDirectorySync(sourceFilePath)) {\n          _results.push(fsPlus.copySync(sourceFilePath, destinationFilePath));\n        } else {\n          _results.push(fsPlus.copyFileSync(sourceFilePath, destinationFilePath));\n        }\n      }\n      return _results;\n    },\n    copyFileSync: function(sourceFilePath, destinationFilePath, bufferSize) {\n      var buffer, bytesRead, position, readFd, writeFd, _results;\n      if (bufferSize == null) {\n        bufferSize = 16 * 1024;\n      }\n      mkdirp.sync(path.dirname(destinationFilePath));\n      readFd = null;\n      writeFd = null;\n      try {\n        readFd = fs.openSync(sourceFilePath, 'r');\n        writeFd = fs.openSync(destinationFilePath, 'w');\n        bytesRead = 1;\n        position = 0;\n        _results = [];\n        while (bytesRead > 0) {\n          buffer = new Buffer(bufferSize);\n          bytesRead = fs.readSync(readFd, buffer, 0, buffer.length, position);\n          fs.writeSync(writeFd, buffer, 0, bytesRead, position);\n          _results.push(position += bytesRead);\n        }\n        return _results;\n      } finally {\n        if (readFd != null) {\n          fs.closeSync(readFd);\n        }\n        if (writeFd != null) {\n          fs.closeSync(writeFd);\n        }\n      }\n    },\n    makeTreeSync: function(directoryPath) {\n      if (!fsPlus.isDirectorySync(directoryPath)) {\n        return mkdirp.sync(directoryPath);\n      }\n    },\n    makeTree: function(directoryPath, callback) {\n      return fsPlus.isDirectory(directoryPath, function(exists) {\n        if (exists) {\n          return typeof callback === \"function\" ? callback() : void 0;\n        }\n        return mkdirp(directoryPath, function(error) {\n          return typeof callback === \"function\" ? callback(error) : void 0;\n        });\n      });\n    },\n    traverseTreeSync: function(rootPath, onFile, onDirectory) {\n      var traverse;\n      if (onDirectory == null) {\n        onDirectory = onFile;\n      }\n      if (!fsPlus.isDirectorySync(rootPath)) {\n        return;\n      }\n      traverse = function(directoryPath, onFile, onDirectory) {\n        var childPath, file, linkStats, stats, _i, _len, _ref;\n        _ref = fs.readdirSync(directoryPath);\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          file = _ref[_i];\n          childPath = path.join(directoryPath, file);\n          stats = fs.lstatSync(childPath);\n          if (stats.isSymbolicLink()) {\n            if (linkStats = statSyncNoException(childPath)) {\n              stats = linkStats;\n            }\n          }\n          if (stats.isDirectory()) {\n            if (onDirectory(childPath)) {\n              traverse(childPath, onFile, onDirectory);\n            }\n          } else if (stats.isFile()) {\n            onFile(childPath);\n          }\n        }\n        return void 0;\n      };\n      return traverse(rootPath, onFile, onDirectory);\n    },\n    traverseTree: function(rootPath, onFile, onDirectory, onDone) {\n      return fs.readdir(rootPath, function(error, files) {\n        var file, queue, _i, _len, _results;\n        if (error) {\n          return typeof onDone === \"function\" ? onDone() : void 0;\n        } else {\n          queue = async.queue(function(childPath, callback) {\n            return fs.stat(childPath, function(error, stats) {\n              if (error) {\n                return callback(error);\n              } else if (stats.isFile()) {\n                onFile(childPath);\n                return callback();\n              } else if (stats.isDirectory()) {\n                if (onDirectory(childPath)) {\n                  return fs.readdir(childPath, function(error, files) {\n                    var file, _i, _len;\n                    if (error) {\n                      return callback(error);\n                    } else {\n                      for (_i = 0, _len = files.length; _i < _len; _i++) {\n                        file = files[_i];\n                        queue.unshift(path.join(childPath, file));\n                      }\n                      return callback();\n                    }\n                  });\n                } else {\n                  return callback();\n                }\n              } else {\n                return callback();\n              }\n            });\n          });\n          queue.concurrency = 1;\n          queue.drain = onDone;\n          _results = [];\n          for (_i = 0, _len = files.length; _i < _len; _i++) {\n            file = files[_i];\n            _results.push(queue.push(path.join(rootPath, file)));\n          }\n          return _results;\n        }\n      });\n    },\n    md5ForPath: function(pathToDigest) {\n      var contents;\n      contents = fs.readFileSync(pathToDigest);\n      return require('crypto').createHash('md5').update(contents).digest('hex');\n    },\n    resolve: function() {\n      var args, candidatePath, extensions, loadPath, loadPaths, pathToResolve, resolvedPath, _i, _len, _ref;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      if (_.isArray(_.last(args))) {\n        extensions = args.pop();\n      }\n      pathToResolve = (_ref = args.pop()) != null ? _ref.toString() : void 0;\n      loadPaths = args;\n      if (!pathToResolve) {\n        return void 0;\n      }\n      if (fsPlus.isAbsolute(pathToResolve)) {\n        if (extensions && (resolvedPath = fsPlus.resolveExtension(pathToResolve, extensions))) {\n          return resolvedPath;\n        } else {\n          if (fsPlus.existsSync(pathToResolve)) {\n            return pathToResolve;\n          }\n        }\n      }\n      for (_i = 0, _len = loadPaths.length; _i < _len; _i++) {\n        loadPath = loadPaths[_i];\n        candidatePath = path.join(loadPath, pathToResolve);\n        if (extensions) {\n          if (resolvedPath = fsPlus.resolveExtension(candidatePath, extensions)) {\n            return resolvedPath;\n          }\n        } else {\n          if (fsPlus.existsSync(candidatePath)) {\n            return fsPlus.absolute(candidatePath);\n          }\n        }\n      }\n      return void 0;\n    },\n    resolveOnLoadPath: function() {\n      var args, loadPaths, modulePaths;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      modulePaths = null;\n      if (module.paths != null) {\n        modulePaths = module.paths;\n      } else if (process.resourcesPath) {\n        modulePaths = [path.join(process.resourcesPath, 'app', 'node_modules')];\n      } else {\n        modulePaths = [];\n      }\n      loadPaths = Module.globalPaths.concat(modulePaths);\n      return fsPlus.resolve.apply(fsPlus, __slice.call(loadPaths).concat(__slice.call(args)));\n    },\n    resolveExtension: function(pathToResolve, extensions) {\n      var extension, pathWithExtension, _i, _len;\n      for (_i = 0, _len = extensions.length; _i < _len; _i++) {\n        extension = extensions[_i];\n        if (extension === \"\") {\n          if (fsPlus.existsSync(pathToResolve)) {\n            return fsPlus.absolute(pathToResolve);\n          }\n        } else {\n          pathWithExtension = pathToResolve + \".\" + extension.replace(/^\\./, \"\");\n          if (fsPlus.existsSync(pathWithExtension)) {\n            return fsPlus.absolute(pathWithExtension);\n          }\n        }\n      }\n      return void 0;\n    },\n    isCompressedExtension: function(ext) {\n      if (ext == null) {\n        return false;\n      }\n      return COMPRESSED_EXTENSIONS.hasOwnProperty(ext.toLowerCase());\n    },\n    isImageExtension: function(ext) {\n      if (ext == null) {\n        return false;\n      }\n      return IMAGE_EXTENSIONS.hasOwnProperty(ext.toLowerCase());\n    },\n    isPdfExtension: function(ext) {\n      return (ext != null ? ext.toLowerCase() : void 0) === '.pdf';\n    },\n    isBinaryExtension: function(ext) {\n      if (ext == null) {\n        return false;\n      }\n      return BINARY_EXTENSIONS.hasOwnProperty(ext.toLowerCase());\n    },\n    isReadmePath: function(readmePath) {\n      var base, extension;\n      extension = path.extname(readmePath);\n      base = path.basename(readmePath, extension).toLowerCase();\n      return base === 'readme' && (extension === '' || fsPlus.isMarkdownExtension(extension));\n    },\n    isMarkdownExtension: function(ext) {\n      if (ext == null) {\n        return false;\n      }\n      return MARKDOWN_EXTENSIONS.hasOwnProperty(ext.toLowerCase());\n    },\n    isCaseInsensitive: function() {\n      var lowerCaseStat, upperCaseStat;\n      if (fsPlus.caseInsensitiveFs == null) {\n        lowerCaseStat = statSyncNoException(process.execPath.toLowerCase());\n        upperCaseStat = statSyncNoException(process.execPath.toUpperCase());\n        if (lowerCaseStat && upperCaseStat) {\n          fsPlus.caseInsensitiveFs = lowerCaseStat.dev === upperCaseStat.dev && lowerCaseStat.ino === upperCaseStat.ino;\n        } else {\n          fsPlus.caseInsensitiveFs = false;\n        }\n      }\n      return fsPlus.caseInsensitiveFs;\n    },\n    isCaseSensitive: function() {\n      return !fsPlus.isCaseInsensitive();\n    },\n    statSyncNoException: function() {\n      var args;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      return statSyncNoException.apply(null, args);\n    },\n    lstatSyncNoException: function() {\n      var args;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      return lstatSyncNoException.apply(null, args);\n    }\n  };\n\n  isElectron2OrLower = null;\n\n  checkIfElectron2OrLower = function() {\n    if (isElectron2OrLower === null) {\n      isElectron2OrLower = process.versions.electron && parseInt(process.versions.electron.split('.')[0]) <= 2;\n    }\n    return isElectron2OrLower;\n  };\n\n  statSyncNoException = function() {\n    var args, error;\n    args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n    if (fs.statSyncNoException && checkIfElectron2OrLower()) {\n      return fs.statSyncNoException.apply(fs, args);\n    } else {\n      try {\n        return fs.statSync.apply(fs, args);\n      } catch (_error) {\n        error = _error;\n        return false;\n      }\n    }\n  };\n\n  lstatSyncNoException = function() {\n    var args, error;\n    args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n    if (fs.lstatSyncNoException && checkIfElectron2OrLower()) {\n      return fs.lstatSyncNoException.apply(fs, args);\n    } else {\n      try {\n        return fs.lstatSync.apply(fs, args);\n      } catch (_error) {\n        error = _error;\n        return false;\n      }\n    }\n  };\n\n  BINARY_EXTENSIONS = {\n    '.ds_store': true,\n    '.a': true,\n    '.exe': true,\n    '.o': true,\n    '.pyc': true,\n    '.pyo': true,\n    '.so': true,\n    '.woff': true\n  };\n\n  COMPRESSED_EXTENSIONS = {\n    '.bz2': true,\n    '.egg': true,\n    '.epub': true,\n    '.gem': true,\n    '.gz': true,\n    '.jar': true,\n    '.lz': true,\n    '.lzma': true,\n    '.lzo': true,\n    '.rar': true,\n    '.tar': true,\n    '.tgz': true,\n    '.war': true,\n    '.whl': true,\n    '.xpi': true,\n    '.xz': true,\n    '.z': true,\n    '.zip': true\n  };\n\n  IMAGE_EXTENSIONS = {\n    '.gif': true,\n    '.ico': true,\n    '.jpeg': true,\n    '.jpg': true,\n    '.png': true,\n    '.tif': true,\n    '.tiff': true,\n    '.webp': true\n  };\n\n  MARKDOWN_EXTENSIONS = {\n    '.markdown': true,\n    '.md': true,\n    '.mdown': true,\n    '.mkd': true,\n    '.mkdown': true,\n    '.rmd': true,\n    '.ron': true\n  };\n\n  isPathValid = function(pathToCheck) {\n    return (pathToCheck != null) && typeof pathToCheck === 'string' && pathToCheck.length > 0;\n  };\n\n  isMoveTargetValid = function(source, target, callback) {\n    return fs.stat(source, function(oldErr, oldStat) {\n      if (oldErr) {\n        callback(oldErr);\n        return;\n      }\n      return fs.stat(target, function(newErr, newStat) {\n        if (newErr && newErr.code === 'ENOENT') {\n          callback(void 0, true);\n          return;\n        }\n        return callback(void 0, source.toLowerCase() === target.toLowerCase() && oldStat.dev === newStat.dev && oldStat.ino === newStat.ino);\n      });\n    });\n  };\n\n  isMoveTargetValidSync = function(source, target) {\n    var newStat, oldStat;\n    oldStat = statSyncNoException(source);\n    newStat = statSyncNoException(target);\n    if (!(oldStat && newStat)) {\n      return true;\n    }\n    return source.toLowerCase() === target.toLowerCase() && oldStat.dev === newStat.dev && oldStat.ino === newStat.ino;\n  };\n\n  module.exports = new Proxy({}, {\n    get: function(target, key) {\n      var _ref;\n      return (_ref = fsPlus[key]) != null ? _ref : fs[key];\n    },\n    set: function(target, key, value) {\n      return fsPlus[key] = value;\n    }\n  });\n\n}).call(this);\n","import {TextEditor, TextEditorElement} from \"atom\"\n\ninterface Props extends JSX.Props {\n  initialText: string\n  selectAll?: boolean\n  readOnly?: boolean\n  grammar?: string\n}\n\nexport class MiniEditor implements JSX.ElementClass {\n  public element: TextEditorElement\n  private model: TextEditor\n\n  constructor(public props: Props) {\n    this.model = atom.workspace.buildTextEditor({\n      mini: true,\n      softWrapped: true,\n      lineNumberGutterVisible: false,\n    })\n    this.element = atom.views.getView(this.model)\n    this.model.setText(props.initialText)\n    if (props.selectAll) {\n      this.model.selectAll()\n    } else {\n      this.model.getLastCursor().moveToEndOfScreenLine()\n    }\n    this.setReadOnly()\n    this.setGrammar()\n    this.model.scrollToBufferPosition([0, 0])\n  }\n\n  public async update(props: Partial<Props>) {\n    this.element = atom.views.getView(this.model)\n    this.props = {...this.props, ...props}\n    this.setReadOnly()\n    this.setGrammar()\n  }\n\n  public focus() {\n    this.element.focus()\n  }\n\n  public getModel() {\n    return this.model\n  }\n\n  private setReadOnly() {\n    this.model.setReadOnly(!!this.props.readOnly)\n  }\n\n  private setGrammar() {\n    if (this.props.grammar !== undefined) {\n      atom.textEditors.setGrammarOverride(this.model, this.props.grammar)\n    } else {\n      atom.textEditors.clearGrammarOverride(this.model)\n    }\n  }\n}\n","import {CompositeDisposable} from \"atom\"\nimport * as etch from \"etch\"\nimport {handlePromise} from \"../../../utils\"\nimport {MiniEditor} from \"../components/miniEditor\"\n\ninterface Props extends JSX.Props {\n  validationMessage?: string\n  title: string\n  initialText: string\n  selectAll: boolean\n}\n\nexport interface Options {\n  autoSelect: boolean\n  title: string\n  text: string\n  onValidate: (newValue: string) => string\n}\n\nclass RenameView implements JSX.ElementClass {\n  public refs!: {\n    editor: MiniEditor\n    main: HTMLElement\n  }\n\n  constructor(public props: Props) {\n    etch.initialize(this)\n  }\n\n  public async update(props: Partial<Props>) {\n    this.props = {...this.props, ...props}\n    await etch.update(this)\n  }\n\n  public render() {\n    return (\n      <div className=\"atomts-rename-view\" ref=\"main\">\n        <div className=\"block\">\n          <div>\n            <span ref=\"title\">{this.props.title}</span>\n            <span className=\"subtle-info-message\">\n              <span>Close this panel with </span>\n              <span className=\"highlight\">esc</span>\n              <span> key. And commit with the </span>\n              <span className=\"highlight\">enter</span>\n              <span> key.</span>\n            </span>\n          </div>\n          <div className=\"find-container block\">\n            <div className=\"editor-container\">\n              <MiniEditor\n                ref=\"editor\"\n                initialText={this.props.initialText}\n                selectAll={this.props.selectAll}\n              />\n            </div>\n          </div>\n          {this.renderValidationMessage()}\n        </div>\n      </div>\n    )\n  }\n\n  public async destroy() {\n    await etch.destroy(this)\n  }\n\n  public focus() {\n    return this.refs.editor.focus()\n  }\n\n  public getText() {\n    return this.refs.editor.getModel().getText()\n  }\n\n  private renderValidationMessage(): JSX.Element | null {\n    if (this.props.validationMessage !== undefined) {\n      return <div className=\"highlight-error\">{this.props.validationMessage}</div>\n    }\n    return null\n  }\n}\n\n// Show the dialog and resolve the promise with the entered string\nexport async function showRenameDialog(options: Options): Promise<string | undefined> {\n  const item = new RenameView({\n    title: options.title,\n    initialText: options.text,\n    selectAll: options.autoSelect,\n  })\n  const panel = atom.workspace.addModalPanel({\n    item,\n    priority: 1000,\n  })\n\n  const currentFocus = document.activeElement as HTMLElement | void\n\n  item.focus()\n\n  const disposables = new CompositeDisposable()\n  try {\n    return await new Promise<string | undefined>((resolve) => {\n      disposables.add(\n        atom.commands.add(item.refs.main, {\n          \"core:cancel\": () => {\n            resolve(undefined)\n          },\n          \"core:confirm\": () => {\n            const newText = item.getText()\n            const invalid = options.onValidate(newText)\n            if (invalid) {\n              handlePromise(item.update({validationMessage: invalid}))\n              return\n            }\n            resolve(newText)\n          },\n        }),\n      )\n    })\n  } finally {\n    panel.destroy()\n    disposables.dispose()\n    if (currentFocus) currentFocus.focus()\n  }\n}\n","import {CompositeDisposable, DisposableLike} from \"atom\"\nimport {isTypescriptEditorWithPath, isTypescriptGrammar} from \"../utils\"\nimport {Dependencies, getCommands} from \"./registry\"\n\n// Import all of the command files for their side effects\nimport \"./build\"\nimport \"./checkAllFiles\"\nimport \"./clearErrors\"\nimport \"./findReferences\"\nimport \"./formatCode\"\nimport \"./goToDeclaration\"\nimport \"./initializeConfig\"\nimport \"./organizeImports\"\nimport \"./refactorCode\"\nimport \"./reloadProjects\"\nimport \"./renameFile\"\nimport \"./renameRefactor\"\nimport \"./restartAllServers\"\nimport \"./returnFromDeclaration\"\nimport \"./semanticView\"\nimport \"./showTooltip\"\nimport \"./sigHelp\"\nimport \"./symbolsView\"\n\nexport function registerCommands(deps: Dependencies): DisposableLike {\n  const disp = new CompositeDisposable()\n  for (const cmd of getCommands()) {\n    if (cmd.selector === \"atom-text-editor\") {\n      const d = cmd.desc(deps)\n      disp.add(\n        atom.commands.add(cmd.selector, cmd.command, {\n          ...d,\n          async didDispatch(e) {\n            try {\n              const editor = e.currentTarget.getModel()\n              if (isTypescriptEditorWithPath(editor)) {\n                await d.didDispatch(editor, () => e.abortKeyBinding())\n              } else {\n                e.abortKeyBinding()\n                if (isTypescriptGrammar(editor)) {\n                  atom.notifications.addWarning(\n                    \"Atom-TypeScript cancelled last command: Current editor has no file path\",\n                    {\n                      description:\n                        \"Atom-TypeScript needs to determine the file path of the \" +\n                        `current editor to execute \\`${cmd.command}\\`, which it failed to do. ` +\n                        \"You probably just need to save the current file somewhere.\",\n                      dismissable: true,\n                    },\n                  )\n                }\n              }\n            } catch (error) {\n              handle(error as Error)\n            }\n          },\n        }),\n      )\n    } else {\n      const d = cmd.desc(deps)\n      disp.add(\n        atom.commands.add(cmd.selector, cmd.command, {\n          ...d,\n          async didDispatch() {\n            try {\n              await d.didDispatch()\n            } catch (error) {\n              handle(error as Error)\n            }\n          },\n        }),\n      )\n    }\n  }\n  return disp\n}\n\nfunction handle(err: Error) {\n  atom.notifications.addFatalError(\"Something went wrong, see details below.\", {\n    detail: err.message,\n    dismissable: true,\n    stack: err.stack,\n  })\n}\n","import * as fs from \"fs-plus\"\nimport {showRenameDialog} from \"../views/renameView\"\nimport {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:rename-file\", (deps) => ({\n  description: \"Rename current file\",\n  async didDispatch(editor) {\n    const location = editor.getPath()\n    // tslint:disable-next-line: strict-boolean-expressions\n    if (!location) return\n\n    const newLocation = await showRenameDialog({\n      autoSelect: true,\n      title: \"Rename File\",\n      text: location,\n      onValidate: (newText): string => {\n        if (!newText.trim()) {\n          return \"If you want to abort : Press esc to exit\"\n        }\n        return \"\"\n      },\n    })\n\n    // tslint:disable-next-line: strict-boolean-expressions\n    if (!newLocation) return\n\n    const client = await deps.getClient(location)\n    const response = await client.execute(\"getEditsForFileRename\", {\n      oldFilePath: location,\n      newFilePath: newLocation,\n    })\n\n    await deps.applyEdits(response.body)\n\n    await new Promise<void>((resolve, reject) => {\n      fs.move(location, newLocation, (err?: Error) => {\n        if (err) reject(err)\n        else {\n          editor.getBuffer().setPath(newLocation)\n          resolve()\n        }\n      })\n    })\n  },\n}))\n","import {getFilePathPosition} from \"../utils\"\nimport {showRenameDialog} from \"../views/renameView\"\nimport {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:rename-refactor\", (deps) => ({\n  description: \"Rename symbol under text cursor everywhere it is used\",\n  async didDispatch(editor) {\n    const location = getFilePathPosition(editor)\n    if (!location) return\n\n    const client = await deps.getClient(location.file)\n    const response = await client.execute(\"rename\", location)\n    const {info, locs} = response.body!\n\n    if (!info.canRename) {\n      atom.notifications.addInfo(\"AtomTS: Rename not available at cursor location\")\n      return\n    }\n\n    const newName = await showRenameDialog({\n      autoSelect: true,\n      title: \"Rename Variable\",\n      text: info.displayName,\n      onValidate: (newText): string => {\n        if (newText.replace(/\\s/g, \"\") !== newText.trim()) {\n          return \"The new variable must not contain a space\"\n        }\n        if (!newText.trim()) {\n          return \"If you want to abort : Press esc to exit\"\n        }\n        return \"\"\n      },\n    })\n\n    if (newName !== undefined) {\n      await deps.applyEdits(\n        locs.map((span) => ({\n          fileName: span.file,\n          textChanges: span.locs.map((loc) => ({...loc, newText: newName})),\n        })),\n      )\n    }\n  },\n}))\n","import {addCommand} from \"./registry\"\n\naddCommand(\"atom-workspace\", \"typescript:restart-all-servers\", (deps) => ({\n  description: \"Kill all tsserver instances. They will be auto-restarted\",\n  async didDispatch() {\n    deps.killAllServers()\n  },\n}))\n","import {addCommand} from \"./registry\"\n\naddCommand(\"atom-workspace\", \"typescript:return-from-declaration\", (deps) => ({\n  description: \"If used `go-to-declaration`, return to previous text cursor position\",\n  async didDispatch() {\n    await deps.histGoBack()\n  },\n}))\n\naddCommand(\"atom-workspace\", \"typescript:show-editor-position-history\", (deps) => ({\n  description: \"If used `go-to-declaration`, return to previous text cursor position\",\n  async didDispatch() {\n    await deps.histShowHistory()\n  },\n}))\n","import {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:toggle-semantic-view\", (deps) => ({\n  description: \"Toggle semantic view outline\",\n  didDispatch() {\n    deps.toggleSemanticViewController()\n  },\n}))\n","import {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:show-tooltip\", (deps) => ({\n  description: \"Show type tooltip at current text cursor position\",\n  async didDispatch(ed) {\n    return deps.showTooltipAt(ed)\n  },\n}))\n","import {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:show-signature-help\", (deps) => ({\n  description: \"Show signature help tooltip at current text cursor position\",\n  async didDispatch(ed) {\n    return deps.showSigHelpAt(ed)\n  },\n}))\n\naddCommand(\"atom-text-editor\", \"typescript:hide-signature-help\", (deps) => ({\n  description: \"Hide the currently visible signature help\",\n  async didDispatch(ed, ignore) {\n    if (!deps.hideSigHelpAt(ed)) ignore()\n  },\n}))\n\naddCommand(\"atom-text-editor\", \"typescript:signature-help-next\", (deps) => ({\n  description: \"Show next signature help if available\",\n  async didDispatch(ed, ignore) {\n    if (!deps.rotateSigHelp(ed, +1)) ignore()\n  },\n}))\n\naddCommand(\"atom-text-editor\", \"typescript:signature-help-prev\", (deps) => ({\n  description: \"Show previous signature help if available\",\n  async didDispatch(ed, ignore) {\n    if (!deps.rotateSigHelp(ed, -1)) ignore()\n  },\n}))\n","import {addCommand} from \"./registry\"\n\naddCommand(\"atom-text-editor\", \"typescript:toggle-file-symbols\", (deps) => ({\n  description: \"Toggle view for finding file symbols\",\n  async didDispatch(editor) {\n    deps.toggleFileSymbolsView(editor)\n  },\n}))\n\naddCommand(\"atom-text-editor\", \"typescript:toggle-project-symbols\", (deps) => ({\n  description: \"Toggle view for finding file symbols\",\n  async didDispatch(editor) {\n    deps.toggleProjectSymbolsView(editor)\n  },\n}))\n","import {DisposableLike, TooltipPlacement} from \"atom\"\nimport * as etch from \"etch\"\n\nexport interface Props extends JSX.Props {\n  title?: string | (() => string)\n  html?: boolean\n  keyBindingCommand?: string\n  keyBindingTarget?: HTMLElement\n  class?: string\n  placement?: TooltipPlacement | (() => TooltipPlacement)\n  trigger?: \"click\" | \"hover\" | \"focus\" | \"manual\"\n  delay?: {show: number; hide: number}\n}\n\nexport class Tooltip implements JSX.ElementClass {\n  public props: Props\n  public element!: HTMLElement\n  private tooltipDisposable: DisposableLike\n\n  constructor(props: Props, private children?: JSX.Element[]) {\n    this.props = {\n      ...props,\n      delay: {show: 0, hide: 0},\n    }\n    etch.initialize(this)\n\n    this.tooltipDisposable = atom.tooltips.add(this.element, this.props)\n  }\n\n  public async update(props: Partial<Props>, children: JSX.Element[]) {\n    this.props = {...this.props, ...props}\n    this.children = children\n    await etch.update(this)\n    this.tooltipDisposable.dispose()\n    this.tooltipDisposable = atom.tooltips.add(this.element, this.props)\n  }\n\n  public render() {\n    return <div className=\"inline-block\">{this.children ? this.children : null}</div>\n  }\n\n  public async destroy() {\n    await etch.destroy(this)\n    this.tooltipDisposable.dispose()\n  }\n}\n","import {CompositeDisposable} from \"atom\"\nimport * as etch from \"etch\"\nimport {debounce} from \"lodash\"\nimport {handlePromise} from \"../../../../utils\"\nimport {Tooltip} from \"./tooltip\"\n\nexport type TBuildStatus = {success: true} | {success: false; message: string}\n\nexport interface Props extends JSX.Props {\n  buildStatus: TBuildStatus\n}\n\nexport class BuildStatus implements JSX.ElementClass {\n  public props: Props\n  private hiddenBuildStatus = false\n  private disposables = new CompositeDisposable()\n  private hideBuildStatus!: () => void\n\n  constructor(props: Props) {\n    this.props = {\n      ...props,\n    }\n    this.setHideBuildStatus(atom.config.get(\"atom-typescript\").buildStatusTimeout)\n    this.resetBuildStatusTimeout()\n    etch.initialize(this)\n    this.disposables.add(\n      atom.config.onDidChange(\"atom-typescript.buildStatusTimeout\", ({newValue}) => {\n        this.setHideBuildStatus(newValue)\n        handlePromise(this.update({}))\n      }),\n    )\n  }\n\n  public async update(props: Partial<Props>) {\n    const successStateChanged =\n      props.buildStatus !== undefined &&\n      props.buildStatus.success !== this.props.buildStatus.success\n    this.props = {...this.props, ...props}\n    if (successStateChanged) this.resetBuildStatusTimeout()\n    await etch.update(this)\n  }\n\n  public render() {\n    if (this.hiddenBuildStatus) return <span />\n\n    let cls: string\n    let text: string\n    if (this.props.buildStatus.success) {\n      cls = \"highlight-success\"\n      text = \"Emit Success\"\n    } else {\n      cls = \"highlight-error\"\n      text = \"Emit Failed\"\n    }\n    return (\n      <Tooltip\n        title={\n          this.props.buildStatus.success\n            ? \"Build was successful\"\n            : \"Build failed; click to show error message\"\n        }>\n        <span className={cls} on={{click: this.buildStatusClicked}}>\n          {text}\n        </span>\n      </Tooltip>\n    )\n  }\n\n  public async destroy() {\n    await etch.destroy(this)\n  }\n\n  private buildStatusClicked = () => {\n    if (!this.props.buildStatus.success) {\n      atom.notifications.addError(\"Build failed\", {\n        detail: this.props.buildStatus.message,\n        dismissable: true,\n      })\n    }\n  }\n\n  private resetBuildStatusTimeout() {\n    this.hiddenBuildStatus = false\n    if (this.props.buildStatus.success) {\n      this.hideBuildStatus()\n    }\n  }\n\n  private setHideBuildStatus(value: number) {\n    if (value > 0) {\n      this.hideBuildStatus = debounce(() => {\n        this.hiddenBuildStatus = true\n        handlePromise(etch.update(this))\n      }, value * 1000)\n    } else if (value === 0) {\n      this.hideBuildStatus = () => {\n        this.hiddenBuildStatus = true\n      }\n    } else this.hideBuildStatus = () => {}\n  }\n}\n","import * as etch from \"etch\"\nimport {dirname} from \"path\"\nimport {handlePromise} from \"../../../../utils\"\nimport {Tooltip} from \"./tooltip\"\n\nexport interface Props extends JSX.Props {\n  tsConfigPath: string\n}\n\nexport class ConfigPath implements JSX.ElementClass {\n  public props: Props\n  public element!: HTMLElement\n\n  constructor(props: Props) {\n    this.props = {\n      ...props,\n    }\n    etch.initialize(this)\n  }\n\n  public async update(props: Partial<Props>) {\n    this.props = {...this.props, ...props}\n    await etch.update(this)\n  }\n\n  public render() {\n    return (\n      <Tooltip\n        title={() =>\n          this.props.tsConfigPath.startsWith(\"/dev/null\")\n            ? \"No tsconfig.json\"\n            : `Click to open ${atom.project.relativize(this.props.tsConfigPath)}`\n        }>\n        <a\n          className=\"inline-block\"\n          href=\"\"\n          on={{\n            click: (evt) => {\n              evt.preventDefault()\n              this.openConfigPath()\n            },\n          }}>\n          {this.props.tsConfigPath.startsWith(\"/dev/null\")\n            ? \"No project\"\n            : dirname(getFilePathRelativeToAtomProject(this.props.tsConfigPath))}\n        </a>\n      </Tooltip>\n    )\n  }\n\n  public async destroy() {\n    await etch.destroy(this)\n  }\n\n  private openConfigPath() {\n    if (!this.props.tsConfigPath.startsWith(\"/dev/null\")) {\n      handlePromise(atom.workspace.open(this.props.tsConfigPath))\n    } else {\n      atom.notifications.addInfo(\"No tsconfig for current file\")\n    }\n  }\n}\n\n/**\n * converts \"c:\\dev\\somethin\\bar.ts\" to \"~something\\bar\".\n */\nfunction getFilePathRelativeToAtomProject(filePath: string) {\n  return \"~\" + atom.project.relativize(filePath)\n}\n","import * as etch from \"etch\"\nimport {handlePromise} from \"../../../../utils\"\nimport {BuildStatus} from \"./buildStatus\"\nimport type {TBuildStatus} from \"./buildStatus\"\nimport {ConfigPath} from \"./configPath\"\nimport {Tooltip} from \"./tooltip\"\nexport {TBuildStatus}\n\nexport interface TProgress {\n  max: number\n  value: number\n}\n\nexport interface Props extends JSX.Props {\n  clientVersion?: string\n  pending: Array<{title: string}>\n  tsConfigPath?: string\n  buildStatus?: TBuildStatus\n  progress: TProgress\n  visible: boolean\n}\n\nexport class StatusPanel implements JSX.ElementClass {\n  public props: Props\n\n  constructor(props: Partial<Props> = {}) {\n    this.props = {\n      visible: true,\n      pending: [],\n      progress: {max: 0, value: 0},\n      ...props,\n    }\n    etch.initialize(this)\n  }\n\n  public async update(props: Partial<Props>) {\n    this.props = {...this.props, ...props}\n    await etch.update(this)\n  }\n\n  public render() {\n    return (\n      <ts-status-panel className={this.props.visible ? \"\" : \"hide\"}>\n        {this.renderVersion()}\n        {this.renderPending()}\n        {this.renderConfigPath()}\n        {this.renderStatus()}\n        {this.renderProgress()}\n      </ts-status-panel>\n    )\n  }\n\n  public async destroy() {\n    await etch.destroy(this)\n  }\n\n  public dispose() {\n    handlePromise(this.destroy())\n  }\n\n  public async show() {\n    await this.update({visible: true})\n  }\n\n  public async hide() {\n    await this.update({visible: false})\n  }\n\n  private renderVersion(): JSX.Element | null {\n    if (this.props.clientVersion !== undefined) {\n      return <Tooltip title=\"Active TypeScript version\">{this.props.clientVersion}</Tooltip>\n    }\n    return null\n  }\n\n  private renderPending(): JSX.Element | null {\n    if (this.props.pending.length > 0) {\n      return (\n        <Tooltip\n          title={`Pending Requests: <ul>${this.props.pending\n            .map(({title}) => `<li>${title}</li>`)\n            .join(\"\")}</ul>`}\n          html={true}>\n          <span ref=\"pendingCounter\">{this.props.pending.length.toString()}</span>\n          <span\n            ref=\"pendingSpinner\"\n            className=\"loading loading-spinner-tiny inline-block\"\n            style={{marginLeft: \"5px\", opacity: \"0.5\", verticalAlign: \"sub\"}}\n          />\n        </Tooltip>\n      )\n    } else return null\n  }\n\n  private renderConfigPath(): JSX.Element | null {\n    if (this.props.tsConfigPath !== undefined) {\n      return <ConfigPath tsConfigPath={this.props.tsConfigPath} />\n    }\n    return null\n  }\n\n  private renderStatus(): JSX.Element | null {\n    if (this.props.buildStatus) {\n      return <BuildStatus buildStatus={this.props.buildStatus} />\n    }\n    return null\n  }\n\n  private renderProgress(): JSX.Element | null {\n    if (this.props.progress.value < this.props.progress.max) {\n      return (\n        <progress\n          style={{verticalAlign: \"baseline\"}}\n          className=\"inline-block\"\n          max={this.props.progress.max}\n          value={this.props.progress.value}\n        />\n      )\n    }\n    return null\n  }\n}\n","import {TextEditor} from \"atom\"\nimport * as etch from \"etch\"\nimport {FileLocationQuery, getFilePathPosition} from \"./utils\"\nimport {HighlightComponent} from \"./views/highlightComponent\"\nimport {selectListView} from \"./views/simpleSelectionView\"\n\nexport interface OpenParams {\n  file: string\n  start: {line: number; offset: number}\n}\n\nexport class EditorPositionHistoryManager {\n  constructor(private prevCursorPositions: FileLocationQuery[] = []) {}\n\n  public async goBack(): Promise<object | undefined> {\n    return this.goHistory(1)\n  }\n\n  public async goHistory(depth: number): Promise<object | undefined> {\n    let position\n    while (depth-- > 0) position = this.prevCursorPositions.pop()\n    if (!position) {\n      atom.notifications.addInfo(\"AtomTS: Previous position not found.\")\n      return\n    }\n    return this.open({\n      file: position.file,\n      start: {line: position.line, offset: position.offset},\n    })\n  }\n\n  public async goForward(currentEditor: TextEditor, item: OpenParams): Promise<object> {\n    const location = getFilePathPosition(currentEditor)\n    if (location) {\n      this.prevCursorPositions.push(location)\n      const maxItems = 100\n      if (this.prevCursorPositions.length > maxItems) {\n        this.prevCursorPositions.splice(0, this.prevCursorPositions.length - maxItems)\n      }\n    }\n    return this.open(item)\n  }\n\n  public async showHistory() {\n    const res = await selectListView({\n      items: this.getHistory()\n        .slice()\n        .reverse()\n        .map((item, idx) => ({...item, idx})),\n      itemTemplate: (item, ctx) => (\n        <li className=\"two-lines\">\n          <div className=\"primary-line\">\n            <HighlightComponent label={item.file} query={ctx.getFilterQuery()} />\n          </div>\n          <div className=\"secondary-line\">\n            Line: {item.line}, column: {item.offset}\n          </div>\n        </li>\n      ),\n      itemFilterKey: \"file\",\n    })\n    if (res) await this.goHistory(res.idx + 1)\n  }\n\n  public getHistory() {\n    return this.prevCursorPositions\n  }\n\n  public dispose() {\n    // NOOP\n  }\n\n  public serialize() {\n    return this.prevCursorPositions\n  }\n\n  private async open(item: OpenParams): Promise<object> {\n    const editor = await atom.workspace.open(item.file, {\n      initialLine: item.start.line - 1,\n      initialColumn: item.start.offset - 1,\n      searchAllPanes: true,\n    })\n    if (atom.workspace.isTextEditor(editor)) {\n      editor.scrollToCursorPosition({center: true})\n    }\n    return editor\n  }\n}\n","import {CompositeDisposable, DisplayMarker, TextEditor} from \"atom\"\nimport {debounce, DebouncedFunc} from \"lodash\"\nimport {DocumentHighlightsItem} from \"typescript/lib/protocol\"\nimport {GetClientFunction} from \"../../../client\"\nimport {handlePromise} from \"../../../utils\"\nimport {isTypescriptEditorWithPath, spanToRange} from \"../utils\"\n\nexport class OccurenceController {\n  private readonly disposables = new CompositeDisposable()\n  private occurrenceMarkers: DisplayMarker[] = []\n  private disposed = false\n\n  constructor(private getClient: GetClientFunction, private editor: TextEditor) {\n    let debouncedUpdate: DebouncedFunc<() => void>\n    let didChangeTimeout: number | undefined\n    let changeDelay: number\n    let shouldHighlight: boolean = false\n    this.disposables.add(\n      atom.config.observe(\"atom-typescript.occurrenceHighlightDebounceTimeout\", (val) => {\n        debouncedUpdate = debounce(() => {\n          handlePromise(this.update())\n        }, val)\n        changeDelay = val * 3.5\n      }),\n      editor.onDidChangeCursorPosition(() => {\n        if (didChangeTimeout === undefined) debouncedUpdate()\n        else shouldHighlight = true\n      }),\n      editor.onDidChangePath(() => debouncedUpdate()),\n      editor.onDidChangeGrammar(() => debouncedUpdate()),\n      editor.onDidChange(() => {\n        if (didChangeTimeout !== undefined) clearTimeout(didChangeTimeout)\n        didChangeTimeout = window.setTimeout(() => {\n          if (shouldHighlight) {\n            debouncedUpdate()\n            shouldHighlight = false\n          }\n          didChangeTimeout = undefined\n        }, changeDelay)\n      }),\n    )\n  }\n\n  public dispose() {\n    if (this.disposed) return\n    this.disposed = true\n    this.disposables.dispose()\n    this.clearMarkers()\n  }\n\n  private clearMarkers() {\n    for (const marker of this.occurrenceMarkers) {\n      marker.destroy()\n    }\n    this.occurrenceMarkers = []\n  }\n\n  private async update() {\n    if (this.disposed) return\n    if (!isTypescriptEditorWithPath(this.editor)) {\n      this.clearMarkers()\n      return\n    }\n    const filePath = this.editor.getPath()\n    if (filePath === undefined) return\n    const client = await this.getClient(filePath)\n    if (this.disposed) return\n\n    const pos = this.editor.getLastCursor().getBufferPosition()\n\n    try {\n      const result = await client.execute(\"documentHighlights\", {\n        file: filePath,\n        line: pos.row + 1,\n        offset: pos.column + 1,\n        filesToSearch: [filePath],\n      })\n      if (this.disposed) return\n\n      const newOccurrenceMarkers = Array.from(this.getNewOccurrenceMarkers(result.body!))\n      for (const m of this.occurrenceMarkers) {\n        if (!newOccurrenceMarkers.includes(m)) m.destroy()\n      }\n      this.occurrenceMarkers = newOccurrenceMarkers\n    } catch (e) {\n      if (window.atom_typescript_debug) console.error(e)\n    }\n  }\n\n  private *getNewOccurrenceMarkers(data: DocumentHighlightsItem[]) {\n    for (const fileInfo of data) {\n      if (fileInfo.file !== this.editor.getPath()) continue\n      for (const span of fileInfo.highlightSpans) {\n        const range = spanToRange(span)\n        const oldMarker = this.occurrenceMarkers.find((m) => m.getBufferRange().isEqual(range))\n        if (oldMarker) yield oldMarker\n        else {\n          const marker = this.editor.markBufferRange(range)\n          this.editor.decorateMarker(marker, {\n            type: \"highlight\",\n            class: \"atom-typescript-occurrence\",\n          })\n          yield marker\n        }\n      }\n    }\n  }\n}\n","import {CompositeDisposable} from \"atom\"\nimport {GetClientFunction} from \"../../../client\"\nimport {OccurenceController} from \"./controller\"\n\nexport class OccurrenceManager {\n  private readonly disposables = new CompositeDisposable()\n\n  constructor(getClient: GetClientFunction) {\n    this.disposables.add(\n      atom.workspace.observeTextEditors((editor) => {\n        const controller = new OccurenceController(getClient, editor)\n        this.disposables.add(\n          controller,\n          editor.onDidDestroy(() => {\n            this.disposables.remove(controller)\n            controller.dispose()\n          }),\n        )\n      }),\n    )\n  }\n\n  public dispose() {\n    this.disposables.dispose()\n  }\n}\n","import {TextEditor} from \"atom\"\n\n// screen position from mouse event -- with <3 from Atom-Haskell\nexport function bufferPositionFromMouseEvent(\n  editor: TextEditor,\n  event: {clientX: number; clientY: number},\n) {\n  const sp = atom.views.getView(editor).getComponent().screenPositionForMouseEvent(event)\n  if (isNaN(sp.row) || isNaN(sp.column)) {\n    return\n  }\n  return editor.bufferPositionForScreenPosition(sp)\n}\n\nexport function adjustElementPosition(\n  element: HTMLElement,\n  parent: HTMLElement,\n  box: {left: number; right: number; top: number; bottom: number},\n  pos: \"top\" | \"bottom\",\n) {\n  const offset = 10\n  let left = box.right\n  let right: number | false = false\n  let top\n\n  let whiteSpace = \"\"\n\n  // need to reset any absolute positioning to get element width and height\n  element.style.left = \"\"\n  element.style.top = \"\"\n  element.style.right = \"\"\n  element.style.bottom = \"\"\n\n  const clientWidth = parent.clientWidth\n  const sty = getComputedStyle(element)\n  const offsetWidth = parseInt(sty.width, 10)\n  const offsetHeight = parseInt(sty.height, 10)\n\n  // X axis adjust\n  if (left + offsetWidth >= clientWidth) {\n    left = clientWidth - offsetWidth - offset\n  }\n  if (left < 0) {\n    whiteSpace = \"pre-wrap\"\n    left = offset\n    right = offset\n  }\n\n  if (pos === \"bottom\") {\n    const clientHeight = parent.clientHeight\n\n    top = box.bottom\n    // Y axis adjust\n    if (top + offsetHeight >= clientHeight) {\n      top = box.top - offsetHeight\n    }\n  } else if (pos === \"top\") {\n    top = box.top - offsetHeight\n\n    // Y axis adjust\n    if (top < 0) {\n      top = box.bottom\n    }\n  }\n  element.style.left = `${left}px`\n  element.style.top = `${top}px`\n  if (right !== false) element.style.right = `${right}px`\n  if (whiteSpace) element.style.whiteSpace = whiteSpace\n}\n","import {TextEditorElement} from \"atom\"\nimport * as etch from \"etch\"\nimport {adjustElementPosition} from \"../tooltips/util\"\nimport {partsToStr} from \"../utils\"\n\ninterface Props extends JSX.Props {\n  left: number\n  right: number\n  top: number\n  bottom: number\n  sigHelp?: protocol.SignatureHelpItems\n  visibleItem?: number\n}\n\nexport class TooltipView implements JSX.ElementClass {\n  public readonly element!: HTMLDivElement\n  public props: Props\n\n  constructor(private parent: TextEditorElement) {\n    this.props = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n    }\n    etch.initialize(this)\n  }\n\n  public async destroy() {\n    return etch.destroy(this)\n  }\n\n  public async update(props: Partial<Props>) {\n    if (\n      props.sigHelp?.selectedItemIndex !== undefined &&\n      props.sigHelp?.selectedItemIndex !== this.props.sigHelp?.selectedItemIndex\n    ) {\n      this.props.visibleItem = undefined\n    }\n    this.props = {...this.props, ...props}\n    if (this.props.sigHelp === undefined) {\n      this.props.visibleItem = undefined\n    } else if (this.props.visibleItem !== undefined) {\n      this.props.visibleItem = this.props.visibleItem % this.props.sigHelp.items.length\n      if (this.props.visibleItem < 0) this.props.visibleItem += this.props.sigHelp.items.length\n    }\n    await etch.update(this)\n  }\n\n  public writeAfterUpdate() {\n    adjustElementPosition(\n      this.element,\n      this.parent,\n      this.props,\n      atom.config.get(\"atom-typescript\").sigHelpPosition,\n    )\n  }\n\n  public render() {\n    return (\n      <div className=\"atom-typescript-tooltip tooltip\" key={this.sigHelpHash()}>\n        <div className=\"tooltip-inner\">{this.tooltipContents()}</div>\n      </div>\n    )\n  }\n\n  private sigHelpHash() {\n    if (!this.props.sigHelp) return undefined\n    const {start, end} = this.props.sigHelp.applicableSpan\n    return `${start.line}:${start.offset}-${end.line}:${end.offset}`\n  }\n\n  private tooltipContents() {\n    if (!this.props.sigHelp) return \"\"\n    const {sigHelp} = this.props\n    const visibleItem =\n      this.props.visibleItem !== undefined ? this.props.visibleItem : sigHelp.selectedItemIndex\n    const count = sigHelp.items.length\n    const classes = [\"atom-typescript-tooltip-signature-help\"]\n    if (count > 1) {\n      classes.push(\"atom-typescript-tooltip-signature-help-changable\")\n    }\n    function className(idx: number) {\n      const newclasses = []\n      if (idx === sigHelp.selectedItemIndex) {\n        newclasses.push(\"atom-typescript-tooltip-signature-help-selected\")\n      }\n      if (idx === visibleItem) {\n        newclasses.push(\"atom-typescript-tooltip-signature-help-visible\")\n      }\n      return [...classes, ...newclasses].join(\" \")\n    }\n    return sigHelp.items.map((sig, idx) => (\n      <div className={className(idx)}>\n        <div>\n          {partsToStr(sig.prefixDisplayParts)}\n          {this.renderSigHelpParams(sig.parameters, sigHelp.argumentIndex)}\n          {partsToStr(sig.suffixDisplayParts)}\n          <div className=\"atom-typescript-tooltip-signature-help-documentation\">\n            {partsToStr(sig.documentation)}\n          </div>\n        </div>\n      </div>\n    ))\n  }\n\n  private renderSigHelpParams(params: protocol.SignatureHelpParameter[], selIdx: number) {\n    return params.map((p, i) => (\n      <span className={`atom-typescript-tooltip-signature-help-parameter`}>\n        {i > 0 ? \", \" : null}\n        <span\n          className={i === selIdx ? \"atom-typescript-tooltip-signature-help-selected\" : undefined}>\n          {partsToStr(p.displayParts)}\n        </span>\n      </span>\n    ))\n  }\n}\n","import * as Atom from \"atom\"\nimport {debounce} from \"lodash\"\nimport {GetClientFunction} from \"../../../client\"\nimport {handlePromise} from \"../../../utils\"\nimport {isTypescriptEditorWithPath} from \"../utils\"\nimport {TooltipView} from \"./tooltipView\"\n\nexport class TooltipController {\n  private cancelled = false\n  private view: TooltipView\n  private disposables = new Atom.CompositeDisposable()\n  constructor(\n    private deps: {\n      getClient: GetClientFunction\n    },\n    private editor: Atom.TextEditor,\n    bufferPt: Atom.Point,\n  ) {\n    const rawView = atom.views.getView(this.editor)\n    this.view = new TooltipView(rawView)\n    rawView.appendChild(this.view.element)\n    const debouncedUpdate = debounce(this.updateTooltip.bind(this), 100, {leading: true})\n    this.disposables.add(\n      this.editor.onDidChangeCursorPosition((evt) => {\n        bufferPt = evt.newBufferPosition\n        handlePromise(debouncedUpdate(bufferPt))\n      }),\n      rawView.onDidChangeScrollTop(() => {\n        setImmediate(() => this.updateTooltipPosition(bufferPt))\n      }),\n      rawView.onDidChangeScrollLeft(() => {\n        setImmediate(() => this.updateTooltipPosition(bufferPt))\n      }),\n    )\n    handlePromise(this.updateTooltip(bufferPt))\n  }\n\n  public isDisposed() {\n    return this.cancelled\n  }\n\n  public dispose() {\n    if (this.cancelled) return\n    this.cancelled = true\n    this.disposables.dispose()\n    handlePromise(this.view.destroy())\n  }\n\n  public async rotateSigHelp(shift: number) {\n    const {visibleItem, sigHelp} = this.view.props\n    const curVisItem =\n      visibleItem !== undefined\n        ? visibleItem\n        : sigHelp?.selectedItemIndex !== undefined\n        ? sigHelp?.selectedItemIndex\n        : 0\n    await this.view.update({visibleItem: curVisItem + shift})\n  }\n\n  private async updateTooltip(bufferPt: Atom.Point) {\n    if (this.cancelled) return\n    let tooltipRect\n    try {\n      tooltipRect = this.computeTooltipPosition(bufferPt)\n    } catch (e) {\n      console.warn(e)\n      return\n    }\n\n    const msg = await this.getMessage(bufferPt)\n    if (this.cancelled) return\n    if (!msg) {\n      this.dispose()\n      return\n    }\n    await this.view.update({...tooltipRect, sigHelp: msg})\n  }\n\n  private updateTooltipPosition(bufferPt: Atom.Point) {\n    if (this.cancelled) return\n    const tooltipRect = this.computeTooltipPosition(bufferPt)\n    handlePromise(this.view.update({...tooltipRect}))\n  }\n\n  private computeTooltipPosition(bufferPt: Atom.Point) {\n    const rawView = atom.views.getView(this.editor)\n    const pixelPos = rawView.pixelPositionForBufferPosition(bufferPt)\n    const lines = rawView.querySelector(\".lines\")!\n    const linesRect = lines.getBoundingClientRect()\n    const lineH = this.editor.getLineHeightInPixels()\n    const parentRect = rawView.getBoundingClientRect()\n    const Y = pixelPos.top + linesRect.top - parentRect.top + lineH / 2\n    const X = pixelPos.left + linesRect.left - parentRect.left\n    const offset = lineH * 0.7\n    return {\n      left: X,\n      right: X,\n      top: Y - offset,\n      bottom: Y + offset,\n    }\n  }\n\n  private async getMessage(bufferPt: Atom.Point) {\n    if (!isTypescriptEditorWithPath(this.editor)) return\n    const filePath = this.editor.getPath()\n    if (filePath === undefined) return\n    const client = await this.deps.getClient(filePath)\n    try {\n      const result = await client.execute(\"signatureHelp\", {\n        file: filePath,\n        line: bufferPt.row + 1,\n        offset: bufferPt.column + 1,\n      })\n      return result.body\n    } catch (e) {\n      return\n    }\n  }\n}\n","// Inspiration : https://atom.io/packages/ide-haskell\n// and https://atom.io/packages/ide-flow\n\nimport * as Atom from \"atom\"\nimport {GetClientFunction} from \"../../../client\"\nimport {handlePromise} from \"../../../utils\"\nimport {TooltipController} from \"./controller\"\n\nexport class SigHelpManager {\n  private subscriptions = new Atom.CompositeDisposable()\n  private editorMap = new WeakMap<Atom.TextEditor, TooltipController>()\n\n  constructor(\n    private deps: {\n      getClient: GetClientFunction\n    },\n  ) {\n    this.subscriptions.add(\n      atom.workspace.observeTextEditors((editor) => {\n        const disp = new Atom.CompositeDisposable()\n        disp.add(\n          editor.onDidDestroy(() => {\n            disp.dispose()\n            this.subscriptions.remove(disp)\n            const controller = this.editorMap.get(editor)\n            if (controller) controller.dispose()\n          }),\n          editor.onDidStopChanging(this.stoppedChanging(editor)),\n        )\n        this.subscriptions.add(disp)\n      }),\n    )\n  }\n\n  public dispose() {\n    this.subscriptions.dispose()\n    for (const editor of atom.workspace.getTextEditors()) {\n      const controller = this.editorMap.get(editor)\n      if (controller) controller.dispose()\n    }\n  }\n\n  public async showTooltipAt(editor: Atom.TextEditor) {\n    const pt = editor.getLastCursor().getBufferPosition()\n    return this.showTooltip(editor, pt)\n  }\n\n  public rotateSigHelp(editor: Atom.TextEditor, shift: number) {\n    const controller = this.editorMap.get(editor)\n    if (controller && !controller.isDisposed()) {\n      handlePromise(controller.rotateSigHelp(shift))\n      return true\n    } else {\n      return false\n    }\n  }\n\n  public hideTooltipAt(editor: Atom.TextEditor): boolean {\n    const controller = this.editorMap.get(editor)\n    if (controller && !controller.isDisposed()) {\n      controller.dispose()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  private async showTooltip(editor: Atom.TextEditor, pos: Atom.Point) {\n    const controller = this.editorMap.get(editor)\n    if (!controller || controller.isDisposed()) {\n      this.editorMap.set(editor, new TooltipController(this.deps, editor, pos))\n    }\n  }\n\n  private stoppedChanging = (editor: Atom.TextEditor) => (\n    event: Atom.BufferStoppedChangingEvent,\n  ) => {\n    if (!atom.config.get(\"atom-typescript.sigHelpDisplayOnChange\")) return\n    const filePath = editor.getPath()\n    if (filePath === undefined) return\n    const pos = editor.getLastCursor().getBufferPosition()\n    const [ch] = event.changes.filter((x) => x.newRange.containsPoint(pos)) as Array<\n      Atom.TextChange | undefined\n    >\n    if (ch && ch.newText.match(/[<(,]/) !== null) {\n      handlePromise(this.showTooltip(editor, pos))\n    }\n  }\n}\n","import {Disposable} from \"atom\"\n\nexport function listen<T extends keyof HTMLElementEventMap>(\n  element: HTMLElement,\n  event: T,\n  selector: string,\n  callback: (event: HTMLElementEventMap[T]) => void,\n): Disposable {\n  const bound = (evt: HTMLElementEventMap[T]) => {\n    const sel = (evt.target as HTMLElement).closest(selector)\n    if (sel && element.contains(sel)) {\n      callback(evt)\n    }\n  }\n  element.addEventListener(event, bound)\n  return new Disposable(() => {\n    element.removeEventListener(event, bound)\n  })\n}\n","import * as etch from \"etch\"\nimport {renderTooltip} from \"./tooltipRenderer\"\nimport {adjustElementPosition} from \"./util\"\n\ninterface Props extends JSX.Props {\n  left: number\n  right: number\n  top: number\n  bottom: number\n  info?: protocol.QuickInfoResponseBody\n}\n\nexport class TooltipView implements JSX.ElementClass {\n  public readonly element!: HTMLDivElement\n  public props: Props\n  public tooltip: JSX.Element[] | null = null\n\n  constructor() {\n    this.props = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n    }\n    etch.initialize(this)\n  }\n\n  public async destroy() {\n    return etch.destroy(this)\n  }\n\n  public async update(props: Partial<Props>) {\n    this.props = {...this.props, ...props}\n    this.tooltip = await renderTooltip(this.props.info, etch, (x) => (\n      <div className=\"atom-typescript-tooltip-tooltip-code\">{x}</div>\n    ))\n    await etch.update(this)\n  }\n\n  public writeAfterUpdate() {\n    adjustElementPosition(\n      this.element,\n      document.body,\n      this.props,\n      atom.config.get(\"atom-typescript\").tooltipPosition,\n    )\n  }\n\n  public render() {\n    return (\n      <div className=\"atom-typescript-tooltip tooltip\">\n        <div className=\"tooltip-inner\">{this.tooltip}</div>\n      </div>\n    )\n  }\n}\n","import * as Atom from \"atom\"\nimport {TSClient} from \"../../../client\"\nimport {handlePromise} from \"../../../utils\"\nimport {TooltipView} from \"./tooltipView\"\n\ninterface Rect {\n  left: number\n  right: number\n  top: number\n  bottom: number\n}\n\nexport class TooltipController {\n  private cancelled = false\n  private view?: TooltipView\n  constructor(\n    private getClient: (ed: Atom.TextEditor) => Promise<TSClient | undefined>,\n    editor: Atom.TextEditor,\n    e: {clientX: number; clientY: number},\n    bufferPt: Atom.Point,\n  ) {\n    handlePromise(this.initialize(editor, e, bufferPt))\n  }\n\n  public dispose() {\n    this.cancelled = true\n    if (this.view) {\n      handlePromise(this.view.destroy())\n      this.view = undefined\n    }\n  }\n\n  private async initialize(\n    editor: Atom.TextEditor,\n    e: {clientX: number; clientY: number},\n    bufferPt: Atom.Point,\n  ) {\n    const rawView = atom.views.getView(editor)\n    // tslint:disable-next-line: one-variable-per-declaration\n    let curCharPixelPt, nextCharPixelPt\n    try {\n      curCharPixelPt = rawView.pixelPositionForBufferPosition(bufferPt)\n      nextCharPixelPt = rawView.pixelPositionForBufferPosition(bufferPt.traverse([0, 1]))\n    } catch (e) {\n      console.warn(e)\n      return\n    }\n\n    if (curCharPixelPt.left >= nextCharPixelPt.left) return\n    // find out show position\n    const offset = editor.getLineHeightInPixels() * 0.7\n    const tooltipRect = {\n      left: e.clientX,\n      right: e.clientX,\n      top: e.clientY - offset,\n      bottom: e.clientY + offset,\n    }\n\n    const msg = await this.getMessage(editor, bufferPt)\n    if (this.cancelled) return\n    if (msg !== undefined) await this.showTooltip(tooltipRect, msg)\n  }\n\n  private async getMessage(editor: Atom.TextEditor, bufferPt: Atom.Point) {\n    let result: protocol.QuickInfoResponse\n    const client = await this.getClient(editor)\n    if (!client) return\n    const filePath = editor.getPath()\n    try {\n      if (filePath === undefined) {\n        return\n      }\n      result = await client.execute(\"quickinfo\", {\n        file: filePath,\n        line: bufferPt.row + 1,\n        offset: bufferPt.column + 1,\n      })\n    } catch (e) {\n      return\n    }\n\n    return result.body\n  }\n\n  private async showTooltip(tooltipRect: Rect, info: protocol.QuickInfoResponseBody) {\n    this.view = new TooltipView()\n    document.body.appendChild(this.view.element)\n    await this.view.update({...tooltipRect, info})\n  }\n}\n","// Inspiration : https://atom.io/packages/ide-haskell\n// and https://atom.io/packages/ide-flow\n\nimport * as Atom from \"atom\"\nimport fs from \"fs\"\nimport {GetClientFunction} from \"../../../client\"\nimport * as atomUtils from \"../utils\"\nimport {listen} from \"../utils/element-listener\"\nimport {TooltipController} from \"./controller\"\nimport {bufferPositionFromMouseEvent} from \"./util\"\n\ninterface EditorInfo {\n  rawView: Atom.TextEditorElement\n  lines: Element\n}\n\nexport class TooltipManager {\n  private subscriptions = new Atom.CompositeDisposable()\n  private pendingTooltip?: TooltipController\n  private editorMap = new WeakMap<Atom.TextEditor, EditorInfo>()\n  private exprTypeTimeout: number | undefined\n\n  constructor(private getClientInternal: GetClientFunction) {\n    this.subscriptions.add(\n      atom.workspace.observeTextEditors((editor) => {\n        const rawView = atom.views.getView(editor)\n        const lines = rawView.querySelector(\".lines\")!\n        this.editorMap.set(editor, {\n          rawView,\n          lines,\n        })\n        const disp = new Atom.CompositeDisposable()\n        disp.add(\n          listen(rawView, \"mousemove\", \".scroll-view\", this.trackMouseMovement(editor)),\n          listen(rawView, \"mouseout\", \".scroll-view\", this.clearExprTypeTimeout),\n          listen(rawView, \"keydown\", \".scroll-view\", this.clearExprTypeTimeout),\n          rawView.onDidChangeScrollTop(this.clearExprTypeTimeout),\n          rawView.onDidChangeScrollLeft(this.clearExprTypeTimeout),\n          editor.onDidDestroy(() => {\n            disp.dispose()\n            this.subscriptions.remove(disp)\n            this.clearExprTypeTimeout()\n          }),\n        )\n        this.subscriptions.add(disp)\n      }),\n    )\n  }\n\n  public dispose() {\n    this.subscriptions.dispose()\n    this.clearExprTypeTimeout()\n  }\n\n  public showExpressionAt(editor: Atom.TextEditor) {\n    const pt = editor.getLastCursor().getBufferPosition()\n    const view = atom.views.getView(editor)\n    let px\n    try {\n      px = view.pixelPositionForBufferPosition(pt)\n    } catch (e) {\n      console.warn(e)\n      return\n    }\n    this.showExpressionType(editor, this.mousePositionForPixelPosition(editor, px), pt)\n  }\n\n  private getClient = async (editor: Atom.TextEditor) => {\n    // Only on \".ts\" files\n    const filePath = editor.getPath()\n    if (filePath === undefined) return\n    if (!atomUtils.isTypescriptEditorWithPath(editor)) return\n    // We only create a \"program\" once the file is persisted to disk\n    if (!fs.existsSync(filePath)) return\n\n    return this.getClientInternal(filePath)\n  }\n\n  private mousePositionForPixelPosition(editor: Atom.TextEditor, p: Atom.PixelPosition) {\n    const rawView = atom.views.getView(editor)\n    const lines = rawView.querySelector(\".lines\")!\n    const linesRect = lines.getBoundingClientRect()\n    return {\n      clientY: p.top + linesRect.top + editor.getLineHeightInPixels() / 2,\n      clientX: p.left + linesRect.left,\n    }\n  }\n\n  private showExpressionType(\n    editor: Atom.TextEditor,\n    e: {clientX: number; clientY: number},\n    bufferPt: Atom.Point,\n  ) {\n    if (this.pendingTooltip) this.pendingTooltip.dispose()\n    this.pendingTooltip = new TooltipController(this.getClient, editor, e, bufferPt)\n  }\n\n  /** clears the timeout && the tooltip */\n  private clearExprTypeTimeout = () => {\n    if (this.exprTypeTimeout !== undefined) {\n      clearTimeout(this.exprTypeTimeout)\n      this.exprTypeTimeout = undefined\n    }\n    this.hideExpressionType()\n  }\n\n  private hideExpressionType() {\n    if (!this.pendingTooltip) return\n    this.pendingTooltip.dispose()\n    this.pendingTooltip = undefined\n  }\n\n  private trackMouseMovement = (editor: Atom.TextEditor) => {\n    let lastExprTypeBufferPt: Atom.Point | undefined\n    return (e: MouseEvent) => {\n      const bufferPt = bufferPositionFromMouseEvent(editor, e)\n      if (!bufferPt) return\n      if (lastExprTypeBufferPt && lastExprTypeBufferPt.isEqual(bufferPt) && this.pendingTooltip) {\n        return\n      }\n\n      lastExprTypeBufferPt = bufferPt\n\n      this.clearExprTypeTimeout()\n      this.exprTypeTimeout = window.setTimeout(\n        () => this.showExpressionType(editor, e, bufferPt),\n        atom.config.get(\"atom-typescript\").tooltipDelay,\n      )\n    }\n  }\n}\n","import {CompositeDisposable} from \"atom\"\nimport {Disposable} from \"atom\"\nimport {GetClientFunction} from \"../../../../client\"\nimport {handlePromise} from \"../../../../utils\"\nimport {SemanticView, SEMANTIC_VIEW_URI} from \"./semanticView\"\n\nexport class SemanticViewController {\n  private view?: SemanticView\n  private subscriptions: CompositeDisposable\n\n  constructor(private getClient: GetClientFunction) {\n    this.subscriptions = new CompositeDisposable()\n\n    const pane = atom.workspace.paneForURI(SEMANTIC_VIEW_URI)\n    if (pane) this.view = pane.itemForURI(SEMANTIC_VIEW_URI) as SemanticView | undefined\n    if (this.view) handlePromise(this.view.setGetClient(this.getClient))\n\n    this.subscriptions.add(\n      new Disposable(() => {\n        if (this.view) {\n          atom.workspace.hide(this.view)\n          handlePromise(this.view.destroy())\n        }\n      }),\n      atom.config.observe(\"atom-typescript.showSemanticView\", (val) => {\n        if (val) handlePromise(this.show())\n        else this.hide()\n      }),\n    )\n  }\n\n  public dispose() {\n    this.subscriptions.dispose()\n  }\n\n  public async toggle(): Promise<void> {\n    if (!this.view) await this.show()\n    else await atom.workspace.toggle(this.view)\n  }\n\n  private async show(): Promise<void> {\n    if (!this.view) {\n      this.view = SemanticView.create({navTree: null})\n      await this.view.setGetClient(this.getClient)\n    }\n\n    await atom.workspace.open(this.view, {searchAllPanes: true})\n  }\n\n  private hide(): boolean {\n    if (!this.view) return false\n    else return atom.workspace.hide(this.view)\n  }\n}\n","import {NavigationTree, NavtoItem} from \"typescript/lib/protocol\"\n\nexport class Tag {\n  public static fromNavTree(navTree: NavigationTree, parent?: Tag | null) {\n    const start = navTree.spans[0].start\n    return new Tag({\n      name: navTree.text,\n      type: navTree.kind,\n      position: {row: start.line - 1, column: start.offset - 1},\n      parent: parent != null ? parent : null,\n    })\n  }\n\n  public static fromNavto(navTo: NavtoItem, parent?: Tag | null) {\n    const start = navTo.start\n    return new Tag({\n      name: navTo.name,\n      type: navTo.kind,\n      position: {row: start.line - 1, column: start.offset - 1},\n      parent: parent != null ? parent : null,\n      file: navTo.file,\n    })\n  }\n\n  public position: {row: number; column: number}\n  public name: string\n  public type: string\n  public parent: Tag | null\n  public file?: string\n\n  private constructor(props: {\n    position: {row: number; column: number}\n    name: string\n    type: string\n    parent: Tag | null\n    file?: string\n  }) {\n    this.position = props.position\n    this.name = props.name\n    this.type = props.type\n    this.parent = props.parent\n    this.file = props.file\n  }\n}\n","import {NavigationTree, NavtoItem} from \"typescript/lib/protocol\"\nimport {Deps} from \"./deps\"\nimport {Tag} from \"./symbolsTag\"\n\nexport async function generateFile(filePath: string, deps: Deps) {\n  const navtree = await getNavTree(filePath, deps)\n  if (navtree && navtree.childItems) {\n    // NOTE omit root NavigationTree tree element (which corresponds to the file itself)\n    return Array.from(parseNavTree(navtree.childItems))\n  } else return []\n}\n\nexport async function generateProject(filePath: string, search: string, deps: Deps) {\n  const navtree = await getNavTo(filePath, search, deps)\n  if (navtree) {\n    return Array.from(parseNavTo(navtree))\n  } else return []\n}\n\nfunction* parseNavTree(navTree: NavigationTree[], parent?: Tag): IterableIterator<Tag> {\n  navTree.sort((a, b) => a.spans[0].start.line - b.spans[0].start.line)\n  for (const item of navTree) {\n    const tag = Tag.fromNavTree(item, parent)\n    yield tag\n    if (item.childItems) yield* parseNavTree(item.childItems, tag)\n  }\n}\n\nfunction* parseNavTo(navTree: NavtoItem[], parent?: Tag) {\n  for (const item of navTree) {\n    yield Tag.fromNavto(item, parent)\n  }\n}\n\nasync function getNavTree(filePath: string, deps: Deps) {\n  try {\n    const client = await deps.getClient(filePath)\n    const navtreeResult = await client.execute(\"navtree\", {file: filePath})\n    return navtreeResult.body\n  } catch (e) {\n    console.error(filePath, e)\n  }\n}\n\nasync function getNavTo(filePath: string, search: string, deps: Deps) {\n  try {\n    const client = await deps.getClient(filePath)\n    const navtoResult = await client.execute(\"navto\", {\n      file: filePath,\n      currentFileOnly: false,\n      searchValue: search,\n      maxResultCount: 1000,\n    })\n    return navtoResult.body\n  } catch (e) {\n    console.error(filePath, e)\n  }\n}\n","import {TextEditor} from \"atom\"\nimport {EditorPositionHistoryManager} from \"../../editorPositionHistoryManager\"\nimport {Tag} from \"./symbolsTag\"\n\nexport async function openTag(\n  tag: Tag,\n  editor: TextEditor,\n  histGoForward: EditorPositionHistoryManager[\"goForward\"],\n) {\n  if (tag.file !== undefined) {\n    return histGoForward(editor, {\n      file: tag.file,\n      start: {\n        line: tag.position.row + 1,\n        offset: tag.position.column + 1,\n      },\n    })\n  }\n}\n\nexport function serializeEditorState(editor: TextEditor) {\n  const editorElement = atom.views.getView(editor)\n  const scrollTop = editorElement.getScrollTop()\n\n  return {\n    bufferRanges: editor.getSelectedBufferRanges(),\n    scrollTop,\n  }\n}\n\nexport function deserializeEditorState(\n  editor: TextEditor,\n  {bufferRanges, scrollTop}: ReturnType<typeof serializeEditorState>,\n) {\n  const editorElement = atom.views.getView(editor)\n  editor.setSelectedBufferRanges(bufferRanges)\n  editorElement.setScrollTop(scrollTop)\n}\n","import {TextEditor} from \"atom\"\nimport * as etch from \"etch\"\nimport {HighlightComponent} from \"../highlightComponent\"\nimport {selectListView} from \"../simpleSelectionView\"\nimport {Deps} from \"./deps\"\nimport {generateFile} from \"./generator\"\nimport {Tag} from \"./symbolsTag\"\nimport * as utils from \"./utils\"\n\nexport async function toggle(editor: TextEditor, deps: Deps) {\n  const filePath = editor.getPath()\n  if (filePath !== undefined) {\n    // NOTE uses the \"parent\" package's setting (i.e. from symbols-view):\n    let initialState\n    if (atom.config.get(\"symbols-view.quickJumpToFileSymbol\")) {\n      initialState = utils.serializeEditorState(editor)\n    }\n    const tag = await selectListView({\n      items: generateFile(filePath, deps),\n      itemTemplate: ({name, position}, ctx) => (\n        <li className=\"two-lines\">\n          <div className=\"primary-line\">\n            <HighlightComponent label={name} query={ctx.getFilterQuery()} />\n          </div>\n          <div className=\"secondary-line\">{`Line ${position.row + 1}`}</div>\n        </li>\n      ),\n      didChangeSelection(item?: Tag) {\n        // NOTE uses the \"parent\" package's setting (i.e. from symbols-view):\n        if (atom.config.get(\"symbols-view.quickJumpToFileSymbol\") && item) {\n          editor.setCursorBufferPosition(item.position)\n        }\n      },\n      itemFilterKey: \"name\",\n    })\n    if (tag) await utils.openTag(tag, editor, deps.histGoForward)\n    else if (initialState) utils.deserializeEditorState(editor, initialState)\n  }\n}\n","import {TextEditor} from \"atom\"\nimport {handlePromise} from \"../../../../utils\"\nimport {Deps} from \"./deps\"\nimport {toggle as toggleFileView} from \"./fileSymbolsView\"\nimport {toggle as toggleProjectView} from \"./projectSymbolsView\"\n\nexport class SymbolsViewController {\n  constructor(private deps: Deps) {}\n\n  public toggleFileView(editor: TextEditor) {\n    handlePromise(toggleFileView(editor, this.deps))\n  }\n\n  public toggleProjectView(editor: TextEditor) {\n    handlePromise(toggleProjectView(editor, this.deps))\n  }\n\n  public dispose() {\n    // TODO: proper disposal\n  }\n}\n","import {TextEditor} from \"atom\"\nimport * as etch from \"etch\"\nimport {HighlightComponent} from \"../highlightComponent\"\nimport {selectListView} from \"../simpleSelectionView\"\nimport {Deps} from \"./deps\"\nimport {generateProject} from \"./generator\"\nimport * as utils from \"./utils\"\n\nexport async function toggle(editor: TextEditor, deps: Deps) {\n  const filePath = editor.getPath()\n  if (filePath !== undefined) {\n    const tag = await selectListView({\n      items: (search: string) => generateProject(filePath, search, deps),\n      itemTemplate({name, position, file}, ctx) {\n        const relfile = atom.project.relativize(file!)\n        return (\n          <li className=\"two-lines\">\n            <div className=\"primary-line\">\n              <HighlightComponent label={name} query={ctx.getFilterQuery()} />\n            </div>\n            <div className=\"secondary-line\">{`File ${relfile} line ${position.row + 1}`}</div>\n          </li>\n        )\n      },\n      itemFilterKey: \"name\",\n    })\n    if (tag) await utils.openTag(tag, editor, deps.histGoForward)\n  }\n}\n","import {ConfigValues, Point, Range} from \"atom\"\nimport {IndieDelegate, Message} from \"atom/linter\"\nimport {debounce} from \"lodash\"\nimport * as path from \"path\"\nimport {Diagnostic} from \"typescript/lib/protocol\"\nimport {DiagnosticTypes} from \"../client/clientResolver\"\nimport {\n  checkDiagnosticCategory,\n  DiagnosticCategory,\n  locationsToRange,\n  spanToRange,\n} from \"./atom/utils\"\n\n/** Class that collects errors from all of the clients and pushes them to the Linter service */\nexport class ErrorPusher {\n  private linter?: IndieDelegate\n  private errors = new Map<DiagnosticTypes, Map<string, Diagnostic[]>>()\n  private fileGrammars = new Map<string, string>()\n\n  constructor() {\n    this.pushErrors = debounce(this.pushErrors.bind(this), 100)\n  }\n\n  public *getErrorsInRange(filePath: string, range: Range): IterableIterator<Diagnostic> {\n    for (const prefixed of this.errors.values()) {\n      const errors = prefixed.get(path.normalize(filePath))\n      if (errors) yield* errors.filter((err) => spanToRange(err).intersectsWith(range))\n    }\n  }\n\n  /** Return any errors that cover the given location */\n  public *getErrorsAt(filePath: string, loc: Point): IterableIterator<Diagnostic> {\n    for (const prefixed of this.errors.values()) {\n      const errors = prefixed.get(path.normalize(filePath))\n      if (errors) yield* errors.filter((err) => spanToRange(err).containsPoint(loc))\n    }\n  }\n\n  /** Set errors. Previous errors with the same prefix and filePath are going to be replaced */\n  public setErrors(prefix: DiagnosticTypes, filePath: string, errors: Diagnostic[]) {\n    let prefixed = this.errors.get(prefix)\n    if (!prefixed) {\n      prefixed = new Map()\n      this.errors.set(prefix, prefixed)\n    }\n\n    prefixed.set(path.normalize(filePath), errors)\n\n    this.pushErrors()\n  }\n\n  public clearFileErrors(filePath: string) {\n    for (const map of this.errors.values()) {\n      map.delete(filePath)\n    }\n    this.pushErrors()\n  }\n\n  public clear() {\n    if (!this.linter) return\n    this.linter.clearMessages()\n  }\n\n  public setLinter(linter: IndieDelegate) {\n    this.linter = linter\n    this.pushErrors()\n  }\n\n  public dispose() {\n    this.clear()\n    if (this.linter) this.linter.dispose()\n    this.linter = undefined\n  }\n\n  private pushErrors() {\n    if (this.linter) this.linter.setAllMessages(this.getLinterErrors())\n  }\n\n  private getLinterErrors(): Message[] {\n    if (atom.config.get(\"atom-typescript.suppressAllDiagnostics\")) return []\n    const result: Message[] = []\n    for (const fileErrors of this.errors.values()) {\n      for (const [filePath, diagnostics] of fileErrors) {\n        const ed = atom.workspace.getTextEditors().find((x) => x.getPath() === filePath)\n        const scopeName = ed ? ed.getGrammar().scopeName : this.selectGrammar(filePath)\n        if (config(\"suppressAllDiagnostics\", scopeName)) continue\n        for (const diagnostic of diagnostics) {\n          if (config(\"ignoredDiagnosticCodes\", scopeName).includes(`${diagnostic.code}`)) continue\n          if (\n            config(\"ignoreUnusedSuggestionDiagnostics\", scopeName) &&\n            diagnostic.reportsUnnecessary\n          ) {\n            continue\n          }\n          if (\n            diagnostic.category === \"suggestion\" &&\n            config(\"ignoredSuggestionDiagnostics\", scopeName).includes(`${diagnostic.code}`)\n          ) {\n            continue\n          }\n          if (\n            config(\"ignoreNonSuggestionSuggestionDiagnostics\", scopeName) &&\n            diagnostic.category === \"suggestion\" &&\n            !checkDiagnosticCategory(diagnostic.code, DiagnosticCategory.Suggestion)\n          ) {\n            continue\n          }\n          // Add a bit of extra validation that we have the necessary locations since linter v2\n          // does not allow range-less messages anymore. This happens with configFileDiagnostics.\n          let {start, end} = diagnostic as Partial<Diagnostic>\n          if (!start || !end) {\n            start = end = {line: 1, offset: 1}\n          }\n\n          result.push({\n            severity: this.getSeverity(config(\"unusedAsInfo\", scopeName), diagnostic),\n            excerpt: diagnostic.text,\n            location: {\n              file: filePath,\n              position: locationsToRange(start, end),\n            },\n          })\n        }\n      }\n    }\n\n    return result\n  }\n\n  private selectGrammar(filePath: string): string {\n    const knownGramamr = this.fileGrammars.get(filePath)\n    if (knownGramamr !== undefined) return knownGramamr\n    const selectedGrammar = atom.grammars.selectGrammar(filePath, \"\").scopeName\n    this.fileGrammars.set(filePath, selectedGrammar)\n    return selectedGrammar\n  }\n\n  private getSeverity(unusedAsInfo: boolean, diagnostic: Diagnostic) {\n    if (unusedAsInfo && diagnostic.code === 6133) return \"info\"\n    switch (diagnostic.category) {\n      case \"error\":\n        return \"error\"\n      case \"warning\":\n        return \"warning\"\n      default:\n        return \"info\"\n    }\n  }\n}\n\nfunction config<T extends keyof ConfigValues[\"atom-typescript\"]>(\n  option: T,\n  scope: string,\n): ConfigValues[\"atom-typescript\"][typeof option] {\n  return atom.config.get(`atom-typescript.${option}`, {scope: [scope]}) as any\n}\n","import * as Atom from \"atom\"\nimport {debounce, DebouncedFunc, flatten} from \"lodash\"\nimport {GetClientFunction, TSClient} from \"../client\"\nimport {handlePromise} from \"../utils\"\nimport {TBuildStatus} from \"./atom/components/statusPanel\"\nimport {getOpenEditorsPaths, getProjectConfig, isTypescriptFile} from \"./atom/utils\"\n\nexport interface Deps {\n  getClient: GetClientFunction\n  clearFileErrors: (filePath: string) => void\n  reportBuildStatus: (status: TBuildStatus | undefined) => void\n}\n\nexport class TypescriptBuffer {\n  public static create(buffer: Atom.TextBuffer, deps: Deps) {\n    const b = TypescriptBuffer.bufferMap.get(buffer)\n    if (b) return b\n    else {\n      const nb = new TypescriptBuffer(buffer, deps)\n      TypescriptBuffer.bufferMap.set(buffer, nb)\n      return nb\n    }\n  }\n  private static bufferMap = new WeakMap<Atom.TextBuffer, TypescriptBuffer>()\n\n  private events = new Atom.Emitter<{opened: void}>()\n\n  private state?: {\n    client: TSClient\n    filePath: string\n    // Path to the project's tsconfig.json\n    configFile: Atom.File | undefined\n    subscriptions: Atom.CompositeDisposable\n  }\n  private compileOnSave: boolean = false\n\n  private subscriptions = new Atom.CompositeDisposable()\n  private openPromise: Promise<void>\n\n  // tslint:disable-next-line:member-ordering\n  public on = this.events.on.bind(this.events)\n\n  private constructor(public buffer: Atom.TextBuffer, private deps: Deps) {\n    let debouncedGetErr: DebouncedFunc<() => void>\n    this.subscriptions.add(\n      atom.config.observe(\"atom-typescript.getErrDebounceTimeout\", (val) => {\n        debouncedGetErr = debounce(() => {\n          handlePromise(this.getErr({allFiles: false, delay: 0}))\n        }, val)\n      }),\n      buffer.onDidChangePath(this.onDidChangePath),\n      buffer.onDidDestroy(this.dispose),\n      buffer.onDidSave(() => {\n        handlePromise(this.onDidSave())\n      }),\n      buffer.onDidStopChanging(({changes}) => {\n        if (changes.length > 0) this.deps.reportBuildStatus(undefined)\n      }),\n      buffer.onDidChangeText((arg) => {\n        // NOTE: we don't need to worry about interleaving here,\n        // because onDidChangeText pushes all changes at once\n        handlePromise(this.onDidChangeText(arg))\n        debouncedGetErr()\n      }),\n    )\n\n    this.openPromise = this.open(this.buffer.getPath())\n  }\n\n  public getPath() {\n    return this.state && this.state.filePath\n  }\n\n  public getInfo() {\n    if (!this.state) return\n    return {\n      clientVersion: this.state.client.version,\n      tsConfigPath: this.state.configFile && this.state.configFile.getPath(),\n    }\n  }\n\n  private async getErr(opts: {allFiles: boolean; delay: number}) {\n    if (!this.state) return\n    const files = opts.allFiles ? Array.from(getOpenEditorsPaths()) : [this.state.filePath]\n    await this.state.client.execute(\"geterr\", {\n      files,\n      delay: opts.delay,\n    })\n  }\n\n  /** Throws! */\n  private async compile() {\n    if (!this.state) return\n    const {client, filePath} = this.state\n    const result = await client.execute(\"compileOnSaveAffectedFileList\", {\n      file: filePath,\n    })\n    const fileNames = flatten(result.body.map((project) => project.fileNames))\n\n    if (fileNames.length === 0) return\n\n    const promises = fileNames.map((file) => client.execute(\"compileOnSaveEmitFile\", {file}))\n    const saved = await Promise.all(promises)\n\n    if (!saved.every((res) => !!res.body)) {\n      throw new Error(\"Some files failed to emit\")\n    }\n  }\n\n  private async doCompileOnSave() {\n    if (!this.compileOnSave) return\n    this.deps.reportBuildStatus(undefined)\n    try {\n      await this.compile()\n      this.deps.reportBuildStatus({success: true})\n    } catch (error) {\n      const e = error as Error\n      console.error(\"Save failed with error\", e)\n      this.deps.reportBuildStatus({success: false, message: e.message})\n    }\n  }\n\n  private async open(filePath: string | undefined) {\n    if (filePath !== undefined && isTypescriptFile(filePath)) {\n      const client = await this.deps.getClient(filePath)\n\n      this.state = {\n        client,\n        filePath,\n        configFile: undefined,\n        subscriptions: new Atom.CompositeDisposable(),\n      }\n\n      this.state.subscriptions.add(client.on(\"restarted\", () => handlePromise(this.init())))\n\n      await this.init()\n\n      const result = await client.execute(\"projectInfo\", {\n        needFileNameList: false,\n        file: filePath,\n      })\n\n      // TODO: wrong type here, complain on TS repo\n      if ((result.body!.configFileName as string | undefined) !== undefined) {\n        this.state.configFile = new Atom.File(result.body!.configFileName)\n        await this.readConfigFile()\n        this.state.subscriptions.add(\n          this.state.configFile.onDidChange(() => handlePromise(this.readConfigFile())),\n        )\n      }\n\n      this.events.emit(\"opened\")\n    } else {\n      return this.close()\n    }\n  }\n\n  private dispose = () => {\n    this.subscriptions.dispose()\n    handlePromise(this.close())\n  }\n\n  private async readConfigFile() {\n    if (!this.state || !this.state.configFile) return\n    const options = getProjectConfig(this.state.configFile.getPath())\n    this.compileOnSave = options.compileOnSave\n    const cfg = atom.config.get(\"atom-typescript\")\n    await this.state.client.execute(\"configure\", {\n      file: this.state.filePath,\n      formatOptions: options.formatCodeOptions,\n      preferences: {\n        includeCompletionsWithInsertText: true,\n        includeCompletionsForModuleExports: cfg.includeCompletionsForModuleExports,\n        quotePreference: cfg.quotePreference,\n        importModuleSpecifierEnding: cfg.importModuleSpecifierEnding,\n        importModuleSpecifierPreference: cfg.importModuleSpecifierPreference,\n        ...options.preferences,\n      },\n    })\n  }\n\n  private init = async () => {\n    if (!this.state) return\n    await this.state.client.execute(\"open\", {\n      file: this.state.filePath,\n      fileContent: this.buffer.getText(),\n    })\n\n    handlePromise(this.getErr({allFiles: false, delay: 0}))\n  }\n\n  private close = async () => {\n    await this.openPromise\n    if (this.state) {\n      const client = this.state.client\n      const file = this.state.filePath\n      this.deps.clearFileErrors(file)\n      this.state.subscriptions.dispose()\n      this.state = undefined\n      await client.execute(\"close\", {file})\n    }\n  }\n\n  private onDidChangePath = (newPath: string) => {\n    handlePromise(\n      this.close().then(() => {\n        this.openPromise = this.open(newPath)\n      }),\n    )\n  }\n\n  private onDidSave = async () => {\n    await Promise.all([this.getErr({allFiles: true, delay: 100}), this.doCompileOnSave()])\n  }\n\n  private onDidChangeText = async ({changes}: {changes: ReadonlyArray<Atom.TextChange>}) => {\n    // If there are no actual changes, or the file isn't open, we have nothing to do\n    if (changes.length === 0 || !this.state) return\n\n    const {client, filePath} = this.state\n\n    // NOTE: this might look somewhat weird until we realize that\n    // awaiting on each \"change\" command may lead to arbitrary\n    // interleaving, while pushing them all at once guarantees\n    // that all subsequent \"change\" commands will be sequenced after\n    // the ones we pushed\n    await Promise.all(\n      changes.reduceRight<Array<Promise<void>>>((acc, {oldRange, newText}) => {\n        acc.push(\n          client.execute(\"change\", {\n            file: filePath,\n            line: oldRange.start.row + 1,\n            offset: oldRange.start.column + 1,\n            endLine: oldRange.end.row + 1,\n            endOffset: oldRange.end.column + 1,\n            insertString: newText,\n          }),\n        )\n        return acc\n      }, []),\n    )\n  }\n}\n","import * as Atom from \"atom\"\nimport {CompositeDisposable} from \"atom\"\nimport {GetClientFunction} from \"../client\"\nimport {TBuildStatus} from \"./atom/components/statusPanel\"\nimport {isTypescriptEditorWithPath} from \"./atom/utils\"\nimport {TypescriptBuffer} from \"./typescriptBuffer\"\n\ninterface PaneOptions {\n  getClient: GetClientFunction\n  reportClientInfo: (info: {clientVersion: string; tsConfigPath: string | undefined}) => void\n  reportBuildStatus: (status: TBuildStatus | undefined) => void\n  clearFileErrors: (filePath: string) => void\n}\n\nexport class TypescriptEditorPane {\n  private static editorMap = new WeakMap<Atom.TextEditor, TypescriptEditorPane>()\n  // tslint:disable-next-line:member-ordering\n  public static createFactory(\n    opts: PaneOptions,\n  ): (editor: Atom.TextEditor) => TypescriptEditorPane {\n    return (editor: Atom.TextEditor) => {\n      let tep = TypescriptEditorPane.editorMap.get(editor)\n      if (!tep) {\n        tep = new TypescriptEditorPane(editor, opts)\n        TypescriptEditorPane.editorMap.set(editor, tep)\n      }\n      return tep\n    }\n  }\n  // tslint:disable-next-line:member-ordering\n  public static lookupPane(editor: Atom.TextEditor): TypescriptEditorPane | undefined {\n    return TypescriptEditorPane.editorMap.get(editor)\n  }\n\n  private readonly buffer: TypescriptBuffer\n\n  private readonly subscriptions = new CompositeDisposable()\n  private isTypescript = false\n\n  private constructor(private readonly editor: Atom.TextEditor, private opts: PaneOptions) {\n    this.buffer = TypescriptBuffer.create(editor.getBuffer(), opts)\n    this.subscriptions.add(this.buffer.on(\"opened\", this.onOpened))\n\n    this.checkIfTypescript()\n\n    this.subscriptions.add(\n      editor.onDidChangePath(this.checkIfTypescript),\n      editor.onDidChangeGrammar(this.checkIfTypescript),\n      editor.onDidDestroy(this.destroy),\n      editor.onDidSave(() => {\n        if (atom.config.get(\"atom-typescript.checkAllFilesOnSave\")) {\n          atom.commands.dispatch(atom.views.getView(editor), \"typescript:check-all-files\")\n        }\n      }),\n    )\n  }\n\n  public destroy = () => {\n    atom.views.getView(this.editor).classList.remove(\"typescript-editor\")\n    this.subscriptions.dispose()\n  }\n\n  /** NOTE:\n   * it is implicitly assumed that `atom.workspace.getActiveTextEditor() === this.editor`\n   * which has to be ensured at call site\n   */\n  public didActivate = () => {\n    if (this.isTypescript) this.reportInfo()\n  }\n\n  private onOpened = () => {\n    const isActive = atom.workspace.getActiveTextEditor() === this.editor\n    if (isActive) this.reportInfo()\n  }\n\n  private reportInfo() {\n    const info = this.buffer.getInfo()\n    if (info) this.opts.reportClientInfo(info)\n  }\n\n  private checkIfTypescript = () => {\n    this.isTypescript = isTypescriptEditorWithPath(this.editor)\n\n    if (this.isTypescript) {\n      atom.views.getView(this.editor).classList.add(\"typescript-editor\")\n    } else {\n      atom.views.getView(this.editor).classList.remove(\"typescript-editor\")\n    }\n  }\n}\n","import * as Atom from \"atom\"\nimport {CompositeDisposable} from \"atom\"\nimport {BusySignalService, DatatipService, SignatureHelpRegistry} from \"atom-ide-base\"\nimport {IndieDelegate} from \"atom/linter\"\nimport {StatusBar} from \"atom/status-bar\"\nimport {throttle} from \"lodash\"\nimport * as path from \"path\"\nimport {ClientResolver} from \"../client\"\nimport {handlePromise} from \"../utils\"\nimport {getCodeActionsProvider} from \"./atom-ide/codeActionsProvider\"\nimport {getCodeHighlightProvider} from \"./atom-ide/codeHighlightProvider\"\nimport {TSDatatipProvider} from \"./atom-ide/datatipProvider\"\nimport {getDefinitionProvider} from \"./atom-ide/definitionsProvider\"\nimport {getFindReferencesProvider} from \"./atom-ide/findReferencesProvider\"\nimport {getHyperclickProvider} from \"./atom-ide/hyperclickProvider\"\nimport {getOutlineProvider} from \"./atom-ide/outlineProvider\"\nimport {TSSigHelpProvider} from \"./atom-ide/sigHelpProvider\"\nimport {AutocompleteProvider} from \"./atom/autoCompleteProvider\"\nimport {CodefixProvider} from \"./atom/codefix\"\nimport {\n  getIntentionsHighlightsProvider,\n  getIntentionsProvider,\n} from \"./atom/codefix/intentionsProvider\"\nimport {registerCommands} from \"./atom/commands\"\nimport {StatusPanel, TBuildStatus, TProgress} from \"./atom/components/statusPanel\"\nimport {EditorPositionHistoryManager} from \"./atom/editorPositionHistoryManager\"\nimport {OccurrenceManager} from \"./atom/occurrence/manager\"\nimport {SigHelpManager} from \"./atom/sigHelp/manager\"\nimport {TooltipManager} from \"./atom/tooltips/manager\"\nimport {isTypescriptEditorWithPath, spanToRange, TextSpan} from \"./atom/utils\"\nimport {SemanticViewController} from \"./atom/views/outline/semanticViewController\"\nimport {SymbolsViewController} from \"./atom/views/symbols/symbolsViewController\"\nimport {ErrorPusher} from \"./errorPusher\"\nimport {State} from \"./packageState\"\nimport {TypescriptEditorPane} from \"./typescriptEditorPane\"\n\nexport interface Change extends TextSpan {\n  newText: string\n}\nexport interface Edit {\n  fileName: string\n  textChanges: ReadonlyArray<Readonly<Change>>\n}\nexport type Edits = ReadonlyArray<Readonly<Edit>>\nexport type ApplyEdits = (edits: Edits) => Promise<void>\nexport type ReportBusyWhile = <T>(title: string, generator: () => Promise<T>) => Promise<T>\n\nexport class PluginManager {\n  // components\n  private subscriptions: CompositeDisposable\n  private clientResolver: ClientResolver\n  private statusPanel: StatusPanel\n  private errorPusher: ErrorPusher\n  private codefixProvider: CodefixProvider\n  private semanticViewController: SemanticViewController\n  private symbolsViewController: SymbolsViewController\n  private editorPosHist: EditorPositionHistoryManager\n  private tooltipManager: TooltipManager\n  private usingBuiltinTooltipManager = true\n  private sigHelpManager: SigHelpManager\n  private usingBuiltinSigHelpManager = true\n  private occurrenceManager: OccurrenceManager\n  private pending = new Set<{title: string}>()\n  private busySignalService?: BusySignalService\n  private typescriptPaneFactory: (editor: Atom.TextEditor) => TypescriptEditorPane\n\n  public constructor(state?: Partial<State>) {\n    this.subscriptions = new CompositeDisposable()\n\n    this.clientResolver = new ClientResolver(this.reportBusyWhile)\n    this.subscriptions.add(this.clientResolver)\n\n    this.statusPanel = new StatusPanel()\n    this.subscriptions.add(this.statusPanel)\n\n    this.errorPusher = new ErrorPusher()\n    this.subscriptions.add(this.errorPusher)\n\n    this.codefixProvider = new CodefixProvider(\n      this.clientResolver,\n      this.errorPusher,\n      this.applyEdits,\n    )\n    this.subscriptions.add(this.codefixProvider)\n\n    this.semanticViewController = new SemanticViewController(this.getClient)\n    this.subscriptions.add(this.semanticViewController)\n\n    this.editorPosHist = new EditorPositionHistoryManager(state && state.editorPosHistState)\n    this.subscriptions.add(this.editorPosHist)\n\n    this.symbolsViewController = new SymbolsViewController({\n      histGoForward: this.histGoForward,\n      getClient: this.getClient,\n    })\n    this.subscriptions.add(this.symbolsViewController)\n\n    this.tooltipManager = new TooltipManager(this.getClient)\n    this.subscriptions.add(this.tooltipManager)\n\n    this.sigHelpManager = new SigHelpManager({\n      getClient: this.getClient,\n    })\n    this.subscriptions.add(this.sigHelpManager)\n\n    this.occurrenceManager = new OccurrenceManager(this.getClient)\n    this.subscriptions.add(this.occurrenceManager)\n\n    this.typescriptPaneFactory = TypescriptEditorPane.createFactory({\n      clearFileErrors: this.clearFileErrors,\n      getClient: this.getClient,\n      reportBuildStatus: this.reportBuildStatus,\n      reportClientInfo: this.reportClientInfo,\n    })\n    this.subscribeEditors()\n\n    // Register the commands\n    this.subscriptions.add(\n      registerCommands({\n        getClient: this.getClient,\n        applyEdits: this.applyEdits,\n        clearErrors: this.clearErrors,\n        killAllServers: this.killAllServers,\n        reportProgress: this.reportProgress,\n        reportBuildStatus: this.reportBuildStatus,\n        toggleSemanticViewController: () => {\n          handlePromise(this.semanticViewController.toggle())\n        },\n        toggleFileSymbolsView: (ed) => {\n          this.symbolsViewController.toggleFileView(ed)\n        },\n        toggleProjectSymbolsView: (ed) => {\n          this.symbolsViewController.toggleProjectView(ed)\n        },\n        histGoForward: this.histGoForward,\n        histGoBack: () => this.editorPosHist.goBack(),\n        histShowHistory: () => this.editorPosHist.showHistory(),\n        showTooltipAt: this.showTooltipAt,\n        showSigHelpAt: this.showSigHelpAt,\n        hideSigHelpAt: this.hideSigHelpAt,\n        rotateSigHelp: this.rotateSigHelp,\n      }),\n    )\n  }\n\n  public destroy() {\n    this.subscriptions.dispose()\n    for (const ed of atom.workspace.getTextEditors()) {\n      const pane = TypescriptEditorPane.lookupPane(ed)\n      if (pane) pane.destroy()\n    }\n  }\n\n  public serialize(): State {\n    return {\n      version: \"0.1\",\n      editorPosHistState: this.editorPosHist.serialize(),\n    }\n  }\n\n  public consumeLinter(register: (opts: {name: string}) => IndieDelegate) {\n    const linter = register({\n      name: \"TypeScript\",\n    })\n\n    this.errorPusher.setLinter(linter)\n\n    this.subscriptions.add(\n      this.clientResolver.on(\"diagnostics\", ({type, filePath, diagnostics}) => {\n        this.errorPusher.setErrors(type, filePath, diagnostics)\n      }),\n    )\n  }\n\n  public consumeStatusBar(statusBar: StatusBar) {\n    let statusPriority = 100\n    for (const panel of statusBar.getRightTiles()) {\n      if (atom.views.getView(panel.getItem()).tagName === \"GRAMMAR-SELECTOR-STATUS\") {\n        statusPriority = panel.getPriority() - 1\n      }\n    }\n    const tile = statusBar.addRightTile({\n      item: this.statusPanel,\n      priority: statusPriority,\n    })\n    const disp = new Atom.Disposable(() => {\n      tile.destroy()\n    })\n    this.subscriptions.add(disp)\n    return disp\n  }\n\n  public consumeDatatipService(datatip: DatatipService) {\n    if (atom.config.get(\"atom-typescript\").preferBuiltinTooltips) return\n    const disp = datatip.addProvider(new TSDatatipProvider(this.getClient))\n    this.subscriptions.add(disp)\n    this.tooltipManager.dispose()\n    this.usingBuiltinTooltipManager = false\n    return disp\n  }\n\n  public consumeSigHelpService(registry: SignatureHelpRegistry): void | Atom.DisposableLike {\n    if (atom.config.get(\"atom-typescript\").preferBuiltinSigHelp) return\n    const provider = new TSSigHelpProvider(this.getClient)\n    const disp = registry(provider)\n    this.subscriptions.add(disp, provider)\n    this.sigHelpManager.dispose()\n    this.usingBuiltinSigHelpManager = false\n    return disp\n  }\n\n  public consumeBusySignal(busySignalService: BusySignalService): void | Atom.DisposableLike {\n    if (atom.config.get(\"atom-typescript\").preferBuiltinBusySignal) return\n    this.busySignalService = busySignalService\n    const disp = {\n      dispose: () => {\n        if (this.busySignalService) this.busySignalService.dispose()\n        this.busySignalService = undefined\n      },\n    }\n    this.subscriptions.add(disp)\n    return disp\n  }\n\n  // Registering an autocomplete provider\n  public provideAutocomplete() {\n    return [new AutocompleteProvider(this.getClient, this.applyEdits)]\n  }\n\n  public provideIntentions() {\n    return getIntentionsProvider(this.codefixProvider)\n  }\n\n  public provideIntentionsHighlight() {\n    return getIntentionsHighlightsProvider(this.codefixProvider)\n  }\n\n  public provideCodeActions() {\n    return getCodeActionsProvider(this.codefixProvider)\n  }\n\n  public provideHyperclick() {\n    return getHyperclickProvider(this.getClient, this.histGoForward)\n  }\n\n  public provideReferences() {\n    return getFindReferencesProvider(this.getClient)\n  }\n\n  public provideOutlines() {\n    return getOutlineProvider(this.getClient)\n  }\n\n  public provideDefinitions() {\n    if (atom.config.get(\"atom-typescript\").disableAtomIdeDefinitions) return\n    return getDefinitionProvider(this.getClient)\n  }\n\n  public provideCodeHighlight() {\n    if (atom.config.get(\"atom-typescript\").preferBuiltinOccurrenceHighlight) return\n    this.occurrenceManager.dispose()\n    return getCodeHighlightProvider(this.getClient)\n  }\n\n  private clearErrors = () => {\n    this.errorPusher.clear()\n  }\n\n  private clearFileErrors = (filePath: string) => {\n    this.errorPusher.clearFileErrors(filePath)\n  }\n\n  private getClient = async (filePath: string) => {\n    return this.clientResolver.get(filePath)\n  }\n\n  private killAllServers = () => {\n    handlePromise(this.clientResolver.restartAllServers())\n  }\n\n  private withBuffer = async <T>(\n    filePath: string,\n    action: (buffer: Atom.TextBuffer) => Promise<T>,\n  ) => {\n    const normalizedFilePath = path.normalize(filePath)\n    const ed = atom.workspace.getTextEditors().find((p) => p.getPath() === normalizedFilePath)\n\n    // found open buffer\n    if (ed) return action(ed.getBuffer())\n\n    // no open buffer\n    const buffer = await Atom.TextBuffer.load(normalizedFilePath)\n    try {\n      return await action(buffer)\n    } finally {\n      if (buffer.isModified()) await buffer.save()\n      buffer.destroy()\n    }\n  }\n\n  private reportBusyWhile: ReportBusyWhile = async (title, generator) => {\n    if (this.busySignalService) {\n      return this.busySignalService.reportBusyWhile(title, generator)\n    } else {\n      const event = {title}\n      try {\n        this.pending.add(event)\n        this.drawPending(Array.from(this.pending))\n        return await generator()\n      } finally {\n        this.pending.delete(event)\n        this.drawPending(Array.from(this.pending))\n      }\n    }\n  }\n\n  private reportProgress = (progress: TProgress) => {\n    handlePromise(this.statusPanel.update({progress}))\n  }\n\n  private reportBuildStatus = (buildStatus: TBuildStatus | undefined) => {\n    handlePromise(this.statusPanel.update({buildStatus}))\n  }\n\n  private reportClientInfo = (info: {clientVersion: string; tsConfigPath: string | undefined}) => {\n    handlePromise(this.statusPanel.update(info))\n  }\n\n  private applyEdits: ApplyEdits = async (edits) =>\n    void Promise.all(\n      edits.map((edit) =>\n        this.withBuffer(edit.fileName, async (buffer) => {\n          buffer.transact(() => {\n            const changes = edit.textChanges\n              .map((e) => ({range: spanToRange(e), newText: e.newText}))\n              .reverse() // NOTE: needs reverse for cases where ranges are same for two changes\n              .sort((a, b) => b.range.compare(a.range))\n            for (const change of changes) {\n              buffer.setTextInRange(change.range, change.newText)\n            }\n          })\n        }),\n      ),\n    )\n\n  private showTooltipAt = async (ed: Atom.TextEditor): Promise<void> => {\n    if (this.usingBuiltinTooltipManager) this.tooltipManager.showExpressionAt(ed)\n    else await atom.commands.dispatch(atom.views.getView(ed), \"datatip:toggle\")\n  }\n\n  private showSigHelpAt = async (ed: Atom.TextEditor): Promise<void> => {\n    if (this.usingBuiltinSigHelpManager) await this.sigHelpManager.showTooltipAt(ed)\n    else await atom.commands.dispatch(atom.views.getView(ed), \"signature-help:show\")\n  }\n\n  private hideSigHelpAt = (ed: Atom.TextEditor): boolean => {\n    if (this.usingBuiltinSigHelpManager) return this.sigHelpManager.hideTooltipAt(ed)\n    else return false\n  }\n\n  private rotateSigHelp = (ed: Atom.TextEditor, shift: number): boolean => {\n    if (this.usingBuiltinSigHelpManager) return this.sigHelpManager.rotateSigHelp(ed, shift)\n    else return false\n  }\n\n  private histGoForward: EditorPositionHistoryManager[\"goForward\"] = (ed, opts) => {\n    return this.editorPosHist.goForward(ed, opts)\n  }\n\n  private subscribeEditors() {\n    this.subscriptions.add(\n      atom.workspace.observeTextEditors((editor: Atom.TextEditor) => {\n        this.typescriptPaneFactory(editor)\n      }),\n      atom.workspace.onDidChangeActiveTextEditor((ed) => {\n        if (ed && isTypescriptEditorWithPath(ed)) {\n          handlePromise(this.statusPanel.show())\n          const tep = TypescriptEditorPane.lookupPane(ed)\n          if (tep) tep.didActivate()\n        } else handlePromise(this.statusPanel.hide())\n      }),\n    )\n  }\n\n  // tslint:disable-next-line:member-ordering\n  private drawPending = throttle(\n    (pending: Array<{title: string}>) => handlePromise(this.statusPanel.update({pending})),\n    100,\n    {leading: false},\n  )\n}\n","import * as Atom from \"atom\"\nimport {handlePromise} from \"../../../utils\"\nimport {CodefixProvider} from \"./codefixProvider\"\n\ninterface Intention {\n  priority: number\n  icon?: string\n  class?: string\n  title: string\n  selected: () => void\n}\n\ninterface IntentionHighlight {\n  range: Atom.Range\n  created: (args: CreatedCallbackArgs) => void\n}\n\ninterface CreatedCallbackArgs {\n  textEditor: Atom.TextEditor\n  element: HTMLElement\n  marker: Atom.DisplayMarker\n  matchedText: string\n}\n\ninterface IntentionsProviderInterface {\n  grammarScopes: string[]\n  getIntentions: (opts: GetIntentionsOptions) => Intention[] | Promise<Intention[]>\n}\n\ninterface IntentionsHighlightsProviderInterface {\n  grammarScopes: string[]\n  getIntentions: (\n    opts: GetIntentionsHighlightsOptions,\n  ) => IntentionHighlight[] | Promise<IntentionHighlight[]>\n}\n\ninterface GetIntentionsOptions {\n  bufferPosition: Atom.Point\n  textEditor: Atom.TextEditor\n}\n\ninterface GetIntentionsHighlightsOptions {\n  visibleRange: Atom.Range\n  textEditor: Atom.TextEditor\n}\n\nexport function getIntentionsProvider(\n  codefixProvider: CodefixProvider,\n): IntentionsProviderInterface {\n  return {\n    grammarScopes: [\"*\"],\n    async getIntentions({bufferPosition, textEditor}) {\n      return (await codefixProvider.runCodeFix(textEditor, bufferPosition)).map((fix) => ({\n        priority: 100,\n        title: \"description\" in fix ? fix.description : fix.actionDescription,\n        selected: () => {\n          handlePromise(codefixProvider.applyFix(fix))\n        },\n      }))\n    },\n  }\n}\n\nexport function getIntentionsHighlightsProvider(\n  codefixProvider: CodefixProvider,\n): IntentionsHighlightsProviderInterface {\n  return {\n    grammarScopes: [\"*\"],\n    async getIntentions({visibleRange, textEditor}) {\n      return (await codefixProvider.getFixableRanges(textEditor, visibleRange)).map((range) => ({\n        range,\n        created: (_opts: CreatedCallbackArgs) => {\n          // NOOP\n        },\n      }))\n    },\n  }\n}\n","import * as Atom from \"atom\"\nimport {CodeAction, CodeActionProvider} from \"atom-ide-base\"\nimport {Message} from \"atom/linter\"\nimport {CodefixProvider} from \"../atom/codefix/codefixProvider\"\nimport {typeScriptScopes} from \"../atom/utils\"\n\nexport function getCodeActionsProvider(codefixProvider: CodefixProvider): CodeActionProvider {\n  return {\n    grammarScopes: typeScriptScopes(),\n    priority: 0,\n    async getCodeActions(\n      textEditor: Atom.TextEditor,\n      range: Atom.Range,\n      _diagnostics: Message[],\n    ): Promise<CodeAction[]> {\n      return (await codefixProvider.runCodeFix(textEditor, range.start)).map((fix) => ({\n        getTitle: async () => (\"description\" in fix ? fix.description : fix.actionDescription),\n        dispose: () => {},\n        apply: async () => {\n          await codefixProvider.applyFix(fix)\n        },\n      }))\n    },\n  }\n}\n","import * as Atom from \"atom\"\nimport {HyperclickProvider} from \"atom-ide-base\"\nimport {GetClientFunction} from \"../../client\"\nimport {handleFindReferencesResult} from \"../atom/commands/findReferences\"\nimport {handleDefinitionResult} from \"../atom/commands/goToDeclaration\"\nimport {Dependencies} from \"../atom/commands/registry\"\nimport {isTypescriptEditorWithPath} from \"../atom/utils\"\n\nexport function getHyperclickProvider(\n  getClient: GetClientFunction,\n  histGoForward: Dependencies[\"histGoForward\"],\n): HyperclickProvider {\n  return {\n    priority: 0,\n    providerName: \"typescript-hyperclick-provider\",\n    wordRegExp: /([A-Za-z0-9_])+|['\"`](\\\\.|[^'\"`\\\\\\\\])*['\"`]/g,\n    async getSuggestionForWord(editor: Atom.TextEditor, _text: string, range: Atom.Range) {\n      if (!isTypescriptEditorWithPath(editor)) return\n      const filePath = editor.getPath()\n      if (filePath === undefined) return\n\n      return {\n        range,\n        callback: async () => {\n          const location = {\n            file: filePath,\n            line: range.start.row + 1,\n            offset: range.start.column + 1,\n          }\n          const client = await getClient(location.file)\n          const result = await client.execute(\"definition\", location)\n          const resLoc = result.body ? result.body[0] : undefined\n          if (\n            result.body?.length === 1 &&\n            resLoc?.start.line === location.line &&\n            resLoc?.start.offset === location.offset\n          ) {\n            const references = await client.execute(\"references\", location)\n            await handleFindReferencesResult(references, editor, histGoForward)\n          } else {\n            await handleDefinitionResult(result, editor, histGoForward)\n          }\n        },\n      }\n    },\n  }\n}\n","import {DisposableLike} from \"atom\"\nimport {\n  BusySignalService,\n  CodeActionProvider,\n  CodeHighlightProvider,\n  DatatipService,\n  DefinitionProvider,\n  FindReferencesProvider,\n  HyperclickProvider,\n  OutlineProvider,\n  SignatureHelpRegistry,\n} from \"atom-ide-base\"\nimport * as packageDeps from \"atom-package-deps\"\nimport {AutocompleteProvider} from \"atom/autocomplete-plus\"\nimport {IndieDelegate} from \"atom/linter\"\nimport {StatusBar} from \"atom/status-bar\"\nimport etch from \"etch\"\nimport {handlePromise} from \"../utils\"\nimport {SemanticView, SemanticViewSerializationData} from \"./atom/views/outline/semanticView\"\nimport {State} from \"./packageState\"\nimport {PluginManager} from \"./pluginManager\"\n\nlet pluginManager: PluginManager | undefined\n\nexport function activate(state: State) {\n  etch.setScheduler(atom.views)\n  pluginManager = new PluginManager(state)\n\n  setImmediate(() => handlePromise(checkAndInstallDependencies()))\n}\n\nasync function checkAndInstallDependencies() {\n  const packagesProvidingUIServices = [\"atom-ide-ui\", \"linter\", \"nuclide\"]\n  if (!packagesProvidingUIServices.some((p) => atom.packages.isPackageLoaded(p))) {\n    await packageDeps.install(\"atom-typescript\", true)\n  }\n}\n\nexport function deactivate() {\n  if (pluginManager) pluginManager.destroy()\n  pluginManager = undefined\n}\n\nexport function serialize() {\n  if (pluginManager) return pluginManager.serialize()\n  else return undefined\n}\n\nexport function deserializeSemanticView(serialized: SemanticViewSerializationData): SemanticView {\n  return SemanticView.create(serialized.data)\n}\n\n////////////////////////////////// Consumers ///////////////////////////////////\nexport function consumeLinter(\n  register: (opts: {name: string}) => IndieDelegate,\n): DisposableLike | void {\n  if (pluginManager) return pluginManager.consumeLinter(register)\n}\n\nexport function consumeStatusBar(statusBar: StatusBar): DisposableLike | void {\n  if (pluginManager) return pluginManager.consumeStatusBar(statusBar)\n}\n\nexport function consumeDatatipService(datatipService: DatatipService): DisposableLike | void {\n  if (pluginManager) return pluginManager.consumeDatatipService(datatipService)\n}\n\nexport function consumeSignatureHelp(registry: SignatureHelpRegistry): DisposableLike | void {\n  if (pluginManager) return pluginManager.consumeSigHelpService(registry)\n}\n\nexport function consumeBusySignal(busySignalService: BusySignalService): DisposableLike | void {\n  if (pluginManager) return pluginManager.consumeBusySignal(busySignalService)\n}\n\n////////////////////////////////// Providers ///////////////////////////////////\nexport function provideAutocomplete(): AutocompleteProvider[] | undefined {\n  if (pluginManager) return pluginManager.provideAutocomplete()\n}\n\nexport function provideIntentions() {\n  if (pluginManager) return pluginManager.provideIntentions()\n}\n\nexport function provideIntentionsHighlight() {\n  if (pluginManager) return pluginManager.provideIntentionsHighlight()\n}\n\nexport function provideCodeActions(): CodeActionProvider | undefined {\n  if (pluginManager) return pluginManager.provideCodeActions()\n}\n\nexport function provideHyperclick(): HyperclickProvider | undefined {\n  if (pluginManager) return pluginManager.provideHyperclick()\n}\n\nexport function provideReferences(): FindReferencesProvider | undefined {\n  if (pluginManager) return pluginManager.provideReferences()\n}\n\nexport function provideOutlines(): OutlineProvider | undefined {\n  if (pluginManager) return pluginManager.provideOutlines()\n}\n\nexport function provideDefinitions(): DefinitionProvider | undefined {\n  if (pluginManager) return pluginManager.provideDefinitions()\n}\n\nexport function provideCodeHighlight(): CodeHighlightProvider | undefined {\n  if (pluginManager) return pluginManager.provideCodeHighlight()\n}\n"],"names":["dest","source","Object","keys","forEach","key","defineProperty","enumerable","get","$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$b84b25051d41e6efca358f41f$exports","value","e","r","_assert","t","_fs","s","_util","i","_path","n","path","exports","require","Error","length","E","Buffer","isBuffer","TypeError","slice","l","o","includes","promisify","exists","Promise","access","R_OK","readFile","toString","prototype","hasOwnProperty","call","p","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","Number","MAX_SAFE_COMPONENT_LENGTH","c","process","env","NODE_DEBUG","test","h","re","src","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","u","$","I","compareIdentifiers","rcompareIdentifiers","R","f","N","m","O","L","constructor","loose","includePrerelease","version","this","options","trim","match","LOOSE","FULL","raw","major","minor","patch","prerelease","split","map","build","format","join","compare","compareMain","comparePre","compareBuild","inc","push","isNaN","T","A","D","v","d","S","P","w","g","y","Symbol","G","ANY","parse","semver","operator","C","F","COMPARATORLOOSE","COMPARATOR","intersects","j","M","_","set","parseRange","filter","range","X","b","HYPHENRANGELOOSE","HYPHENRANGE","replace","ee","COMPARATORTRIM","U","TILDETRIM","k","CARETTRIM","x","H","W","some","B","every","pop","z","q","J","Q","V","toLowerCase","Y","TILDELOOSE","TILDE","Z","CARETLOOSE","CARET","K","XRANGELOOSE","XRANGE","STAR","GTE0PRE","GTE0","se","ie","$b0559118909cf59d21dd421f2150d$exports","resolve","$f6b3388a9e7476ea6136b01917c15$exports","__steelbrain_package_deps","Set","$f9b0166ef7b5e7f5ad26e9362409c1dc$export$fs","$f9b0166ef7b5e7f5ad26e9362409c1dc$exports","fs","$f9b0166ef7b5e7f5ad26e9362409c1dc$export$installDependencies","async","atom","packages","getLoadedPackage","metadata","Array","isArray","all","exec","has","resolvePackagePath","JSON","te","add","name","url","Boolean","then","$b0559118909cf59d21dd421f2150d$init","promptUser","$f6b3388a9e7476ea6136b01917c15$init","performInstall","installDependencies","$b84b25051d41e6efca358f41f$export$install","install","$adbcf6df31303db1f87a231e2324b62a$exports","onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onLoad","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd","dom","tag","props","children","ambiguous","child","text","splice","context","concat","propName","eventName","on","class","className","$aff2dc00084cea793abcee7bca7c04$exports","HTML_TAGS","tagName","$b2dad6c8c04dd72dbb61af041686b586$exports","$b2ed19954ff614b09cef6c68f9f3$exports","Map","updateProps","domNode","oldVirtualNode","oldProps","newVirtualNode","newProps","dataset","removeAttribute","oldValue","newValue","updateNestedProps","style","updateAttributes","setAttribute","domProps","isStyleObject","oldAttributes","newAttributes","render","virtualNode","document","createTextNode","refs","listenerContext","ref","component","element","createElementNS","addChildren","$c3ec37c5cc830d7b20fe4723d7b05$exports","createElement","parent","appendChild","$ebf114a57a592cbb169f24bed5$exports","oldRefName","newRefName","oldListeners","newListeners","listenerToRemove","boundListeners","removeEventListener","oldListener","newListener","listenerToAdd","bind","addEventListener","updateEventListeners","$a952effc3c7023d1c16d9db4a697b68f$exports","oldNode","virtualNodesAreEqual","newNode","nodeValue","newChildren","update","updateComponent","parentElement","oldChildren","oldIndicesByKey","oldStartIndex","oldEndIndex","oldStartChild","oldEndChild","newStartIndex","newEndIndex","newStartChild","newEndChild","insertBefore","nextSibling","mapPool","clear","mapOldKeysToIndices","getKey","oldIndex","oldChildToMove","undefined","subsequentElement","removeVirtualNode","updateChildren","parentNode","replaceChild","removeDOMNode","destroy","remove","startIndex","endIndex","$d49a158c8797008800b3c37b02770$exports","$d75b6522477a4131a110ffe6788e6f8$exports","updateRequests","readRequests","pendingAnimationFrame","performUpdates","performingUpdates","updateDocument","fn","requestAnimationFrame","readDocument","getNextUpdatePromise","nextUpdatePromise","resolveNextUpdatePromise","shift","scheduler","componentsWithPendingUpdates","WeakSet","syncUpdatesInProgressCounter","syncDestructionsInProgressCounter","isValidVirtualNode","applyContext","node","updateSync","replaceNode","namePart","oldDomNode","newDomNode","writeAfterUpdate","readAfterUpdate","$edf28c866b7582fce9d7b8f3f6fcf4c6$export$getScheduler","destroySync","removeNode","destroyChildComponents","$edae46db15880071ec53ce6e4d1e$exports","initialize","delete","handlePromise","promise","catch","err","notifications","addFatalError","message","detail","stack","dismissable","$ecf00d890c39dfdd9bccf60c29$exports","setScheduler","customScheduler","getScheduler","FUNC_ERROR_TEXT","HASH_UNDEFINED","PLACEHOLDER","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","INFINITY","NAN","MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrim","reTrimStart","reTrimEnd","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsVarRange","rsBreakRange","rsMathOpRange","rsApos","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsOptVar","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","\\","'","\n","\r","","","freeParseFloat","parseFloat","freeParseInt","parseInt","freeGlobal","freeSelf","root","Function","freeExports","nodeType","freeModule","module","moduleExports","freeProcess","nodeUtil","types","binding","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","apply","func","thisArg","args","arrayAggregator","array","setter","iteratee","accumulator","index","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","result","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","values","offset","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","object","basePropertyOf","baseReduce","current","baseTimes","baseUnary","baseValues","cacheHas","cache","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","deburrLetter","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","escapeHtmlChar","&","<",">","\"","escapeStringChar","chr","hasUnicode","string","mapToArray","size","overArg","transform","arg","replaceHolders","setToArray","setToPairs","stringSize","lastIndex","unicodeSize","stringToArray","unicodeToArray","asciiToArray","unescapeHtmlChar","&amp;","&lt;","&gt;","&quot;","&#39;","runInContext","uid","defaults","pick","Date","Math","String","arrayProto","funcProto","objectProto","coreJsData","funcToString","idCounter","maskSrcKey","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","objectCreate","create","propertyIsEnumerable","spreadableSymbol","isConcatSpreadable","symIterator","iterator","symToStringTag","toStringTag","getNative","ctxClearTimeout","clearTimeout","ctxNow","now","ctxSetTimeout","setTimeout","nativeCeil","ceil","nativeFloor","floor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","max","nativeMin","min","nativeNow","nativeParseInt","nativeRandom","random","nativeReverse","reverse","DataView","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","lodash","isObjectLike","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","proto","isObject","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","entries","entry","ListCache","MapCache","SetCache","__data__","Stack","data","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","configurable","writable","baseAt","paths","skip","number","lower","upper","baseClone","bitmask","customizer","isDeep","isFlat","isFull","input","initCloneArray","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","buffer","byteOffset","byteLength","cloneDataView","cloneTypedArray","regexp","cloneRegExp","symbol","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","wait","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","escape","evaluate","interpolate","variable","imports","hash","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","isFunction","baseGet","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","Infinity","seen","baseInvoke","last","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","isTyped","isArrayLikeObject","isPlainObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","comparer","sort","baseSortBy","criteria","objCriteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","indexOf","basePullAt","indexes","previous","baseUnset","baseRepeat","baseRest","start","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","end","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","id","copy","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","iterable","createCaseFirst","methodName","charAt","trailing","createCompounder","callback","words","deburr","createCtor","arguments","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","newHolders","createRecurry","reorder","createInverter","toIteratee","baseInverter","createMathOperation","defaultValue","createOver","arrayFunc","createPadding","chars","charsLength","createRange","step","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","pair","noop","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrLength","arrStacked","arrValue","flatten","otherFunc","type","getValue","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","ctorString","isMaskable","stubFalse","otherArgs","oldArray","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","count","lastCalled","stamp","remaining","rand","memoize","memoizeCapped","charCodeAt","quote","subString","clone","difference","differenceBy","differenceWith","findIndex","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","chain","interceptor","wrapperAt","countBy","find","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bindKey","WRAP_BIND_FLAG","debounce","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","time","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","cancel","flush","defer","delay","resolver","memoized","Cache","negate","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","isError","isInteger","isNumber","isString","lt","lte","toArray","next","done","iteratorToArray","remainder","toLength","isBinary","assign","assignIn","assignInWith","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","merge","omit","CLONE_DEEP_FLAG","basePick","pickBy","prop","toPairs","toPairsIn","camelCase","word","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","toUpperCase","pattern","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","method","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","after","castArray","chunk","compact","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","fill","baseFill","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matches","matchesProperty","nthArg","omitBy","once","orderBy","propertyOf","pullAllBy","pullAllWith","reject","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniq","uniqBy","uniqWith","unset","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extend","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","endsWith","target","position","escapeRegExp","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isBoolean","isElement","isEmpty","isEqual","isEqualWith","isMatch","isMatchWith","isNative","isNil","isNull","isSafeInteger","isUndefined","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","pad","strLength","padEnd","padStart","radix","floating","temp","reduce","reduceRight","repeat","sample","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sum","sumBy","template","settings","isEscaping","isEvaluating","importsKeys","importsValues","reDelimiters","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","times","toLower","toSafeInteger","toUpper","trimEnd","trimStart","truncate","omission","search","substring","newEnd","unescape","uniqueId","prefix","each","eachRight","first","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","define","amd","DiagnosticCategory","ts","pointToLocation","point","line","row","column","locationToPoint","loc","Atom","Point","spanToRange","span","locationsToRange","Range","getProjectConfig","configFile","config","loadConfig","formatCodeOptions","indentSize","tabSize","compileOnSave","preferences","extname","readConfigFile","file","sys","extends","extendsConfig","dirname","signatureHelpItemToSignature","label","partsToStr","prefixDisplayParts","parameters","displayParts","separatorDisplayParts","suffixDisplayParts","documentation","signatureHelpParameterToSignatureParameter","checkDiagnosticCategory","codeToCategory","code","category","Diagnostics","cat","isTypescriptFile","filePath","ext","tsExts","tsFileExtensions","allowJS","jsFileExtensions","isAllowedExtension","typeScriptScopes","tsScopes","tsSyntaxScopes","jsSyntaxScopes","isTypescriptEditorWithPath","editor","getPath","isTypescriptGrammar","scopeName","getRootScopeDescriptor","getScopesArray","getFilePathPosition","$dab201586a2899a64a212159b5dad$export$pointToLocation","pos","getCursorBufferPosition","getEditorPosition","highlight","ed","TextEditor","readonly","keyboardInputEnabled","showInvisibles","tabLength","el","views","setUpdatedSynchronously","pointerEvents","top","width","grammars","assignLanguageMode","getBuffer","setText","scrollToBufferPosition","getEndPosition","workspace","languageMode","getLanguageMode","fullyTokenized","tree","disp","onDidTokenize","dispose","editorTokenized","from","querySelectorAll","innerHTML","findNodeAt","startLine","endLine","childItems","elem","getNodeStartLine","getNodeEndLine","selected","selectedChild","nstart","nend","spans","restoreCollapsed","newTree","oldTree","collapsed","newChild","oldChild","prepareNavTree","navTree","NavigationNodeComponent","[object Object]","ctrl","selectedNode","getSelectedNode","n2","n1","$a44ea41669752cb8d67851326ca18ad$exports","classes","styleClasses","getStyles","click","event","entryClicked","sn","kind","styles","kindModifiers","modifier","stopPropagation","currentTarget","$b6064b9949fa77d4c2e20c2da930d31$export$isToggleEntry","$e94f35b6a15505f4f2304e940daadb55$export$handlePromise","gotoNode","NavigationTreeComponent","subscriptions","CompositeDisposable","loadNavTree","getClient","client","execute","body","setNavTree","console","error","selectAtCursorLine","newBufferPosition","cursorLine","$b6064b9949fa77d4c2e20c2da930d31$export$findNodeAt","subscribeToEditor","editorScrolling","editorChanging","$cb59547645b3a3ec47f3f6bf60ee4509$export$isTypescriptEditorWithPath","onDidChangeCursorPosition","onDidStopChanging","$b6064b9949fa77d4c2e20c2da930d31$export$prepareNavTree","observeActiveTextEditor","maybeNavNodeComp","$e8fd38f2a56935e031e987bc89502d53$export$NavigationNodeComponent","selectedElement","querySelector","scrollTo","gotoLine","$b6064b9949fa77d4c2e20c2da930d31$export$getNodeStartLine","gotoOffset","$b6064b9949fa77d4c2e20c2da930d31$export$getNodeStartOffset","setCursorBufferPosition","getCursorLine","getLastCursor","getBufferRow","$b6064b9949fa77d4c2e20c2da930d31$export$restoreCollapsed","scrollIntoViewIfNeeded","scrollIntoView","SemanticView","comp","$d09cfc0e79e730e588fa58351815542$export$NavigationTreeComponent","instance","gc","setGetClient","getTitle","getURI","getDefaultLocation","getAllowedLocations","serialize","deserializer","stream","_stream","util","timers","_timers","$e6ad8f15a9945e5dc54fbe2a9a9620$exports","readStream","$e6ad8f15a9945e5dc54fbe2a9a9620$export$createStream","createLineStream","LineStream","createStream","readable","ls","pipe","Transform","_readableState","objectMode","_lineBuffer","_keepEmptyLines","keepEmptyLines","_lastChunkEndedWithCR","encoding","Readable","log","inherits","_transform","_chunkEncoding","lines","_pushBuffer","keep","_reencode","setImmediate","_flush","chunkEncoding","Callbacks","reportBusyWhile","callbacks","interval","seq","command","started","setInterval","activateUvLoop","clearInterval","rejectAll","res","req","request_seq","atom_typescript_debug","success","warn","resolveMS","commandWithResponse","compileOnSaveAffectedFileList","compileOnSaveEmitFile","completionEntryDetails","completions","completionInfo","configure","definition","getCodeFixes","getSupportedCodeFixes","documentHighlights","projectInfo","quickinfo","references","reload","rename","navtree","navto","getApplicableRefactors","getEditsForRefactor","organizeImports","signatureHelp","getEditsForFileRename","applyCodeActionCommand","commandWithMultistep","geterr","geterrForProject","eventTypes","configFileDiag","semanticDiag","suggestionDiag","syntaxDiag","TypescriptServiceClient","tsServerPath","emitter","Emitter","lastStderrOutput","exitHandler","report","server","emit","addError","onMessage","onEvent","multistepSupported","$e56f75a81461ed038df0c7275c290$export$Callbacks","startServer","isCommandWithResponse","isCommandWithMultistep","stdin","write","stringify","graceTimer","kill","cp","locale","tsServerArgs","BufferedNodeProcess","signal","stdout","stderr","$e6ad8f15a9945e5dc54fbe2a9a9620$$interop$default","MessageStream","ParseOptions","super","buf","_encoding","createScanner","ignoreTrivia","len","tokenOffset","token","lineNumber","lineStartOffset","tokenLineStartOffset","prevTokenLineStartOffset","scanError","scanHexDigits","exact","digits","ch","scanNext","isWhiteSpace","fromCharCode","isLineBreak","ch3","scanString","safeLength","commentClosed","isDigit","scanNumber","isUnknownContentCharacter","setPosition","newPosition","getPosition","scan","getToken","getTokenValue","getTokenOffset","getTokenLength","getTokenStartLine","getTokenStartCharacter","getTokenError","DEFAULT","allowTrailingComma","errors","currentProperty","currentParent","previousParents","onValue","visitor","_scanner","$b8bbd867284705e8f48f734$export$createScanner","toNoArgVisit","visitFunction","toOneArgVisit","onObjectBegin","onObjectProperty","onObjectEnd","onArrayBegin","onArrayEnd","onLiteralValue","onSeparator","onComment","disallowComments","handleError","skipUntilAfter","skipUntil","parseString","isValue","parseLiteral","tokenValue","parseProperty","parseValue","parseObject","needsComma","parseArray","allowEmptyContent","visit","$ced6ec7ff47e75acfff32be70eb$exports","origPrepareStackTrace","prepareStackTrace","getFileName","isWindows","splitDeviceRe","splitTailRe","win32","splitPathRe","posix","platform","pathString","filename","device","result2","allParts","base","$be55df230422fd08c87f7b6a415f8$exports","$be55df230422fd08c87f7b6a415f8$export$posix","$be55df230422fd08c87f7b6a415f8$export$win32","getNodeModulesDirs","absoluteStart","modules","parsed","dirs","aPath","moduleDir","$dacf44c7dd257a7f19ef4fa8fe4a54a5$exports","opts","request","moduleDirectory","$b1639e2d586a712a6b5dd25747aa7d91$exports","versions","specifierIncluded","specifier","parts","op","versionParts","cur","ver","matchesRange","specifiers","versionIncluded","specifierValue","$ebd0b5c432b802d76ab4558312a898e$exports","core","mod","$ca37b81e2b122cc1ec2ad24ea4bd6484$exports","$be262597349c9eaee7f1d81952279a4b$exports","realpathFS","realpath","native","defaultIsFile","cb","stat","isFile","isFIFO","defaultIsDir","isDirectory","defaultRealpath","realpathErr","realPath","maybeRealpath","preserveSymlinks","$a96619073d138e5ca63e4bb16a93f110$exports","nextTick","packageIterator","extensions","basedir","onfile","pkg","loadAsDirectory","realD","moduleError","loadAsFile","thePackage","loadAsFilePackage","load","exts","loadPackage","onpkg","loadpkg","pkg_","pathFilter","rfile","relative","rel","onex","ex","unwrapErr","pkgdir","pkgfile","jsonErr","packageFilter","loadAsDirectoryPackage","fpkg","package","main","mainError","processDirs","ondir","isdir","realStart","thunk","getPackageCandidates","loadNodeModules","realN","init","isCore","realpathSync","statSync","defaultRealpathSync","maybeRealpathSync","resolveBinary","sourcePath","binBaseName","NODE_PATH","binName","resolvedPath","$be9be12771a8355b44e2202bd1b051b4$$interop$default","resolveModule","delimiter","auxTsdkPath","initialBaseDir","tryConfigFiles","resolveConfigFile","configFileContents","$cbeaf9e99bafcf0c87bab2fdca8e66$export$parse","fsReadFile","tsdkPath","isVSCodeConfigObject","isAbsolute","getSDKPath","binPath","fsExists","packagePath","pathToBin","sync","readFileSync","loadAsFileSync","loadAsDirectorySync","loadNodeModulesSync","constants","F_OK","relpaths","relpath","ClientResolver","clients","memoizedClients","tsserverInstancePerTsconfig","diagnosticHandler","serverPath","triggerFile","diagnostics","getAllClients","restartServer","pFilePath","memo","_get","$cf658a7c944366489f44fee1c8d7e72$export$resolveBinary","tsconfigPath","findConfigFile","fileExists","tsconfigMap","newClient","$d0fedcc6c2f4f3d9e0d1c25b09afe4c$export$TypescriptServiceClient","getCodeHighlightProvider","grammarScopes","$cb59547645b3a3ec47f3f6bf60ee4509$export$typeScriptScopes","priority","location","$cb59547645b3a3ec47f3f6bf60ee4509$export$getFilePathPosition","filesToSearch","fileInfo","highlightSpans","$dab201586a2899a64a212159b5dad$export$spanToRange","getSpans","renderTooltip","etch","codeRenderer","formatKindModifiers","tags","tagClass","tagText","firstWord","restOfText","formatTagText","docs","codeText","displayString","REACT_ELEMENT_SYMBOL","for","$$typeof","TSDatatipProvider","providerName","bufferPt","tooltip","$f91ffe12f70d15cf7529b68c2f7a7b3$export$renderTooltip","highlightCode","fromObject","$dab201586a2899a64a212159b5dad$export$locationToPoint","fontFamily","html","$cb59547645b3a3ec47f3f6bf60ee4509$export$highlight","dangerouslySetInnerHTML","__html","fileSpanToDefinition","language","refTsToIde","uri","$dab201586a2899a64a212159b5dad$export$locationsToRange","TsView","highlightedText","PathSeparator","queryIsLastPathSegment","sep","$b9495dc32b3e5115d12530c570e57$export$basenameScore","query","score","lastCharacter","segmentCount","slashCount","$b9495dc32b3e5115d12530c570e57$export$score","$b9495dc32b3e5115d12530c570e57$exports","basenameScore","character","characterScore","indexInQuery","indexInString","lowerCaseIndex","minIndex","queryLength","queryScore","stringLength","totalCharacterScore","upperCaseIndex","_ref","pluckCandidates","scorer","sortCandidates","$b9495dc32b3e5115d12530c570e57$init","candidate","$a49f6c0b4dea3ca91434011780bab$exports","candidates","queryHasSlashes","_arg","maxResults","scoredCandidates","_i","_len","$b371c170220f3e12d9e95616f5b5ee0$export$basenameMatch","$b371c170220f3e12d9e95616f5b5ee0$export$match","$b371c170220f3e12d9e95616f5b5ee0$exports","basenameMatch","stringOffset","_results","SpaceRegex","matcher","$a49f6c0b4dea3ca91434011780bab$init","$b371c170220f3e12d9e95616f5b5ee0$init","$ee3f2cd64d3d5d4ea252fabe1f8978$exports","HighlightComponent","matchedChars","queryMatches","matchIndex","unmatched","highlightMatches","Disposable","_atom","$d02f3c531c83505ac61f36ff5dd74$exports","$ef0a35ee421031f6da31911cffea57d$exports","$d06b03867a98f6439a161cdff8ae35e$exports","$c28607e421ab0a142b105e82eb39$exports","$d39534da3325d84607c0f09fc51b0cf$exports","updateRef","$d7cf05ee01b05bd5f4924040f3e70f6$exports","$d11f0efc72a6129729fd0b0f3687279b$exports","$e3116d61f7aa94a2cd566bd4647c91$exports","$b410da0ef9dfceaa5f962a25cca97a07$export$getScheduler","$ae5e90473c5854fb6c93964ea3811fe0$exports","$e7664c9cd7b777c5ee118b61f0037570$exports","$abba153d8c912e1768f2fcb3ff1f$exports","initialSelectionIndex","initiallyVisibleItemCount","initializeVisibilityObserver","computeItems","disposables","classList","queryEditor","onDidChange","didChangeQuery","skipCommandsRegistration","registerAtomCommands","editorElement","didLoseFocus","didClickItemsList","items","visibilityObserver","IntersectionObserver","changes","change","intersectionRatio","unobserve","renderItemAtIndex","focus","contains","relatedTarget","hasFocus","cancelSelection","reset","disconnect","commands","core:move-up","selectPrevious","core:move-down","selectNext","core:move-to-top","selectFirst","core:move-to-bottom","selectLast","core:confirm","confirmSelection","core:cancel","shouldComputeItems","filterQuery","selectQuery","selectAll","clearSelections","order","emptyMessage","errorMessage","infoMessage","loadingMessage","loadingBadge","itemsClassList","div","mini","renderLoadingMessage","renderInfoMessage","renderErrorMessage","renderItems","observe","listItems","item","getSelectedItem","visible","ListItemView","elementForItem","onclick","didClickItem","ol","getQuery","getText","getFilterQuery","itemIndex","selectIndex","filterFn","fuzzyFilter","scoredItems","filterKeyForItem","selectionIndex","selectNone","didChangeSelection","selectItem","selectedItem","didConfirmSelection","didConfirmEmptySelection","didCancelSelection","mouseDown","mouseUp","didClick","domEventsDisposable","preventDefault","selectListView","itemTemplate","itemFilterKey","panel","currentFocus","activeElement","resolved","select","timeout","is","$abba153d8c912e1768f2fcb3ff1f$$interop$default","addModalPanel","addCommand","selector","desc","handleFindReferencesResult","histGoForward","_ref$contextStart","fileContents","contextStart","contextEnd","lineText","hlText","$f4f1fc990177c6fa1a9d672edeaae57$export$selectListView","ctx","$c78ac5de21f7bed8ab454932718fecf9$export$HighlightComponent","project","relativize","$a7305df399733efc60485db9c0549b$export$TsView","handleDefinitionResult","navTreeToOutline","prev","kindMap","plainText","startPosition","endPosition","landingPosition","nameSpan","compareNodes","apos","bpos","$c887f2175b0be5c5cc6fc14d1$export$addCommand","deps","description","directory","external module name","local class","getter","JSX attribute","enum","interface","function","local function","alias","var","let","local var","parameter","enum member","const","","warning","keyword","script","construct","type parameter","primitive type","TSSigHelpProvider","triggerCharacters","triggerCharsDefault","triggerCharsDisabled","newVal","signatures","$dab201586a2899a64a212159b5dad$export$signatureHelpItemToSignature","activeParameter","argumentIndex","activeSignature","selectedItemIndex","codeActionTemplate","codeAction","AutocompleteProvider","applyEdits","disableForSelector","inclusionPriority","suggestionPriority","autocompletionSuggestionPriority","excludeLowerPriority","bufferPosition","getLocationQuery","idMatch","getTextInRange","identifierMatch","getPrefix","triggerCharacter","getTrigger","lastChar","backwardsScanInRange","matchText","stop","getLastNonWhitespaceChar","activatedManually","containsScope","scopeDescriptor","suggestions","getSuggestionsWithCache","suggestion","replacementPrefix","replacementRange","getTextInBufferRange","getDetailsFromCache","addCallableParens","getAdditionalDetails","onDidInsertSuggestion","evt","hasAction","lastSuggestions","_details","codeActions","$f0a5285711b2110984b1f054c69e0b$export$codeActionTemplate","cmd","_details$codeActions","identifier","reply","entryNames","leftLabel","rightLabel","actionDesc","displayText","lastLoc","lastCol","getNormalizedCol","thisCol","_completions$body","includeExternalModuleExports","includeInsertTextCompletions","completionEntryToSuggestion","isMemberCompletion","getSuggestionsInternal","col","scopes","matchScope","scope","insertText","replacementSpan","pt","lineLengthForRow","parens","snippet",".","`","/","@","#","getApplicableRefactorsActions","pointOrRange","responseApplicable","triggerReason","getApplicabeRefactors","refactor","refactorName","refactorDescription","refactorRange","actionName","actionDescription","inlineable","applyRefactors","selectedAction","responseEdits","edits","renameFilename","renameLocation","open","searchAllPanes","initialLine","initialColumn","dispatch","selection","getSelectedBufferRange","fileRange","startOffset","endOffset","addInfo","CodefixProvider","clientResolver","errorPusher","supportedFixes","textEditor","getErrorsInRange","supportedCodes","getSupportedFixes","requests","getErrorsAt","errorCodes","fixes","results","fix","refactors","$d39519df72a88807703198d8b6d65b14$export$getApplicableRefactorsActions","$d39519df72a88807703198d8b6d65b14$export$applyRefactors","codes","initConfig","tsc","projectRoot","bnp","cwd","exit","onWillThrowError","reportBuildStatus","needFileNameList","files","fileNames","configFileName","filesSoFar","promises","_finally","forced","reportProgress","_projectInfo$body$fil","cancelTimeout","didDispatch","clearErrors","ranges","getSelectedBufferRanges","transact","setTextInBufferRange","newText","formatCode","abort","projectDirs","getDirectories","currentPath","pathToTsc","projectDir","addSuccess","previousUnderscore","ArrayProto","ObjProto","SymbolProto","nativeIsArray","obj","_wrapped","$e5d9e4677a82cd9c35bb147dab259521$exports","$e5d9e4677a82cd9c35bb147dab259521$export$_","builtinIteratee","optimizeCb","argCount","restArguments","shallowProperty","deepGet","MAX_ARRAY_INDEX","pow","getLength","collect","currentKey","createReduce","reducer","foldl","inject","foldr","detect","list","any","include","contextPath","pluck","where","attrs","findWhere","lastComputed","left","right","behavior","indexBy","reStrSymbol","pass","shallow","strict","output","idx","otherArrays","unique","isSorted","createPredicateIndexFinder","createIndexFinder","predicateFind","executeBound","sourceFunc","boundFunc","callingContext","bound","callArgs","boundArgs","hasher","address","later","throttled","immediate","callNow","compose","hasEnumBug","nonEnumerableProps","collectNonEnumProps","nonEnumIdx","allKeys","mapObject","methods","names","extendOwn","deepEq","keyInObj","aStack","bStack","areArrays","aCtor","bCtor","nodelist","childNodes","Int8Array","accum","getTime","escapeMap","unescapeMap","createEscaper","escaper","testRegexp","replaceRegexp","fallback","noMatch","escapes","escapeChar","oldSettings","argument","_chain","chainResult","macModifierKeyMap","nonMacModifierKeyMap","plus","shiftKeyMap","splitKeyPath","__slice","$e5d9e4677a82cd9c35bb147dab259521$init","alt","option","enter","up","down","~","+","|","{","}",":","?","keyPath","keyPathArray","substr","adviseBefore","advice","original","camelize","compactObject","newObject","dasherize","letter","deepClone","deepExtend","deepContains","suffix","escapeAttribute","humanizeEventName","eventDoc","namespace","namespaceDoc","undasherize","humanizeKey","modifierKeyMap","humanizeKeystroke","keystroke","humanizedKeystrokes","keystrokes","splitKeystroke","_j","_len1","isSubset","potentialSubset","potentialSuperset","losslessInvert","inverted","_ref1","multiplyString","finalString","pluralize","singular","plural","setValueForKeyPath","hasKeyPath","spliceWithArray","originalArray","insertedArray","chunkSize","chunkStart","uncamelcase","underscore","valueForKeyPath","isEqualForProperties","aCtorValid","aElement","aKeyCount","aValue","bCtorValid","bKeyCount","equal","stackIndex","$cf1ab94aa5409bdb2897dae738156e2f$exports","previous_async","toBool","notId","only_once","_once","_toString","_isArray","_isArrayLike","arr","_arrayEach","_map","_range","_reduce","_forEachOf","_keys","_indexOf","_keyIterator","coll","_restParam","_withoutIndex","_setImmediate","_delay","_eachOfLimit","nextKey","running","errored","replenish","doParallel","eachOf","doParallelLimit","doSeries","eachOfSeries","_asyncMap","eachfn","_filter","_reject","_createTester","check","getResult","_findGetResult","_parallel","tasks","task","_concat","_queue","worker","concurrency","payload","_insert","idle","drain","unshift","saturated","_next","workers","removed","workersList","empty","paused","pause","resume","resumeCount","_console_fn","_times","mapper","_applyEach","fns","go","that","ensureAsync","innerArgs","forEachSeries","eachSeries","forEachLimit","eachLimit","forEachOf","iter","completed","forEachOfSeries","iterate","forEachOfLimit","eachOfLimit","mapSeries","mapLimit","reversed","selectLimit","filterLimit","selectSeries","filterSeries","rejectLimit","rejectSeries","someLimit","everyLimit","detectSeries","detectLimit","auto","remainingTasks","runningTasks","hasError","listeners","addListener","removeListener","taskComplete","dep","taskCallback","safeResults","val","rkey","requires","ready","listener","retry","DEFAULT_TIMES","DEFAULT_INTERVAL","attempts","parseTimes","acc","wrappedTask","wrappedCallback","wrappedResults","retryAttempt","finalAttempt","seriesCallback","retryInterval","series","waterfall","wrapIterator","parallel","parallelLimit","makeCallback","concatSeries","whilst","doWhilst","calls","until","doUntil","during","truth","doDuring","queue","priorityQueue","_compareTasks","sequence","beg","_binarySearch","cargo","queues","unmemoized","unmemoize","timesSeries","timesLimit","newargs","nextargs","applyEach","applyEachSeries","forever","wrapSync","asyncify","$eca90f62df81fcaa01832529b9487892$exports","_0777","mkdirP","made","mode","xfs","umask","mkdir","er","er2","$e37b96251033eb62cf9b713ce1180532$exports","mkdirp","mkdirSync","err0","err1","pathModule","DEBUG","nextPartRe","splitRootRe","maybeCallback","backtrace","missingCallback","throwDeprecation","noDeprecation","msg","traceDeprecation","trace","rethrow","normalize","seenLinks","knownHard","lstatSync","resolvedLink","isSymbolicLink","linkTarget","dev","ino","readlinkSync","$f0dc84c19961d7ca753d18a5b25d22$exports","$f0dc84c19961d7ca753d18a5b25d22$export$realpathSync","lstat","LOOP","gotResolvedLink","gotStat","gotTarget","readlink","$f0dc84c19961d7ca753d18a5b25d22$export$realpath","origRealpath","origRealpathSync","ok","old","newError","syscall","monkeypatch","unmonkeypatch","$b9ba7db7dc9ddd6b253ae0ea043dc977$exports","$bce9744cde004e00ff4287a1e48e5d0$exports","xs","balanced","str","maybeMatch","pre","post","reg","begs","ai","bi","$c747c8ffc8a4b9c5a988e59701febcc$exports","concatMap","escSlash","escOpen","escClose","escComma","escPeriod","numeric","unescapeBraces","parseCommaParts","postParts","expandTop","expand","escapeBraces","embrace","isPadded","isTop","expansions","isNumericSequence","isAlphaSequence","isSequence","isOptions","incr","abs","need","expansion","$ad89662ded67704b2c51669285563$exports","GLOBSTAR","plTypes","qmark","star","twoStarDot","twoStarNoDot","reSpecials","slashSplit","SUBPARSE","minimatch","nocomment","Minimatch","comment","make","_made","parseNegate","globSet","braceExpand","debug","globParts","si","negateOffset","nonegate","nobrace","isSub","noglobstar","stateChar","hasMagic","nocase","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","dot","clearStateChar","noext","reStart","close","pl","reEnd","cs","sp","$1","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","flags","regExp","_glob","_src","makeRe","twoStar","matchBase","matchOne","flipNegate","$b4cbe58f633d304d9c521f2fb767a8ca$exports","$parcel$missingModule","!","*","def","orig","mm","nonull","fi","pi","fl","hit","fr","pr","swallowee","$f6a76c0c0fe06f44df1232e6ee701ec9$exports","ctor","superCtor","super_","TempCtor","isUnc","$d43d21d75f10f9218f5ef12fcea6cdd4$exports","$d43d21d75f10f9218f5ef12fcea6cdd4$export$posix","$d43d21d75f10f9218f5ef12fcea6cdd4$export$win32","ownProp","field","alphasorti","localeCompare","alphasort","ignoreMap","gmatcher","gpattern","setopts","silent","realpathCache","follow","mark","nodir","nounique","nosort","noprocess","absolute","statCache","symlinks","ignore","setupIgnores","changedCwd","cwdAbs","makeAbs","nomount","finish","nou","literal","_mark","notDir","isIgnored","found","isDir","slash","mabs","childrenIgnored","$f2ce7d8da8dbb8a19d2461475ff401f2$exports","$f2ce7d8da8dbb8a19d2461475ff401f2$export$alphasorti","$f2ce7d8da8dbb8a19d2461475ff401f2$export$setopts","$f2ce7d8da8dbb8a19d2461475ff401f2$export$ownProp","$f2ce7d8da8dbb8a19d2461475ff401f2$export$makeAbs","$f2ce7d8da8dbb8a19d2461475ff401f2$export$finish","$f2ce7d8da8dbb8a19d2461475ff401f2$export$mark","$f2ce7d8da8dbb8a19d2461475ff401f2$export$isIgnored","$f2ce7d8da8dbb8a19d2461475ff401f2$export$childrenIgnored","rp","assert","common","globSync","GlobSync","_process","_finish","$d1e6412dce993f15e2846c86af8cf67a$exports","$b1d16ad7d6917ec5b6516c1ffa761e$init","Glob","matchset","_makeAbs","inGlobStar","_processSimple","read","remain","_processGlobStar","_processReaddir","_readdir","pn","rawGlob","dotOk","matchedEntries","newPattern","_emitMatch","_stat","_readdirInGlobStar","isSym","_readdirEntries","readdirSync","_readdirError","remainWithoutGlobStar","gspref","noGlobStar","instead","below","trail","needDir","wrappy","ret","$f9650447ad7c1d22324513c86d3ef5a6$exports","called","onceStrict","onceError","$a07c08c1fd5d5142a90a5009bf12d$exports","$a07c08c1fd5d5142a90a5009bf12d$export$strict","reqs","inflight","RES","cbs","makeres","$e0162ef7e6cb93f488f8131bde$exports","EE","glob","_didRealPath","_processing","_emitQueue","_processQueue","$b1d16ad7d6917ec5b6516c1ffa761e$exports","_events","EventEmitter","options_","origin","aborted","_didRealpath","_realpath","_realpathSet","real","pq","_processReaddir2","st","lstatcb","readdir","readdirCb","_processGlobStar2","_processSimple2","statcb","_stat2","_0666","defaultGlobOpts","maxBusyTries","emfileWait","disableGlob","rimraf","busyTries","errState","afterGlob","rimraf_","CB","fixWinEPERM","rmdir","unlink","chmod","er3","stats","fixWinEPERMSync","chmodSync","rmdirSync","unlinkSync","originalEr","rmkids","rimrafSync","retries","threw","rmkidsSync","$dc1331d4133d4b82c4ed6b6766e08$exports","BINARY_EXTENSIONS","COMPRESSED_EXTENSIONS","IMAGE_EXTENSIONS","MARKDOWN_EXTENSIONS","Module","checkIfElectron2OrLower","fsPlus","isElectron2OrLower","isMoveTargetValid","isMoveTargetValidSync","isPathValid","lstatSyncNoException","statSyncNoException","_module","$cf1ab94aa5409bdb2897dae738156e2f$init","$e37b96251033eb62cf9b713ce1180532$init","$dc1331d4133d4b82c4ed6b6766e08$init","getHomeDirectory","HOME","USERPROFILE","relativePath","resolveHome","_error","pathToNormalize","tildify","pathToTildify","homeDir","normalized","getAppDataDirectory","APPDATA","pathToCheck","existsSync","isDirectorySync","directoryPath","isFileSync","isSymbolicLinkSync","symlinkPath","isExecutableSync","getSizeSync","listSync","rootPath","filterExtensions","childPath","listTreeSync","onPath","traverseTreeSync","move","isMoveTargetValidErr","isTargetValid","targetParentPath","targetParentExists","makeTree","makeTreeErr","moveSync","makeTreeSync","renameSync","removeSync","pathToRemove","writeFileSync","content","writeFile","destinationPath","destinationStream","sourceStream","createReadStream","createWriteStream","copySync","destinationFilePath","sourceFilePath","copyFileSync","bufferSize","bytesRead","readFd","writeFd","openSync","readSync","writeSync","closeSync","onFile","onDirectory","traverse","linkStats","traverseTree","onDone","md5ForPath","pathToDigest","contents","_crypto","createHash","digest","candidatePath","loadPath","loadPaths","pathToResolve","resolveExtension","resolveOnLoadPath","modulePaths","resourcesPath","globalPaths","extension","pathWithExtension","isCompressedExtension","isImageExtension","isPdfExtension","isBinaryExtension","isReadmePath","readmePath","basename","isMarkdownExtension","isCaseInsensitive","lowerCaseStat","upperCaseStat","caseInsensitiveFs","execPath","isCaseSensitive","electron",".ds_store",".a",".exe",".o",".pyc",".pyo",".so",".woff",".bz2",".egg",".epub",".gem",".gz",".jar",".lz",".lzma",".lzo",".rar",".tar",".tgz",".war",".whl",".xpi",".xz",".z",".zip",".gif",".ico",".jpeg",".jpg",".png",".tif",".tiff",".webp",".markdown",".md",".mdown",".mkd",".mkdown",".rmd",".ron","oldErr","oldStat","newErr","newStat","$c4342490b32fa1b3c9993bdf85f47878$exports","Proxy","MiniEditor","model","buildTextEditor","softWrapped","lineNumberGutterVisible","initialText","moveToEndOfScreenLine","setReadOnly","setGrammar","getModel","readOnly","grammar","textEditors","setGrammarOverride","clearGrammarOverride","RenameView","title","$ef0728e64bfe6f4a73d79b2afa16e$export$MiniEditor","renderValidationMessage","validationMessage","showRenameDialog","autoSelect","invalid","onValidate","registerCommands","abortKeyBinding","$cb59547645b3a3ec47f3f6bf60ee4509$export$isTypescriptGrammar","addWarning","handle","newLocation","$d9c135432fc02cff731e696a75ab827d$export$showRenameDialog","response","oldFilePath","newFilePath","setPath","info","locs","canRename","newName","displayName","fileName","textChanges","killAllServers","histGoBack","histShowHistory","toggleSemanticViewController","showTooltipAt","showSigHelpAt","hideSigHelpAt","rotateSigHelp","toggleFileSymbolsView","toggleProjectSymbolsView","Tooltip","show","hide","tooltipDisposable","tooltips","BuildStatus","hiddenBuildStatus","buildStatusClicked","buildStatus","setHideBuildStatus","buildStatusTimeout","resetBuildStatusTimeout","successStateChanged","cls","$d8a3a7c317a2295aa814c9072de50ae7$export$Tooltip","hideBuildStatus","ConfigPath","tsConfigPath","href","openConfigPath","StatusPanel","pending","progress","renderVersion","renderPending","renderConfigPath","renderStatus","renderProgress","clientVersion","marginLeft","opacity","verticalAlign","$a1f252442d17fba3da1766ea73b485d1$export$ConfigPath","$db10ad849c092cdb99ab6c597708810$export$BuildStatus","EditorPositionHistoryManager","prevCursorPositions","goHistory","currentEditor","maxItems","getHistory","isTextEditor","scrollToCursorPosition","center","OccurenceController","debouncedUpdate","didChangeTimeout","changeDelay","occurrenceMarkers","disposed","shouldHighlight","onDidChangePath","onDidChangeGrammar","clearMarkers","marker","getBufferPosition","newOccurrenceMarkers","getNewOccurrenceMarkers","oldMarker","getBufferRange","markBufferRange","decorateMarker","OccurrenceManager","observeTextEditors","controller","$c2f9b7d0cc4b05aac96f5d53804d80fc$export$OccurenceController","onDidDestroy","adjustElementPosition","box","whiteSpace","bottom","clientWidth","sty","getComputedStyle","offsetWidth","offsetHeight","height","clientHeight","TooltipView","_props$sigHelp","_props$sigHelp2","_this$props$sigHelp","sigHelp","visibleItem","$b185450fc30017d049ae2623ebc069c$export$adjustElementPosition","sigHelpPosition","sigHelpHash","tooltipContents","applicableSpan","newclasses","sig","$dab201586a2899a64a212159b5dad$export$partsToStr","renderSigHelpParams","params","selIdx","TooltipController","cancelled","rawView","$b8e35858dc98f6fd9ea0236dc2588a2$export$TooltipView","updateTooltip","onDidChangeScrollTop","updateTooltipPosition","onDidChangeScrollLeft","isDisposed","curVisItem","tooltipRect","computeTooltipPosition","getMessage","pixelPos","pixelPositionForBufferPosition","linesRect","getBoundingClientRect","lineH","getLineHeightInPixels","parentRect","SigHelpManager","editorMap","stoppedChanging","newRange","containsPoint","showTooltip","getTextEditors","hideTooltipAt","$c2d10e545075a65a0e0a5a50695066d$export$TooltipController","listen","sel","closest","tooltipPosition","curCharPixelPt","nextCharPixelPt","clientX","clientY","$b77cbb15c0019cd5a4264579af769cc$export$TooltipView","TooltipManager","getClientInternal","clearExprTypeTimeout","exprTypeTimeout","hideExpressionType","trackMouseMovement","lastExprTypeBufferPt","getComponent","screenPositionForMouseEvent","bufferPositionForScreenPosition","$b185450fc30017d049ae2623ebc069c$export$bufferPositionFromMouseEvent","pendingTooltip","showExpressionType","tooltipDelay","$a71abeb0571aed39d9066aecee929f9d$export$listen","showExpressionAt","px","mousePositionForPixelPosition","$c23b7e9b0d1bd2a00d6d52de33328955$export$TooltipController","SemanticViewController","pane","paneForURI","itemForURI","toggle","$db8f49cce7129f211e0bbf4eb09833a$export$SemanticView","Tag","navTo","generateFile","getNavTree","parseNavTree","generateProject","currentFileOnly","searchValue","maxResultCount","getNavTo","$beccc585cb4597ef108e8876881439c$export$Tag","fromNavto","parseNavTo","fromNavTree","openTag","initialState","scrollTop","getScrollTop","bufferRanges","$cb4a98561f38d5882c007d2d38d4206a$export$serializeEditorState","$aec24d1bdac5a0903816b244819ff03$export$generateFile","$cb4a98561f38d5882c007d2d38d4206a$export$openTag","setSelectedBufferRanges","setScrollTop","$cb4a98561f38d5882c007d2d38d4206a$export$deserializeEditorState","SymbolsViewController","toggleFileView","$a335dbde1f0865873953e6b24ecdc34$export$toggle","toggleProjectView","$aec24d1bdac5a0903816b244819ff03$export$generateProject","relfile","$b394e95fd8fb85ab6705323d597e8ae7$export$toggle","ErrorPusher","fileGrammars","pushErrors","prefixed","intersectsWith","setErrors","clearFileErrors","linter","clearMessages","setLinter","setAllMessages","getLinterErrors","fileErrors","getGrammar","selectGrammar","diagnostic","reportsUnnecessary","$dab201586a2899a64a212159b5dad$export$checkDiagnosticCategory","$dab201586a2899a64a212159b5dad$export$DiagnosticCategory","Suggestion","severity","getSeverity","excerpt","knownGramamr","selectedGrammar","unusedAsInfo","TypescriptBuffer","debouncedGetErr","events","state","fileContent","getErr","allFiles","openPromise","newPath","onDidSave","doCompileOnSave","onDidChangeText","oldRange","insertString","bufferMap","nb","getInfo","$cb59547645b3a3ec47f3f6bf60ee4509$export$getOpenEditorsPaths","compile","$cb59547645b3a3ec47f3f6bf60ee4509$export$isTypescriptFile","File","$dab201586a2899a64a212159b5dad$export$getProjectConfig","cfg","formatOptions","includeCompletionsWithInsertText","includeCompletionsForModuleExports","quotePreference","importModuleSpecifierEnding","importModuleSpecifierPreference","TypescriptEditorPane","isTypescript","didActivate","reportInfo","onOpened","getActiveTextEditor","checkIfTypescript","$f9c35dd566ab9e1bf81a36b6cc013e95$export$TypescriptBuffer","tep","reportClientInfo","PluginManager","usingBuiltinTooltipManager","usingBuiltinSigHelpManager","restartAllServers","withBuffer","normalizedFilePath","TextBuffer","isModified","save","generator","busySignalService","drawPending","statusPanel","edit","setTextInRange","tooltipManager","sigHelpManager","editorPosHist","goForward","$e3f9fd1660948b6bdd8e4ffc$export$ClientResolver","$d4bcdb08dbb103f42e78fc44f7bf9137$export$StatusPanel","$bb4689a2c8eefc81a41b57$export$ErrorPusher","codefixProvider","$ae375377e224cab4487aecee58073ba$export$CodefixProvider","semanticViewController","$a0fa8b49363c64b0ca28430cbd5ad02$export$SemanticViewController","$cd4eae3e22d330043e7b173fff212124$export$EditorPositionHistoryManager","editorPosHistState","symbolsViewController","$bab387dec3647cf3f5f38831e0d13c43$export$SymbolsViewController","$e5ab73fb735c7e09b166165a108ca$export$TooltipManager","$bdb88a8b44a35be721104402eecee935$export$SigHelpManager","occurrenceManager","$ab7c18d7079ce6c47fe7a8c222cb0a$export$OccurrenceManager","typescriptPaneFactory","$c96dcc406d2a821ae80d33131f1$export$TypescriptEditorPane","createFactory","subscribeEditors","$a5ab39cf99b1be72fe8e6aa08114$export$registerCommands","goBack","showHistory","lookupPane","consumeLinter","register","consumeStatusBar","statusBar","statusPriority","getRightTiles","getItem","getPriority","tile","addRightTile","consumeDatatipService","datatip","preferBuiltinTooltips","addProvider","$a115abaa30435bc755298a78d351e0c9$export$TSDatatipProvider","consumeSigHelpService","registry","preferBuiltinSigHelp","provider","$af622ef83c4a7a780a0072c1c68effe$export$TSSigHelpProvider","consumeBusySignal","preferBuiltinBusySignal","provideAutocomplete","$fb2409ea0ed62c9b639344889375936$export$AutocompleteProvider","provideIntentions","getIntentions","runCodeFix","applyFix","provideIntentionsHighlight","visibleRange","getFixableRanges","created","_opts","provideCodeActions","getCodeActions","_diagnostics","provideHyperclick","wordRegExp","_text","_result$body","resLoc","$b771613e340262cc5844fe152e8ef$export$handleFindReferencesResult","$a072e3edf104a724ef79fac4186b43$export$handleDefinitionResult","provideReferences","isEditorSupported","baseUri","referencedSymbolName","symbolDisplayString","provideOutlines","updateOnEdit","outlineTrees","provideDefinitions","disableAtomIdeDefinitions","queryRange","definitions","provideCodeHighlight","preferBuiltinOccurrenceHighlight","$c194694ca15e1aedecbb2d2d229f227e$export$getCodeHighlightProvider","onDidChangeActiveTextEditor","pluginManager","$ecf00d890c39dfdd9bccf60c29$$interop$default","$f412ee09cb1467264b8fdbf106923b$export$PluginManager","isPackageLoaded","checkAndInstallDependencies","serialized","datatipService"],"version":3,"file":"main.js.map"}